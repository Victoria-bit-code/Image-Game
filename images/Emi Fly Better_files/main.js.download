(window.webpackJsonp=window.webpackJsonp||[]).push([[7],[function(e,t,n){"use strict";e.exports=function(e,t){var n=t.data.root.resources;return n[e]?n[e]:"\x3c!-- MISSING RESOURCE "+e+" --\x3e"}},function(e,t,n){"use strict";e.exports=function(e,t,n,a){var i=a.fn,o=void 0===i?function(){return!0}:i,l=a.inverse,r=void 0===l?function(){return!1}:l;switch(t){case"===":return e===n?o(this):r(this);case"!==":return e!==n?o(this):r(this);case"<":return e<n?o(this):r(this);case"<=":return e<=n?o(this):r(this);case">":return e>n?o(this):r(this);case">=":return e>=n?o(this):r(this);case"&&":return e&&n?o(this):r(this);case"||":return e||n?o(this):r(this);case"includes":return-1!==e.indexOf(n)?o(this):r();case"excludes":return-1===e.indexOf(n)?o(this):r();case"notStartsWith":return e&&0!==e.indexOf(n)?o(this):r(this);case"moduloIf":return parseInt(e)%parseInt(n)==0?o(this):r(this);default:return r(this)}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSel=void 0;var a,i=n(15),o=(a=i)&&a.__esModule?a:{default:a};t.toSel=function(e){return"."+e.replace(/\s/g,".")};t.default=function e(t){var n=t.el,a=t.$el;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=n,this.$el=a,this.publish=o.default.publish}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackBoxeverDebounced=t.BOXEVER_VIEWED_EVENT=t.BOXEVER_CLICKED_EVENT=void 0,t.getBrowserWidth=p,t.getCurrentBreakpoint=f,t.getBreakpoint=function(e){return c[e]},t.getViewportDimensions=function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth)||0,height:Math.max(document.documentElement.clientHeight,window.innerHeight)||0}},t.getScrollHeight=function(){return{height:document.documentElement.scrollHeight||0}},t.setCheckedStatus=function(e,t){e?t.prop("checked",e).attr("checked",e):t.removeAttr("checked");return t.attr("aria-checked",e)},t.lockBody=function(e){if("mobile"!==f().breakpoint&&e)return;var t=(0,i.default)("body");if(e)t.data("scroll-position")||t.data("scroll-position",(0,i.default)(document).scrollTop()).addClass("locked");else{var n=t.data("scroll-position")||0;t.data("scroll-position","").removeClass("locked"),n&&(0,i.default)("html, body").scrollTop(n)}},t.loadScript=function(e){return new Promise(function(t,n){var a=document.createElement("script");a.src=e,a.defer=!0,a.addEventListener("load",function(e){t()},!1),document.head.appendChild(a)})},t.getCookies=m,t.getCookie=function(e){return m()[e]},t.queryStringParams=g,t.toQueryString=function(e,t){if(null!==e){var n=Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");if(t){var a=g();a.utm_source&&(n.utm_source=a.utm_source),a.utm_medium&&(n.utm_medium=a.utm_medium),a.utm_campaign&&(n.utm_campaign=a.utm_campaign),a.utm_content&&(n.utm_content=a.utm_content),a.utm_term&&(n.utm_term=a.utm_term)}return n}return""},t.gaParameters=function(){var e={},t=g();t.utm_source&&(e.utm_source=t.utm_source);t.utm_medium&&(e.utm_medium=t.utm_medium);t.utm_campaign&&(e.utm_campaign=t.utm_campaign);t.utm_content&&(e.utm_content=t.utm_content);t.utm_term&&(e.utm_term=t.utm_term);return e},t.setDateTimeForCulture=function(e){for(var t=(e&&e.jquery?e:(0,i.default)(e)).find(".js-time-date"),n=0;n<t.length;n++){var a=t[n],l=(0,i.default)(a).attr("data-time"),r=(0,o.default)(l).format("ddd, MMMM YY");(0,i.default)(a).html(r)}},t.localeForUrl=function(){var e=window.location.pathname.split("/");switch(e.shift(),e[0]){case"global":return""+e[1];case"english":return"english";default:e[0],e[1]}},t.injectCityNames=function(e){var t=e&&e.jquery?e:(0,i.default)(e);(0,s.getAirports)().then(function(e){var n=e.airportsByIataCode;t.find(".js-city-name-field").each(function(e,t){var a=(0,i.default)(t),o=a.data("iataCode"),r=(0,l.default)(n,o+".shortName","");a.html(r)})})},t.interpolateCityNames=function(e){var t=e&&e.jquery?e:(0,i.default)(e);(0,s.getAirports)().then(function(e){var n=e.airportsByIataCode;t.find(".js-city-name").each(function(e,t){var a=(0,i.default)(t),o=a.data("iataCode"),r=(0,l.default)(n,o+".shortName",""),s=(0,l.default)((0,l.default)(window,"__EK__.resources"),"BookManage/Retrieve-Trips/Widget/dynamic-trip__text");a.html(s.replace(/\{([a-z-0-9]+)\}/gi,r))})})},t.animatedScrollTo=function e(t,n){var a=(window.pageYOffset-t)/2;var o=0;var l=0;var r=performance.now();function s(u){var c=u-r;if((l+=Math.PI/(n/c))>=Math.PI){var d=(0,i.default)(window).scrollTop(),h=(0,i.default)(document).height()-(0,i.default)(window).height();Math.abs(t-d)>1&&Math.abs(h-d)>1&&e(t,n)}else{var p=Math.round(t+a+a*Math.cos(l));window.scrollTo(o,p),r=u,window.requestAnimationFrame(s)}}setTimeout(function(){return window.requestAnimationFrame(s)},50)},t.scrollInElement=function(e,t,n){var a=e.scrollTop(),i=t-a,o=0;Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},function t(){o+=20;var l=Math.easeInOutQuad(o,a,i,n);e.scrollTop(l),o<n&&setTimeout(t,20)}()},t.delay=v,t.retry=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new Promise(function(e){return e(t())}).then(function(e){return e}).catch(function(i){return n>1?v(function(){return e(t,n-1)},a):Promise.reject(i)})},t.numberFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return parseInt(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)},t.isRTL=function(){var e=(0,i.default)("html").attr("dir");return e&&"rtl"===e.toLowerCase()},t.isInViewport=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;var n=window.scrollY||window.pageYOffset,a=e[0].getBoundingClientRect().top+n,i={top:n,bottom:n+window.innerHeight},o={top:a,bottom:a+t?t:e.clientHeight};return o.bottom>=i.top&&o.bottom<=i.bottom||o.top<=i.bottom&&o.top>=i.top};var a=u(n(77)),i=u(n(3)),o=u(n(10)),l=u(n(2)),r=u(n(23)),s=n(11);function u(e){return e&&e.__esModule?e:{default:e}}var c={mobile:0,medium:768,desktop:1024},d=5e3,h=3;t.BOXEVER_CLICKED_EVENT="BOX174_CLICKED",t.BOXEVER_VIEWED_EVENT="BOX174_VIEWED";function p(){return(0,i.default)(window).width()}function f(){var e=p(),t={width:0,breakpoint:""};return(0,a.default)(c,function(n,a){if(e>n)return t.width=n,t.breakpoint=a,!1}),t}function m(){var e={},t=document.cookie.split("; "),n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if((a=t.next()).done)break;i=a.value}var o=i.split("="),l=o[0],r=o[1];e[l]=decodeURIComponent(r)}return e}function g(){var e={};return location.search.slice(location.search.indexOf("?")+1).split("&").map(function(t){var n=t.split("="),a=n[0],i=n[1];e[a]=decodeURIComponent(i)}),e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return new Promise(function(e){return setTimeout(e,t)}).then(function(){return e()})}t.trackBoxeverDebounced=(0,r.default)(function(e,t){var n=window.dataLayer?window.dataLayer[0]:null,a=n?n.pageName:"/ Home",i=t.pathname.split("/");i.shift();var o={channel:"WEB",type:e,page:a,pos:t.host.replace("www.","")+"/"+i[0],browser_id:"undefined"==typeof Boxever?"":Boxever.getID()};"undefined"!=typeof Boxever&&Boxever.eventCreate(o,function(e){},"json")},100)},function(e,t,n){"use strict";e.exports=function(e,t,n){this[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_OPTIONS=void 0,t.getConfig=function(e){return(0,i.default)(l,e)};var a=o(n(12)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)({},(0,i.default)(window,"__EK__.config"),(0,i.default)(window,"__EK__.env"),(0,i.default)(window,"__EK__.urlparser"));t.FETCH_OPTIONS={credentials:"same-origin"}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStationPairsCodes=t.getStationsDetails=t.getOriginsFromAirports=t.getDestinationsHoliday=t.getOriginsHoliday=t.getOrigins=t.getAirports=t.airportsReducer=void 0,t.getClosestOrigin=function(e){return Promise.all([I(),S(e).catch(function(){return $()})]).then(function(e){var t=e[0],n=e[1];return function(e,t){var n=null;return Object.keys(e.airportsByIataCode).map(function(i){if("Yes"===e.airportsByIataCode[i].isEK&&(0,o.default)(e,"airportsByIataCode."+i+".country.code","").toUpperCase()===(0,o.default)(t,"country","").toUpperCase()){var l={latitude:(0,o.default)(e,"airportsByIataCode."+i+".geoCoordinates.latitude",0),longitude:(0,o.default)(e,"airportsByIataCode."+i+".geoCoordinates.longitude",0)},r=(0,a.default)(t,l,{unit:b});(!n||n.distance>r)&&((n=e.airportsByIataCode[i]).distance=r)}}),n}(t,n)})},t.getDestinations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[I(),D({iataCode:e,isReward:t})];return Promise.all(n).then(function(e){var t=e[0],n=e[1];return t.error?[]:k(t.airportsByIataCode,n)})},t.getSuggestedIataCodes=A,t.getSuggestions=function(e){return I().then(function(t){var n=t.airportsByIataCode,a=t.error;if(a)return[];var i=A(n[e]);return k(n,i)})},t.isEk=function(e){return I().then(function(t){var n=t.airportsByIataCode,a=n[e];return!(!a||"Yes"!=a.isEK)})},t.getStationPairs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stationCode,n=e.isRewards,a=void 0!==n&&n,i=e.module,o=void 0===i?"ONLINE_BOOKING":i,l=e.requestedPoint,r=void 0===l?"ORIGIN":l,s=[N(),R({stationCode:t,isRewards:a,module:o,requestedPoint:r})];return Promise.all(s).then(function(e){var t=e[0],n=e[1];if(t.error)return[];var a=t.templates,i=t.stations;return{templates:a,stations:i.filter(function(e){return n.stationCodes.indexOf(e.stationCode)>-1})}})},t.getClosestOriginStation=function(e){return Promise.all([N(),S(e).catch(function(){return $()})]).then(function(e){var t=e[0],n=e[1];return function(e,t){var n=null;if(!e)return;return e.map(function(e){if(e.emiratesOperated&&e.countryCode.toUpperCase()===(0,o.default)(t,"country","").toUpperCase()){var i={latitude:(0,o.default)(e,"geoCoordinates.latitude",0),longitude:(0,o.default)(e,"geoCoordinates.longitude",0)},l=(0,a.default)(t,i,{unit:b});(!n||n.distance>l)&&((n=e).distance=l)}}),n}(t.stations,n)})};var a=v(n(83)),i=v(n(51)),o=v(n(2)),l=v(n(32)),r=v(n(84)),s=v(n(40)),u=v(n(33)),c=v(n(41)),d=v(n(12)),h=v(n(67)),p=v(n(68)),f=n(5),m=n(7),g=n(17);function v(e){return e&&e.__esModule?e:{default:e}}var _={AIRPORTS:"service/airports",ORIGINS:"service/origins/all",ORIGINS_HOLIDAY:"service/holidays/origins",DESTINATIONS_HOLIDAY:"service/holidays/destinations",DESTINATIONS:"service/destinations",ORIGINS_CLOSEST:"service/origins/closest",STATIONS:"service/stations"},y=!0,b="km",w=function(e){return e.results||e},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,(0,s.default)({},t,m.FETCH_OPTIONS)).then(g.checkIsOk).then(g.toJSON).then(w)},k=t.airportsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){return e[t]}).filter(Boolean);return t.sort(function(e,t){var n=(0,o.default)(e,"city.longName"),a=(0,o.default)(t,"city.longName");return n<a?-1:n>a?1:0})};function x(){return(0,p.default)((0,h.default)((0,m.getConfig)("content.language.taxonomyKey").toLowerCase(),"-",1))}function E(){return(0,r.default)(window.__EK__)||(0,r.default)(window.__EK__.contentKey)?void 0===window.__EK__?"en":(0,m.getConfig)("langCode"):window.__EK__.contentKey}function $(){var e=String((0,m.getConfig)("ENABLE_CLIENT_GEO_LOCATION"));return["1","true"].indexOf(e)>-1&&window.navigator&&window.navigator.geolocation?new Promise(function(e,t){window.navigator.geolocation.getCurrentPosition(function(t){e({latitude:t.coords.latitude,longitude:t.coords.longitude})},function(){t()})}):Promise.reject()}function S(e){return new Promise(function(t,n){var a={};void 0!=window[e]?(locaton=window[e],t(a)):Object.defineProperty(window,e,{set:function(e){t(a=e)}})})}var T=(0,i.default)(function(){return(0,f.retry)(function(){return C("/"+_.AIRPORTS+"?lang="+E())})}),D=(0,i.default)(function(e){var t=e.iataCode,n=e.isReward;return C("/"+_.DESTINATIONS+"?code="+t+"&isReward="+n)},JSON.stringify),O=(0,i.default)(function(e){var t=e.isReward;return C("/"+_.ORIGINS+"?isReward="+t)},JSON.stringify),j=(0,i.default)(function(){var e=(0,m.getConfig)("content.country.taxonomyKey").toLowerCase(),t="us"===e?"en":x()+"-"+e;return C("/"+_.ORIGINS_HOLIDAY+"?countryCode="+e+"&cultureCode="+t)},JSON.stringify),M=(0,i.default)(function(e){var t=(0,m.getConfig)("content.country.taxonomyKey").toLowerCase(),n="us"===t?"en":x()+"-"+t;return C("/"+_.DESTINATIONS_HOLIDAY+"?countryCode="+t+"&cultureCode="+n+"&term="+e)},JSON.stringify);function L(e,t,n){return e[n]=(0,d.default)(t,{cleanCity:{longName:(0,u.default)(t.city.longName),shortName:(0,u.default)(t.city.shortName)},cleanCountry:{longName:(0,u.default)(t.country.longName),shortName:(0,u.default)(t.country.shortName)},cleanRegion:{longName:(0,u.default)(t.region.longName)},cleanLongName:(0,u.default)(t.longName)}),e}var I=t.getAirports=(0,i.default)(function(){return T().then(function(e){e=(0,c.default)(e,L,{});var t,n=Object.keys(e).map(function(t){return e[t]}),a=function(e){return e.map(function(e){return e.iataCode})}((t="showAsOrigin",n.filter(function(e){return e[t]===y})));return{airportsByIataCode:e,originsCodes:a}}).catch(function(e){return{error:e,airportsByIataCode:{},originsCodes:[]}})});t.getOrigins=(0,i.default)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[I(),O({isReward:e})];return Promise.all(t).then(function(e){var t=e[0],n=e[1];return k(t.airportsByIataCode,n)})});t.getOriginsHoliday=(0,i.default)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[j({isReward:e})];return Promise.all(t)});t.getDestinationsHoliday=(0,i.default)(function(e){var t=[M(e)];return Promise.all(t)});t.getOriginsFromAirports=(0,i.default)(function(){return I().then(function(e){var t=e.airportsByIataCode,n=e.originsCodes;return k(t,n)})});function A(e){var t=(0,o.default)(e,"sellingPOS");return(0,l.default)(t)?[]:[t]}var N=t.getStationsDetails=(0,i.default)(function(){return C("/"+_.STATIONS+"/content?siteLocale="+(e=(0,h.default)((0,m.getConfig)("content.language.taxonomyKey"),"-"),t=e.length<2?(0,m.getConfig)("content.country.taxonomyKey"):e[1],e[0].toLowerCase()+"-"+t.toUpperCase()));var e,t},JSON.stringify);var R=t.getStationPairsCodes=(0,i.default)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stationCode,n=e.isRewards,a=e.module,i=e.requestedPoint,o=t?_.STATIONS+"/"+t:""+_.STATIONS;return C("/"+o+"?module="+a+"&requestedPoint="+i+"&emiratesRewards="+n)},JSON.stringify)},,function(e,t,n){"use strict";function a(){return"undefined"!=typeof dataLayer}e.exports={pushContentInteractionEvent:function(e){a()&&dataLayer.push({event:"EventTrigger.Common_contentInteraction",category:"Content Interaction",action:e.actionName,label:e.label,value:e.value||0})},pushEvent:function(e){a()&&dataLayer.push({event:e.event,category:e.category,action:e.action,label:e.label,value:e.value||0,cabinClassflightRoute:e.cabinClassflightRoute})},pushVariable:function(e){a()&&""!==e.value&&dataLayer.push({variable_name:e.name,variable_value:e.value})},pushClientErrorEvent:function(e,t){!function(e){if(a()){var t=[e.errorType+":"+e.moduleName+":"+e.errorKey];dataLayer.push({event:"DataPush.Common_siteErrorCode",siteErrorCode:t})}}({errorType:"Client",moduleName:e,errorKey:t})},pushProfileEvent:function(e){var t={event:"DataPush.memberProfileInfo",skywardsProduct:e.skywardsProduct,skywardsProductPackageCode:e.skywardsProductPackageCode};a()&&dataLayer.push(t)},promoShowEvent:function(e){a()&&dataLayer.push({event:"EventTrigger.PageBody_PromoShowTracking",category:"Page Body Interaction",action:"Promotion Shown",label:e.label,value:e.value||0})},promoClickEvent:function(e){a()&&dataLayer.push({event:"EventTrigger.PageBody_PromoClickTracking",category:"Page Body Interaction",action:"Promotion Clicked",label:e.label,value:e.value||0})},pushGAVariable:function(e,t){a()&&(dataLayer[0].skywardsProduct=e,dataLayer[0].skywardsProductPackageCode=t,dataLayer[0].skywardsPackageCode=t)},pushPromoLinkClicked:function(e){a()&&dataLayer.push({event:"promotionClick",ecommerce:{promoClick:{promotions:[{name:"Emirates:Skywards~Eligible for new Skywards Plus product",id:e,creative:"Banner:CTA:Skywards+",position:"home-page-memberprofile-banner~slot1"}]}}})}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toJSON=function(e){return e.json()},t.checkIsOk=function(e){if(!e.ok)throw Error(e.statusText);return e}},,,function(e,t,n){"use strict";var a=n(2),i=n(0),o=n(164),l={default:"ddd MMM DD yyyy HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"h:mm TT",mediumTime:"h:mm:ss TT",longTime:"h:mm:ss TT Z",isoDate:"YYYY-MM-DD",isoTime:"HH:mm:ss",isoDateTime:"YYYY-MM-DD'T'HH:mm:ss",isoUtcDateTime:"UTC:YYYY-MM-DD'T'HH:mm:ss'Z'"},r="",s="",u="",c="",d=function(e){var t=Date.parse(e);return isNaN(t)?Date.parse(e.replace(/-/g,"/")):t};e.exports=function(e,t){var n=t.hash,h=n.key,p=n.format,f=a(t,"data.root.metadata.siteConfigurations")||a(t,"data.root.config")||a(window,"__EK__.config"),m=a(f,"content.language.metadata.cultureConfigurations.content."+h+".title",p);return r=i("Common/Date/calendar-months__text",t),s=i("Common/Date/calendar-months-short__text",t),u=i("Common/Date/calendar-days__text",t),c=i("Common/Date/calendar-days-short__text",t),function(e,t,n){var a=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},i={monthLong:r.split(",").map(o),monthShort:s.split(",").map(o),dayLong:u.split(",").map(o),dayShort:c.split(",").map(o)};if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),e=e?new Date(d(e)):new Date,isNaN(e))throw SyntaxError("invalid date");"UTC:"===(t=String(l[t]||t||l.default)).slice(0,4)&&(t=t.slice(4),n=!0);var h={dayNames:i.dayShort.concat(i.dayLong),monthNames:i.monthShort.concat(i.monthLong)},p=n?"getUTC":"get",f=e[p+"Date"](),m=e[p+"Day"](),g=e[p+"Month"](),v=e[p+"FullYear"](),_=e[p+"Hours"](),y=e[p+"Minutes"](),b=e[p+"Seconds"](),w=e[p+"Milliseconds"](),C=n?0:e.getTimezoneOffset(),k={D:f,DD:a(f),ddd:h.dayNames[m],dddd:h.dayNames[m+7],M:g+1,MM:a(g+1),MMM:h.monthNames[g],MMMM:h.monthNames[g+12],YY:String(v).slice(2),YYYY:v,h:_%12||12,hh:a(_%12||12),H:_,HH:a(_),m:y,mm:a(y),s:b,ss:a(b),l:a(w,3),L:a(w>99?Math.round(w/10):w),t:_<12?"a":"p",tt:_<12?"am":"pm",T:_<12?"A":"P",TT:_<12?"AM":"PM",Z:n?"UTC":(String(e).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(C>0?"-":"+")+a(100*Math.floor(Math.abs(C)/60)+Math.abs(C)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10]};return t.replace(/d{1,4}|D{1,2}|M{1,4}|YY(?:YY)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,function(e){return e in k?k[e]:e.slice(1,e.length-1)})}(e,m)}},,function(e,t,n){"use strict";e.exports=function(e){return"string"==typeof e?e.toLowerCase():""}},,,,,,,function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(567);e.exports=function(e,t){if(e){var n=e.match(RegExp(/\{\{([a-z-0-9]+)\}\}/gi));if(!n)return e;if("string"==typeof t)try{t=JSON.parse(t)}catch(n){console.error('Interpolate helper: Could not parse JSON from "'+t+'" for "'+e+'".',n)}var o=/\{\{([a-z-0-9]+)\}\}/i;return n.reduce(function(n,l){var r=RegExp(o).exec(l)[1];return"object"===(void 0===t?"undefined":a(t))&&!t.error&&Object.hasOwnProperty.call(t,r)?n.replace(l,i(t[r])):(console.error('Interpolate helper: Could not replace "'+r+'" in incoming template data object for "'+e+'".'),n)},e)}return""}},,,,,,,function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.filter(function(e){return("string"==typeof e||"number"==typeof e)&&""!==String(e).trim()}).join(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterComponents=function(e){return e.reduce(function(e,t){if(!e)return e;var n=t.instances,a=t.constructor;if(!n||!a)return!1;for(var i=n,o=Array.isArray(i),l=0,i=o?i:i[Symbol.iterator]();;){var r;if(o){if(l>=i.length)break;r=i[l++]}else{if((l=i.next()).done)break;r=l.value}var u=r;"function"==typeof u.destroy&&u.destroy();for(var c=Object.keys(a.events),d=Array.isArray(c),h=0,c=d?c:c[Symbol.iterator]();;){var p;if(d){if(h>=c.length)break;p=c[h++]}else{if((h=c.next()).done)break;p=h.value}var f=p,m=s(f),g=m[0],v=m[1];u.$el.off(g,v,u["__"+a.events[f]])}delete u.el,delete u.$el}return delete t.instances,delete t.constructor,!0},!0)},t.registerComponents=function(e){return e.map(function(e){var t=(0,i.default)(e,"default",e||{});if(t.selector){var n=(0,a.default)(t.selector).toArray();return{instances:n.map(c(t)),constructor:t}}}).filter(function(e){return Boolean(e)})},t.registerComponentsByCustomSelector=function(e,t){return e.map(function(e){var n=(0,i.default)(e,"default",e||{});if(n.selector){var o=(0,a.default)(t?t+" "+n.selector:n.selector).toArray();return{instances:o.map(c(n)),constructor:n}}}).filter(function(e){return Boolean(e)})};var a=r(n(3)),i=r(n(2)),o=r(n(39)),l=n(53);function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return(/^([^\s]+)(?:\s(.*))?$/.exec(e)||[]).slice(1)},u=function(e){return e.split(".")[1]},c=function(e){return function(t){var n=(0,a.default)(t),i=new e({el:t,$el:n});return e.events&&function(e,t,n){Object.keys(e).forEach(function(a){var i=s(a),r=i[0],c=i[1],d=e[a];if(!(0,o.default)(t[d]))throw new Error("Tried to bind a "+r+' to an undefined method "'+d+'" on '+t.constructor.name+".");t["__"+d]=function(){return t[d].apply(t,arguments)},u(r)?(0,l.bindCustomEventHandler)(r,t["__"+d],n):n.on(r,c,t["__"+d])})}(e.events,i,n),i}}},,,,,function(e,t,n){"use strict";e.exports=function(e){return"1"===e.stationType||"BUS"===e.stationType?'<i class="icon icon-bus" aria-hidden="true"></i>':"2"===e.stationType||"TRAIN"===e.stationType?'<i class="icon icon-train" aria-hidden="true"></i>':"Yes"===e.isEK||!0===e.emiratesOperated?'<i class="icon icon-tailfin-ek" aria-hidden="true"></i>':void 0}},,,,,,function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.element:t,t))},3:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return'a href="'+(null!=(o=e.lambda(null!=t?t.externalLink:t,t))?o:"")+'" '+(null!=(o=n.if.call(l,null!=t?t.isFeaturedFares:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.analyticsLabel:t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.target:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?o:"")},4:function(e,t,a,o,l){var r=e.escapeExpression;return' aria-live="on" aria-label="'+r(i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Featured-Fares/announcement-destinations-from__text",{name:"resource",hash:{},data:l}))+" "+r(e.lambda(null!=t?t.label:t,t))+'"'},6:function(e,t,n,a,i){var o=e.lambda,l=e.escapeExpression;return'data-id="'+l(o(null!=t?t.analyticsId:t,t))+'" data-link="'+l(o(null!=t?t.analyticsLabel:t,t))+'" '},8:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return'target="'+e.escapeExpression(e.lambda(null!=t?t.target:t,t))+'" '+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.externalLink:t,"notStartsWith","/",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(s,null!=t?t.target:t,"===","_blank",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")},9:function(e,t,n,a,i){return'rel="noreferrer"'},11:function(e,t,n,a,i){return"cta--"+e.escapeExpression(e.lambda(null!=t?t.size:t,t))},13:function(e,t,n,a,i){return"cta--"+e.escapeExpression(e.lambda(null!=t?t.type:t,t))},15:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.class:t,t))},17:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.customClass:t,t))},19:function(e,t,n,a,i){return"disabled "},21:function(e,t,n,a,i){var o;return null!=(o=e.lambda(null!=t?t.attrs:t,t))?o:""},23:function(e,t,n,a,i){var o;return'type="'+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isSubmit:t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))?o:"")+'"'},24:function(e,t,n,a,i){return"submit"},26:function(e,t,n,a,i){return"button"},28:function(e,t,n,a,i){return'role="'+e.escapeExpression(e.lambda(null!=t?t.role:t,t))+'"'},30:function(e,t,n,a,i){return'aria-label="'+e.escapeExpression(e.lambda(null!=t?t.ariaLabel:t,t))+'"'},32:function(e,t,n,a,i){return'aria-expanded="true"'},34:function(e,t,n,a,i){return'<span class="visually-hidden">'+e.escapeExpression(e.lambda(null!=t?t.srLabel:t,t))+"</span>"},36:function(e,t,n,a,i){return'  <span class="visually-hidden should-expand-collapse-announce" ></span> '},38:function(e,t,n,a,i){return'<span class="sr-end"></span>'},40:function(e,t,n,a,i){return'aria-hidden="true"'},42:function(e,t,n,a,i){return'aria-live="off"'},44:function(e,t,a,o,l){var r;return' <i class="icon icon-external-link"><span class="visually-hidden">'+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Accessibility/opens-in-new-tab__text",{name:"resource",hash:{},data:l}))?r:"")+"</span></i> "},46:function(e,t,n,a,i){var o;return" "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" "},48:function(e,t,n,a,i){return"a"},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return"<"+(null!=(r=a.if.call(s,null!=t?t.element:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?r:"")+' class="cta '+(null!=(r=a.if.call(s,null!=t?t.size:t,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.type:t,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.class:t,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.customClass:t,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?r:"")+'" '+(null!=(r=a.if.call(s,null!=t?t.disabled:t,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.attrs:t,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,null!=t?t.element:t,"===","button",{name:"op",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.role:t,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=a.if.call(s,null!=t?t.ariaLabel:t,{name:"if",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.ctaAriaExpanded:t,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?r:"")+"> "+(null!=(r=a.if.call(s,null!=t?t.srLabel:t,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.shouldExpandCollapseAnnounce:t,{name:"if",hash:{},fn:e.program(36,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.srLinkEnd:t,{name:"if",hash:{},fn:e.program(38,l,0),inverse:e.noop,data:l}))?r:"")+' <span class="js-label cta__text" '+(null!=(r=a.if.call(s,null!=t?t.srLabel:t,{name:"if",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=t?t.isFeaturedFares:t,{name:"if",hash:{},fn:e.program(42,l,0),inverse:e.noop,data:l}))?r:"")+">"+e.escapeExpression(e.lambda(null!=t?t.label:t,t))+"</span> "+(null!=(r=a.if.call(s,null!=t?t.showExternalIcon:t,{name:"if",hash:{},fn:e.program(44,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,l&&l["partial-block"],{name:"if",hash:{},fn:e.program(46,l,0),inverse:e.noop,data:l}))?r:"")+" </"+(null!=(r=a.if.call(s,null!=t?t.element:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(48,l,0),data:l}))?r:"")+">"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";var a=n(585);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReferrerId=c,t.getConfigServerData=function(e,t){var n=e&&e.split("-")[1],o=JSON.parse(t),s={};if(Object.keys(o).length>0){var d=c(o,n);d.length>0&&(s=fetch("/"+u,l.FETCH_OPTIONS).then(r.checkIsOk).then(r.toJSON).then(function(e){var t=(0,a.default)(e,"partner.category",""),o=(0,a.default)(e,"partner.promoDetails",[]),l=(0,i.default)(o,function(e){return e[d]});return{category:t,details:l?l[0]&&l[0][d]||"":{},tcmId:n||""}}))}return new Promise(function(e){e(s)})};var a=s(n(2)),i=s(n(96)),o=s(n(300)),l=n(7),r=n(17);function s(e){return e&&e.__esModule?e:{default:e}}var u="service/barclays-config-data";function c(e,t){var n=[];return(0,o.default)(e,function(a,i){e[i][t]&&n.push(e[i][t])}),n[0]||n}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEventManager=void 0,t.bindCustomEventHandler=function(e,t,n){(window.EKCustomEventHandler||new r).bindClassEventHandler(e,t,n)};var a=l(n(54)),i=l(n(57)),o=l(n(15));function l(e){return e&&e.__esModule?e:{default:e}}var r=t.CustomEventManager=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.breakpoints={mobile:768,medium:768,desktop:1023},this.EKresizeEventHandler=!1,this.EKglobalEventHandler=!1,window.EKCustomEventHandler=this}return e.prototype.bindClassEventHandler=function(e,t,n){var a=e.split("."),i=a[0],l=a[1];"global"===i&&this.createGlobalEventHandler(l),"breakpoint"===i&&this.createBreakpointEventHandler(l,t),o.default.subscribe(e,t)},e.prototype.createBreakpointEventHandler=function(e,t){this.checkForBreakpointHandler().applyEvent(e)&&t()},e.prototype.createGlobalEventHandler=function(e){this.checkForGlobalEventHandler().applyEvent(e)},e.prototype.checkForBreakpointHandler=function(){return this.EKresizeEventHandler=this.EKresizeEventHandler||new i.default(this.breakpoints),this.EKresizeEventHandler},e.prototype.checkForGlobalEventHandler=function(){return this.EKglobalEventHandler=this.EKglobalEventHandler||new a.default,this.EKglobalEventHandler},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(55)),i=r(n(3)),o=r(n(15)),l=n(5);function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={events:{scroll:[],resize:[]},debounce:50,boundEvents:{}},this.$window=(0,i.default)(window),this.pubSub=o.default}return e.prototype.getData=function(e){var t=void 0;switch(e){case"scroll":t=this.$window.scrollTop();break;case"resize":t=(0,l.getBrowserWidth)()}return t},e.prototype.firstTimeEventBind=function(e){this.options.boundEvents[e]=this.bindDebouncedEvent(e)},e.prototype.sendToPubSub=function(e){var t=this.getData(e);this.pubSub.publish("global."+e,t)},e.prototype.bindDebouncedEvent=function(e){var t=this;return this.$window.on(e,(0,a.default)(function(n){t.sendToPubSub(e)},this.debounce))},e.prototype.applyEvent=function(e){var t=this.options,n=t.events,a=t.boundEvents;n.hasOwnProperty(e)&&(a[e]||(this.firstTimeEventBind(e),this.options.boundEvents[e]=!0))},e}();t.default=s},,,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(118)),i=o(n(15));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={mediaListeners:[]},!e)throw new Error("You need to provide a set of breakpoints");this.options.breakpoints=e,this.firstConfigure()}return t.prototype.firstConfigure=function(){this.createMatchMediaQueries(this.options.breakpoints)},t.prototype.createMatchMediaQueries=function(e){var t=this;(0,a.default)(e,function(e,n){var a=t.createMatchMediaQuery(e,n),i=t.bindMediaListener(a,n);t.options.mediaListeners[n]=i})},t.prototype.createMatchMediaQuery=function(t,n){return"mobile"===n?e.matchMedia("screen and (max-width:"+t+"px)"):e.matchMedia("screen and (min-width:"+(t+1)+"px)")},t.prototype.bindMediaListener=function(e,t){var n=this;return e.addListener(function(e){n.fireLinkedEvents(e,t)}),e},t.prototype.fireLinkedEvents=function(e,t){e.matches&&this.fireEvents(t)},t.prototype.fireEvents=function(e){i.default.publish("breakpoint."+e)},t.prototype.applyEvent=function(e){if(this.options.mediaListeners.hasOwnProperty(e))return this.options.mediaListeners[e].matches;throw new Error(format("Tried to bind a breakpoint named %s that was not found in breakpoints",e))},t}();t.default=l}).call(this,n(30))},,,,,function(e,t,n){"use strict";var a=n(2);e.exports=function(e,t){var n=a(t,"hash"," ").separator;return parseInt(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)}},,,,,,,,,function(e,t,n){"use strict";var a=n(10);e.exports=function(e,t,n,i,o){var l=n&&parseInt(n.replace("EK",""),10),r=isNaN(l)?n:l,s=i&&a(i).format("YYMMDD"),u="",c="";switch(e){case"womf":u=t.url,c=o?"?service=home&FlNo="+r+"&depDate="+s+"&class="+o:"?service=home&FlNo="+r+"&depDate="+s;break;case"status":u=t.url,c="?flight="+r+"&date="+s;break;case"womf-upcoming-flights":case"status-upcoming-flights":u=t.url}return""+u+c}},function(e,t,n){"use strict";e.exports=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{hash:{}};return e?(a.hash.regex&&(t=new RegExp(t)),e.replace(t,n)):e}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(563),i=s(a),o=n(564),l=s(o),r=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var u={DEFAULT:0,LOCAL_STORAGE:1,COOKIE:2},c=function(){function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=(0,r.default)({},{type:u.DEFAULT},t),this.options.prefix||(this.options.noPrefix=!0),this.options.type){case u.LOCAL_STORAGE:(0,a.hasLocalStorage)()?this.storageProvider=new i.default:(0,o.hasCookies)()?this.storageProvider=new l.default:console.error("LocalStorage and Cookie are not supported in this browser");break;case u.COOKIE:(0,o.hasCookies)()?this.storageProvider=new l.default:console.error("Cookie is not supported in this browser");break;default:(0,a.hasLocalStorage)()?this.storageProvider=new i.default:(0,o.hasCookies)()?this.storageProvider=new l.default:console.error("LocalStorage and Cookie are not supported in this browser")}}return e.getStorageTypes=function(){return u},e.prototype.set=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)throw new TypeError("key and value parameters are required.");var a=this.getPrefixedKey(e,(0,r.default)(this.options,n));try{"string"==typeof t?this.storageProvider.setItem(a,t,n):this.storageProvider.setItem(a,JSON.stringify(t),n)}catch(n){console.warn("Store didn't successfully save the "+e+" : "+t+" pair, because the localStorage is full.")}},e.prototype.get=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{json:!0};if(!e)throw new TypeError("key parameter is required.");var a=this.getPrefixedKey(e,(0,r.default)(this.options,n)),i=void 0;try{i=n.json?JSON.parse(this.storageProvider.getItem(a)):this.storageProvider.getItem(a)}catch(e){i=null}return i||t},e.prototype.getAll=function(e){var t=this,n=this.keys();return e?n.reduce(function(e,n){var a={};return a[n]=t.get(n),e.push(a),e},[]):n.map(function(e){return t.get(e)})},e.prototype.keys=function(){var e=this.options&&this.options.prefix||"EK:",t=[],n=this.storageProvider.getKeys();return 0===e.length?n:(n.forEach(function(n){-1!==n.indexOf(e)&&t.push(n.replace(e,""))}),t)},e.prototype.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new TypeError("key parameter is required.");var n=this.getPrefixedKey(e,(0,r.default)(this.options,t));this.storageProvider.removeItem(n)},e.prototype.flush=function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==(this.options&&this.options.prefix||"EK:").length?this.keys().forEach(function(t){return e.storageProvider.removeItem(e.getPrefixedKey(t))}):this.storageProvider.clearAll()},e.prototype.getPrefixedKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.noPrefix?e:t.prefix?t.prefix+e:"EK:"+e},e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=window.CalendarConfig;a||(a={monthLong:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayLong:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayShortest:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDay:1,dateFormat:"DD MMM YY",dateFormatTitle:"MMMM YYYY",srDateFormat:"dddd, DD MMMM YYYY"});var i,o,l,r,s=t.dateFormat=(i=/d{1,4}|D{1,2}|M{1,4}|YY(?:YY)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},function(e,t,n){var u=s;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");"UTC:"===(t=String(u.masks[t]||t||u.masks.default)).slice(0,4)&&(t=t.slice(4),n=!0),u.i18n={dayNames:a.dayShort.concat(a.dayLong),monthNames:a.monthShort.concat(a.monthLong)};var c=n?"getUTC":"get",d=e[c+"Date"](),h=e[c+"Day"](),p=e[c+"Month"](),f=e[c+"FullYear"](),m=e[c+"Hours"](),g=e[c+"Minutes"](),v=e[c+"Seconds"](),_=e[c+"Milliseconds"](),y=n?0:e.getTimezoneOffset(),b={D:d,DD:r(d),ddd:u.i18n.dayNames[h],dddd:u.i18n.dayNames[h+7],M:p+1,MM:r(p+1),MMM:u.i18n.monthNames[p],MMMM:u.i18n.monthNames[p+12],YY:String(f).slice(2),YYYY:f,h:m%12||12,hh:r(m%12||12),H:m,HH:r(m),m:g,mm:r(g),s:v,ss:r(v),l:r(_,3),L:r(_>99?Math.round(_/10):_),t:m<12?"a":"p",tt:m<12?"am":"pm",T:m<12?"A":"P",TT:m<12?"AM":"PM",Z:n?"UTC":(String(e).match(o)||[""]).pop().replace(l,""),o:(y>0?"-":"+")+r(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return t.replace(i,function(e){return e in b?b[e]:e.slice(1,e.length-1)})});s.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/d/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"h:mm TT",mediumTime:"h:mm:ss TT",longTime:"h:mm:ss TT Z",isoDate:"yyyy-MM-dd",isoTime:"HH:mm:ss",isoDateTime:"yyyy-MM-dd'T'HH:mm:ss",isoUtcDateTime:"UTC:yyyy-MM-dd'T'HH:mm:ss'Z'"};t.CalendarConfig=a,t.TYPES={ONEWAY:1,RETURN:2},t.MONTHS={0:{label:"January"}}},function(e,t,n){"use strict";var a=n(299);e.exports=function(e){return a(e)>0}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=function(e,t){var n=0,a=e.adults,i=e.children,o=(e.infants,e.youths);return a&&(n+=+a),i&&(n+=+i),o&&(n+=+o),n}},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collapseAllPopups=function(){for(var e in a)window.popups[e].collapse()},t.collapseAllPopupsExcept=function(e){for(var t in a)t!=e&&window.popups[t].collapse()},t.registerPopup=function(e,t){a[e]=t,window.popups=a};t.mobileBreakpoint=1024,t.eventKeyCode={ESC:27,TAB:9,ENTER:13,ARROW_DOWN:40,ARROW_UP:38,ARROW_LEFT:37,ARROW_RIGHT:39},t.fuseOptions={shouldSort:!0,findAllMatches:!0,tokenize:!0,matchAllTokens:!0,includeScore:!0,includeMatches:!0,threshold:.1,location:0,distance:0,maxPatternLength:32,minMatchCharLength:2,keys:[{name:"languages.countryTitle",weight:.9},{name:"code",weight:.8},{name:"languages.alternateNames",weight:.6},{name:"a3Code",weight:.4},{name:"languages.language",weight:.3},{name:"languages.languageTitle",weight:.2}]};"undefined"!=typeof window&&void 0===window.popups&&(window.popups={});var a=window.popups},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadStyle=function(e){return new Promise(function(t,n){var a=document.createElement("link");a.rel="stylesheet",a.href=e,a.addEventListener("load",function(e){t()},!1),document.head.appendChild(a)})},t.loadScript=function(e,t,n){if(!n)return null;return new Promise(function(n){var a=document.createElement("script");a.type="text/javascript",a.src=e,a.async=!0,a.crossorigin="anonymous",a.setAttribute("defer",""),t?a.type="module":a.setAttribute("nomodule",""),a.addEventListener("load",function(){n()},!1),document.head.appendChild(a)})},function(e,t){var n=Array.prototype;n.map||(n.map=function(e){for(var t=[],n=0;n<this.length;n++)t.push(e(this[n]));return t}),function(){if(!e.__EK__.env.BROWSER_INCOMPATIBILITY)return!1;var n=function(){var t,n=e.navigator.userAgent,a=n.match(/(iemobile(?=\/))\/?\s*(\d+)/i)||[];if(/iemobile/i.test(a[1]))return{name:"IEMobile",version:a[2]};var i=n.match(/(opera|chrome|safari|firefox|msie|trident|edge(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(i[1]))return{name:"IE",version:(/\brv[ :]+(\d+)/g.exec(n)||[])[1]||""};if("Chrome"===i[1]){if(t=n.match(/\bOPR|Edge\/(\d+)/),null!=n.match(/\bEdge\/(\d+)/))return{name:"Edge",version:n.match(/\bEdge\/(\d+)/)[1]};if(null!=n.match(/\bOPR\/(\d+)/))return{name:"Opera",version:n.match(/\bOPR\/(\d+)/)[1]}}return i=i[2]?[i[1],i[2]]:[e.navigator.appName,e.navigator.appVersion,"-?"],null!=(t=n.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),{name:i[0],version:i[1]}}();if(e.__EK__.env.BROWSER_INCOMPATIBILITY.split(";").map(function(e){return n.name.indexOf(e.split(":")[0])>-1&&parseInt(n.version)<=parseInt(e.split(":")[1])}).join(",").indexOf("true")>-1){var a=t.createElement("script");a.src=e.__EK__.env.MEDIA_URL+"/assets/scripts/browser.js";var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(a,i)}}()}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FF_MODULE_KEY="geoip_ff",t.SF_MODULE_KEY="geoip_sf",t.SH_MODULE_KEY="geoip_sh",t.ACCOUNT_CONSTANTS={ADM:"bradmin",EMP:"bremployee",BUSINESS_REWARDS:"Business Rewards",STATUS:{SKYWARDS:"SKYWARDS",BLUE:"BLUE"}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(9);e.exports=(a.default||a).template({1:function(e,t,n,a,i){var o;return"content-split__"+e.escapeExpression("function"==typeof(o=null!=(o=n.class||(null!=t?t.class:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"class",hash:{},data:i}):o)},3:function(e,t,n,a,i){var o;return' <div class="content-split__label-container"><span class="content-split__label">'+e.escapeExpression("function"==typeof(o=null!=(o=n.label||(null!=t?t.label:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:i}):o)+"</span></div> "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return'<div class="content-split"><hr class="content-split__hr '+(null!=(o=n.if.call(l,null!=t?t.class:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'" /> '+(null!=(o=n.if.call(l,null!=t?t.label:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+" </div>"},useData:!0})},function(e,t,n){var a=n(9);e.exports=(a.default||a).template({1:function(e,t,n,a,i){return"field--error"},3:function(e,t,n,a,i){var o;return e.escapeExpression("function"==typeof(o=null!=(o=n.wrapperClass||(null!=t?t.wrapperClass:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"wrapperClass",hash:{},data:i}):o)},5:function(e,t,n,a,i){return"field--has-help"},7:function(e,t,n,a,i){var o;return" tabindex="+e.escapeExpression("function"==typeof(o=null!=(o=n.labelTabIndex||(null!=t?t.labelTabIndex:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"labelTabIndex",hash:{},data:i}):o)},9:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{},r=n.helperMissing,s=e.escapeExpression;return'<p id="field-prefix-'+s("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:r)?o.call(l,{name:"id",hash:{},data:i}):o)+'" class="field__prefix">'+s("function"==typeof(o=null!=(o=n.prefix||(null!=t?t.prefix:t))?o:r)?o.call(l,{name:"prefix",hash:{},data:i}):o)+"</p>"},11:function(e,t,n,a,i){return" field__input--uppercase "},13:function(e,t,n,a,i){var o;return e.escapeExpression("function"==typeof(o=null!=(o=n.class||(null!=t?t.class:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"class",hash:{},data:i}):o)},15:function(e,t,n,a,i){var o;return e.escapeExpression("function"==typeof(o=null!=(o=n.type||(null!=t?t.type:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"type",hash:{},data:i}):o)},17:function(e,t,n,a,i){return"text"},19:function(e,t,n,a,i){var o;return' data-alt-placeholder="'+e.escapeExpression("function"==typeof(o=null!=(o=n.altPlaceholder||(null!=t?t.altPlaceholder:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"altPlaceholder",hash:{},data:i}):o)+'"'},21:function(e,t,n,a,i){var o;return e.escapeExpression("function"==typeof(o=null!=(o=n.attrs||(null!=t?t.attrs:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"attrs",hash:{},data:i}):o)},23:function(e,t,n,a,i){var o;return'autocomplete="'+e.escapeExpression("function"==typeof(o=null!=(o=n.autocomplete||(null!=t?t.autocomplete:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"autocomplete",hash:{},data:i}):o)+'"'},25:function(e,t,n,a,i){var o;return'autocorrect="'+e.escapeExpression("function"==typeof(o=null!=(o=n.autocorrect||(null!=t?t.autocorrect:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"autocorrect",hash:{},data:i}):o)+'"'},27:function(e,t,n,a,i){var o;return'autocapitalize="'+e.escapeExpression("function"==typeof(o=null!=(o=n.autocapitalize||(null!=t?t.autocapitalize:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"autocapitalize",hash:{},data:i}):o)+'"'},29:function(e,t,n,a,i){var o;return'maxlength="'+e.escapeExpression("function"==typeof(o=null!=(o=n.maxlength||(null!=t?t.maxlength:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"maxlength",hash:{},data:i}):o)+'"'},31:function(e,t,n,a,i){return"disabled"},33:function(e,t,n,a,i){return"required"},35:function(e,t,n,a,i){var o;return'aria-describedby="field-prefix-'+e.escapeExpression("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:i}):o)+'"'},37:function(e,t,n,a,i){var o;return'aria-describedby="'+e.escapeExpression("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:i}):o)+'-description"'},39:function(e,t,n,a,i){return'readonly aria-readonly="true"'},41:function(e,t,n,a,i){var o;return' data-prefix="'+e.escapeExpression("function"==typeof(o=null!=(o=n.prefix||(null!=t?t.prefix:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"prefix",hash:{},data:i}):o)+'"'},43:function(e,t,n,a,i){var o;return'id="'+e.escapeExpression("function"==typeof(o=null!=(o=n.id||(null!=t?t.id:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"id",hash:{},data:i}):o)+'"'},45:function(e,t,n,a,i){var o;return'data-init-value="'+e.escapeExpression("function"==typeof(o=null!=(o=n.initValue||(null!=t?t.initValue:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"initValue",hash:{},data:i}):o)+'"'},47:function(e,t,n,a,i){var o;return'aria-autocomplete="'+e.escapeExpression("function"==typeof(o=null!=(o=n.ariaAutocomplete||(null!=t?t.ariaAutocomplete:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"ariaAutocomplete",hash:{},data:i}):o)+'" '},49:function(e,t,n,a,i){var o;return'role="'+e.escapeExpression("function"==typeof(o=null!=(o=n.role||(null!=t?t.role:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"role",hash:{},data:i}):o)+'" aria-expanded="false" '},51:function(e,t,n,a,i){var o;return'aria-label="'+e.escapeExpression("function"==typeof(o=null!=(o=n.ariaLabel||(null!=t?t.ariaLabel:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"ariaLabel",hash:{},data:i}):o)+'"'},53:function(e,t,n,a,i){var o;return'aria-live="'+e.escapeExpression("function"==typeof(o=null!=(o=n.ariaLive||(null!=t?t.ariaLive:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"ariaLive",hash:{},data:i}):o)+'" '},55:function(e,t,n,a,i){var o;return'data-mask="'+e.escapeExpression("function"==typeof(o=null!=(o=n.dataMask||(null!=t?t.dataMask:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"dataMask",hash:{},data:i}):o)+'" '},57:function(e,t,n,a,i){var o;return' <div aria-live="assertive" class="screen-reader-text" '+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.includeSearchResultId:t,{name:"if",hash:{},fn:e.program(58,i,0),inverse:e.noop,data:i}))?o:"")+"></div> "},58:function(e,t,n,a,i){var o;return' id = "'+e.escapeExpression("function"==typeof(o=null!=(o=n.includeSearchResultId||(null!=t?t.includeSearchResultId:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"includeSearchResultId",hash:{},data:i}):o)+'" '},60:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{},r=n.helperMissing,s=e.escapeExpression;return' <span hidden class="hidden_description" id="'+s("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:r)?o.call(l,{name:"name",hash:{},data:i}):o)+'-description">'+s("function"==typeof(o=null!=(o=n.described||(null!=t?t.described:t))?o:r)?o.call(l,{name:"described",hash:{},data:i}):o)+"</span> "},62:function(e,t,n,a,i){var o;return' <p class="field__error js-error p12" aria-live="polite" role="alert">'+e.escapeExpression("function"==typeof(o=null!=(o=n.fieldError||(null!=t?t.fieldError:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"fieldError",hash:{},data:i}):o)+"</p> "},64:function(e,t,n,a,i){var o;return" "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var o,l,r=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<div class="field '+(null!=(o=n.if.call(r,null!=t?t.isError:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+" js-fields "+(null!=(o=n.if.call(r,null!=t?t.wrapperClass:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+(null!=(o=n.if.call(r,null!=t?t.hasHelp:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?o:"")+'"><label class="field__text" for="'+u("function"==typeof(l=null!=(l=n.id||(null!=t?t.id:t))?l:s)?l.call(r,{name:"id",hash:{},data:i}):l)+'" '+(null!=(o=n.if.call(r,null!=t?t.labelTabIndex:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?o:"")+">"+u("function"==typeof(l=null!=(l=n.placeholder||(null!=t?t.placeholder:t))?l:s)?l.call(r,{name:"placeholder",hash:{},data:i}):l)+"</label> "+(null!=(o=n.if.call(r,null!=t?t.prefix:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?o:"")+' <input class="js-field-input field__input '+(null!=(o=n.if.call(r,null!=t?t.isUppercase:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?o:"")+(null!=(o=n.if.call(r,null!=t?t.class:t,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?o:"")+'" type="'+(null!=(o=n.if.call(r,null!=t?t.type:t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(17,i,0),data:i}))?o:"")+'" name="'+u("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:s)?l.call(r,{name:"name",hash:{},data:i}):l)+'" '+(null!=(o=n.if.call(r,null!=t?t.altPlaceholder:t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.attrs:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.autocomplete:t,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.autocorrect:t,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.autocapitalize:t,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.maxlength:t,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.disabled:t,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.isRequired:t,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.describeprefix:t,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.described:t,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.prefix:t,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.id:t,{name:"if",hash:{},fn:e.program(43,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.initValue:t,{name:"if",hash:{},fn:e.program(45,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.ariaAutocomplete:t,{name:"if",hash:{},fn:e.program(47,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.role:t,{name:"if",hash:{},fn:e.program(49,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.ariaLabel:t,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.ariaLive:t,{name:"if",hash:{},fn:e.program(53,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.dataMask:t,{name:"if",hash:{},fn:e.program(55,i,0),inverse:e.noop,data:i}))?o:"")+" > "+(null!=(o=n.if.call(r,null!=t?t.includeSearchResult:t,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.described:t,{name:"if",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,null!=t?t.fieldError:t,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(r,i&&i["partial-block"],{name:"if",hash:{},fn:e.program(64,i,0),inverse:e.noop,data:i}))?o:"")+" </div>"},usePartial:!0,useData:!0})},function(e,t,n){"use strict";n(193)},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t){return e||t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(4));n(391);var i=r(n(3)),o=n(5),l=r(n(163));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={isActive:"field__input--active",active:"field--active",focusVisible:"field--focus",clearInputBtn:"clear-field--active",patternNumeric:/\d/},i.keyCodes={8:"Backspace",37:"LeftArrow",39:"RightArrow",46:"Delete"},i.$fieldIndicator=i.$el.find(".field__indicator"),i.$input=i.$el.find("input"),i.initValue(),i.defaultValue=i.$input.prop("defaultValue"),i.state={prefixPaddingAdded:!1,fieldType:i.$input.attr("type")},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initValue=function(){var e=this.$input.data("init-value");e?(this.$input.val(e),this.addIndicator(!1),this.$el.find(".clear-field").addClass(this.options.clearInputBtn)):this.$input.val("")},t.prototype.clearInput=function(e){this.defaultValue?this.$input.val(this.defaultValue):this.$input.val(""),this.$el.find(".clear-field").removeClass(this.options.clearInputBtn),this.publish("input.cleared",{value:this.$input.val(),name:this.$input[0].name}),this.$input.focus()},t.prototype.hasChanged=function(e){e.target.value.length>0?this.$el.find(".clear-field").addClass(this.options.clearInputBtn):0===e.target.value.length&&this.$el.find(".clear-field").removeClass(this.options.clearInputBtn)},t.prototype.checkIndicator=function(e){if(this.$input.val()){var t=!((0,i.default)((0,i.default)(e.target).parents()[2]).find(".increment-field").length>0);this.addIndicator(t)}},t.prototype.addIndicator=function(e){this.$el.removeClass(this.options.focusVisible),this.$el.addClass(this.options.active),this.$input.addClass(this.options.isActive),e&&(0,i.default)("body").hasClass("is--touch-device")&&this.$input.prop("readonly")&&this.$input.blur(),this.$input.attr("data-prefix")&&!this.state.prefixPaddingAdded&&(this.addPrefixPadding(),this.state.prefixPaddingAdded=!0)},t.prototype.removeIndicator=function(e){var t=this;if(this.$input.hasClass("subscribe__input")&&""!==e.currentTarget.value&&"desktop"===(0,o.getCurrentBreakpoint)().breakpoint){var n=this.$input.val();return this.$input.val(""),void setTimeout(function(){return t.$input.val(n)},1)}this.$input.val()?(this.errorHighlighter=this.$el.find(".error-highlighter"),this.inlineError=this.$el.find(".js-error"),this.errorHighlighter&&this.errorHighlighter[0]&&this.inlineError&&this.inlineError[0].classList&&!this.inlineError[0].classList.contains("show")&&this.errorHighlighter[0].classList&&this.errorHighlighter[0].classList.remove("error-highlighter")):(this.$el.addClass(this.options.focusVisible),this.$el.removeClass(this.options.active),this.$input.removeClass(this.options.isActive))},t.prototype.addPrefixPadding=function(){var e="rtl"===(0,i.default)("html").attr("dir"),t=e?"padding-right":"padding-left",n=Math.ceil(this.$el.find(".field__prefix").outerWidth()),a=parseInt(this.$input.css(t),10);a>=48||(e?this.$input.css({"padding-right":n+a+"px"}):this.$input.css({"padding-left":n+a+"px"}))},t.prototype.onKeypress=function(e){var t=e.which||e.keyCode||0,n=String.fromCharCode(t);switch(this.state.fieldType){case"number":return!!(0,l.default)(this.keyCodes,t)||this.options.patternNumeric.test(n);default:return!0}},t}(a.default);s.selector=".js-fields",s.events={"change input":"checkIndicator","blur input":"removeIndicator","focus input":"addIndicator",input:"hasChanged",reset:"removeIndicator","click .clear-field--active":"clearInput","keypress input":"onKeypress"},t.default=s},function(e,t,n){},,,,,function(e,t,n){"use strict";var a=n(10),i=n(411);e.exports=function(e,t){e=a(e),t=a(t);var n={hash:{key:"dayShortMonthLongYearShort",format:"D MMM YY"}},o={hash:{key:"dayShortMonth",format:"D MMM"}},l={hash:{key:"dayShort",format:"D"}};return e.year()!=t.year()?r(n,n):e.month()!=t.month()?r(o,n):r(l,n);function r(n,a){return i(e,n)+" - "+i(t,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterList=function(e,t){return((0,r.filterAirports)(e,t)||[]).map(function(t){return t.matches.forEach(function(n){var a=n.key,i=n.indices,o=(a=p[a]||a).split(".");if(c.indexOf(o[0])>-1){var r=o.length>1;if(r){var s=h[a];if(s){var u=s.split(".");(0,l.default)(t.item[u[0]][u[1]].toLowerCase(),e.toLowerCase())&&(o=u)}t.item[o[0]][o[1]]=m(e,t.item[o[0]][o[1]],i)}else"iataCode"===o[0]?t.item.codeMatch=!0:t.item[o[0]]=m(e,t.item[o[0]],i)}}),e.length>f&&0===t.matches.length&&(t=function(e,t){if(!e&&t.length<1)return;return d.forEach(function(n){var o=(n=p[n]||n).split(".");if(!(c.indexOf(o[0])<0)){var l=(0,a.default)(e.item,n);if(l){var r=l.toLowerCase().indexOf(t.toLowerCase());if(r>-1){var s=[r,r+t.length-1];(0,i.default)(e.item,n,m(t,l,[s]))}}}}),e}(t,e)),t.item})},t.highlight=m,t.predictiveHighlight=function(e,t){var n=e[0],i=t.val(),l=(0,a.default)(n,"cleanCity.longName")||(0,a.default)(n,"cityLongName")||"",r=0===(0,o.default)(l).toLowerCase().indexOf((0,o.default)(i).toLowerCase());if(n&&r){var s=i.length,u=i+l.substr(s,l.length);t.val(u),function(e,t,n){if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",n-t),a.select()}else e.setSelectionRange?e.setSelectionRange(t,n):e.selectionStart&&(e.selectionStart=t,e.selectionEnd=n)}(t[0],s,l.length)}},t.highlightStationResults=function(e,t){var n=new RegExp("([\\s,.:;()]|^)"+(0,s.default)(e.toLowerCase()));return t.map(function(t){return g.forEach(function(o){var l=(0,a.default)(t,o);l&&l.toLowerCase().search(n)>-1&&("stationCode"===o?t.codeMatch=!0:(0,i.default)(t,o,v(e,n,l)))}),t})},t.highlightStation=v;n(7),u(n(243)),u(n(69)),u(n(34));var a=u(n(2)),i=u(n(165)),o=(u(n(43)),u(n(33))),l=u(n(167)),r=n(436),s=u(n(248));function u(e){return e&&e.__esModule?e:{default:e}}var c=["title","longName","city","country","iataCode"],d=["city.longName","city.shortName","country.longName","country.shortName","longName","region.longName"],h={"country.code":"country.longName"},p={"cleanCity.longName":"city.longName","cleanCity.shortName":"city.shortName","cleanCountry.longName":"country.longName","cleanCountry.shortName":"country.shortName","cleanRegion.longName":"region.longName",cleanLongName:"longName"},f=1;function m(e,t,n){return n.length&&"string"==typeof t?(t=(t=t.replace(/<span class="to-highlight">/g,"")).replace(/<\/span>/g,""),n.reverse(),n.forEach(function(e){var n=t.substr(0,e[0]),a=t.substr(e[0],e[1]-e[0]+1),i=t.substr(e[1]+1);t=n+'<span class="to-highlight">'+a+"</span>"+i}),t):t}var g=["stationLongName","cityLongName","countryLongName","stationCode"];function v(e,t,n){if("string"!=typeof n)return n;var a=(n=(n=n.replace(/<span class="to-highlight">/g,"")).replace(/<\/span>/g,"")).toLowerCase().search(t),i=n.toLowerCase().indexOf(e.toLowerCase(),a);i>-1&&[[i,i+e.length-1]].forEach(function(e){var t=n.substr(0,e[0]),a=n.substr(e[0],e[1]-e[0]+1),i=n.substr(e[1]+1);n=t+'<span class="to-highlight">'+a+"</span>"+i});return n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=h(a),o=h(n(3)),l=h(n(10)),r=h(n(44)),s=n(5),u=n(561),c=n(290),d=n(13);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.options={flightNumberClass:"js-activate-flight-number",flightRouteClass:"js-activate-flight-route",flightNumberError:"js-flight-number-error"},o.$el=o.$el||i,o.state={type:"",origin:"",destination:"",date:""},o.$form=o.$el.find(".js-widget-form"),o.$flightStatusNumber=o.$el.find(".js-flight-number-status"),o.$flightStatusDateField=o.$el.find('input[name="flight-status-date"]'),o.$woyfDateField=o.$el.find("#womf-date-picker--depart"),o.$woyfFlightDateField=o.$el.find("#womf-date-picker-flight--depart"),o.$woyfFlightNumber=o.$el.find("#womf__flight-number-status"),o.$departureAirport=o.$el.find('input[name="Departure airport"]'),o.$arrivalAirport=o.$el.find('input[name="Arrival airport"]'),o.$woyfdepartureAirport=o.$el.find("div[data-section*='womf'][data-subsection='route'][data-data-type='origins']"),o.$woyfArrivalAirport=o.$el.find("div[data-section*='womf'][data-subsection='route'][data-data-type='destinations']"),o.$flightNumber=o.$el.find('input[name="Flight number"]'),o.$flightNumberError=o.$el.find((0,a.toSel)(o.options.flightNumberError)),o.$flightRouteRadio=o.$el.find((0,a.toSel)(o.options.flightRouteClass)),o.$flightNumberRadio=o.$el.find((0,a.toSel)(o.options.flightNumberClass)),o.$invalidFlightMessage=o.$el.find(".js-error"),o.setDefaultRadio(n),o.options.outage=o.$el.hasClass("js-outage"),o.moduleName=o.$el.hasClass("js-flight-status")?"Flight Status":"What's on your flight",o.isKeyUp=!1,o.$woyfFields=o.$el.find(".js-origin-destination-dropdowns").find(".js-fields"),window.__EK__&&window.__EK__.session.isAuthenticated&&(0,c.getmytrips)().then(function(e){o.bulkRender(e)}).then(function(){(0,s.injectCityNames)(o.$el)}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.triggerLogin=function(){(0,o.default)(".main-navigation").trigger("openLogin")},t.prototype.setDefaultRadio=function(e){__EK__.resources["BookManage/Flight-Status/Widget/default-option-flightnumber__text"]&&"true"===__EK__.resources["BookManage/Flight-Status/Widget/default-option-flightnumber__text"]?(this.state.type="flightNumber",this.showFlightNumber(e)):(this.state.type="route",this.showFlightRoute(e))},t.prototype.setRecentSearchFromStore=function(e){var t=e.origin,n=void 0===t?"":t,a=e.destination,i=void 0===a?"":a,o=e.departureDate,l=void 0===o?"":o;if(n&&i&&l){var r=this.$woyfdepartureAirport.find("input").val(),s=this.$woyfArrivalAirport.find("input").val();this.$woyfdepartureAirport.find("input")[0].value=n||r,this.$woyfArrivalAirport.find("input")[0].value=i||s,this.$el.find("eol-datefield")[0].initialStartDate=l,this.$el.find("#womf-date-picker--depart").parent().addClass("textfield__date--active"),this.$el.find(".js-dropdown.dropdown-container").addClass("selected"),this.$woyfFields.addClass("field--active")}},t.prototype.showFlightNumber=function(e){this.state.type="flightNumber",this.$el.addClass("flight-status--flight-number"),this.$el.removeClass("flight-status--flight-route"),(0,s.setCheckedStatus)(!0,this.$flightNumberRadio),(0,s.setCheckedStatus)(!1,this.$flightRouteRadio),this.valid&&this.valid(),this.updateFormUrl&&this.updateFormUrl(),this.toggleFlightTypeControls&&this.toggleFlightTypeControls(),this.$el.removeClass("route-choice"),this.manageErrors(!0)},t.prototype.showFlightRoute=function(){this.state.type="route",this.$el.removeClass("flight-status--flight-number"),this.$el.addClass("flight-status--flight-route"),(0,s.setCheckedStatus)(!1,this.$flightNumberRadio),(0,s.setCheckedStatus)(!0,this.$flightRouteRadio),this.valid&&this.valid(),this.updateFormUrl&&this.updateFormUrl(),this.toggleFlightTypeControls&&this.toggleFlightTypeControls(),this.$el.addClass("route-choice"),this.manageErrors(!0)},t.prototype.setFlightNumberErrorText=function(e){e&&(this.$flightNumberError.show(),this.$flightNumberError.find("p").text(e),this.isKeyUp&&((0,d.pushClientErrorEvent)(this.moduleName,"Partner Flight Number Error"),this.isKeyUp=!1))},t.prototype.handleKeyUp=function(e){this.isKeyUp=!0,this.checkFlightStatusLength(e)},t.prototype.checkFlightStatusLength=function(e){var t=this.$el.find(".js-flight-number");if(this.valid&&this.valid(),!this.valid()){var n=e.currentTarget||e.target;this.$invalidFlightMessage&&this.$invalidFlightMessage[0]&&this.$invalidFlightMessage[0].classList.contains("show")&&n&&n.classList&&!n.classList.contains("error-highlighter")&&n.classList.add("error-highlighter")}t.hide(),this.$el.find(".error-wrapper").hide(),this.updateFormUrl&&this.updateFormUrl()},t.prototype.valid=function(){var e=!0;if("route"===this.state.type)this.state.date&&this.state.origin&&this.state.destination||(e=!1);else{var t=this.$flightStatusNumber.val(),n=(0,u.validateFlightNumber)({input:t});if(e=n.valid,n.valid){var a=this.$el.find(".js-flight-number");this.$flightNumberError.hide(),this.$invalidFlightMessage.removeClass("show"),a.hide(),this.$el.find(".error-wrapper").hide()}else n.exceeded?(this.$flightNumberError.hide(),this.$invalidFlightMessage.addClass("show")):this.$invalidFlightMessage.removeClass("show"),n.empty&&(this.$flightNumberError.hide(),this.$invalidFlightMessage.removeClass("show"))}return e},t.prototype.handleSelection=function(e,t){t.display;var n=t.type,a=t.name,i=t.value,o=this.$el.find(".js-origin"),l=this.$el.find(".js-destination");"flight-status-date"===a&&(this.state.date=i),"origin"===n&&(this.state.origin=null,i&&(this.state.origin=i.iataCode||i.stationCode,o.hide(),this.$departureAirport&&this.$departureAirport[0]&&this.$departureAirport[0].classList.contains("error-highlighter")&&this.$departureAirport[0].classList.remove("error-highlighter"))),"destination"===n&&(this.state.destination=null,i&&(this.state.destination=i.iataCode||i.stationCode,l.hide(),this.$arrivalAirport&&this.$arrivalAirport[0]&&this.$arrivalAirport[0].classList.contains("error-highlighter")&&this.$arrivalAirport[0].classList.remove("error-highlighter"))),this.updateFormUrl&&this.updateFormUrl(),l.is(":visible")||o.is(":visible")||this.$el.find(".error-wrapper").hide()},t.prototype.handleDateSelection=function(e){this.state.from=(0,l.default)(e.detail).format("YYMMDD")},t.prototype.updateFormUrl=function(){if(this.valid()){var e="route"===this.state.type?this.routeValues():this.flightNumberValues(),t=this.$el.find(".js-widget-form .hidden-inputs");t.empty(),Object.keys(e).forEach(function(n){t.append('<input aria-hidden="true" type="hidden" name="'+n+'" value="'+e[n]+'" />')})}},t.prototype.manageErrors=function(e){this.$el.find(".error-wrapper").hide();var t=this.$el.find(".js-origin"),n=this.$el.find(".js-destination"),a=this.$el.find(".js-departure"),i=this.$el.find(".js-flight-number"),o=this.$el.find(".js-route-errors"),l=this.$el.find(".js-flight-errors");o.hide(),l.hide(),t.hide(),n.hide(),a.hide(),i.hide();var r=this.$flightStatusNumber.val(),s=(0,u.validateFlightNumber)({input:r});s.term&&(this.$el.find(".error-wrapper").hide(),this.setFlightNumberErrorText(s.term)),e||("route"===this.state.type&&(this.state.origin||(t.show(),(0,d.pushClientErrorEvent)(this.moduleName,"Origin Error"),this.$departureAirport&&this.$departureAirport[0]&&this.$departureAirport[0].classList.add("error-highlighter")),this.state.destination||(n.show(),(0,d.pushClientErrorEvent)(this.moduleName,"Destination Error"),this.$arrivalAirport&&this.$arrivalAirport[0]&&this.$arrivalAirport[0].classList.add("error-highlighter")),this.state.date||(a.show(),(0,d.pushClientErrorEvent)(this.moduleName,"Date Error"),this.$flightStatusDateField&&this.$flightStatusDateField[0]&&this.$flightStatusDateField[0].classList.add("error-highlighter"),this.$woyfDateField&&this.$woyfDateField[0]&&this.$woyfDateField[0].classList.add("error-highlighter")),o.show(),this.$el.find(".error-wrapper").show(),this.$el.find(".error-wrapper").attr("role","alert"),this.$el.find(".js-error-summary").focus()),"flightNumber"===this.state.type&&s.empty&&!s.valid&&(i.show(),(0,d.pushClientErrorEvent)(this.moduleName,"Flight Number Error"),this.$flightNumber&&this.$flightNumber[0]&&this.$flightNumber[0].classList.add("error-highlighter"),this.$woyfFlightNumber&&this.$woyfFlightNumber[0]&&this.$woyfFlightNumber[0].classList.add("error-highlighter"),this.state.date||(a.show(),(0,d.pushClientErrorEvent)(this.moduleName,"Date Error"),this.$flightStatusDateField&&this.$flightStatusDateField[0]&&this.$flightStatusDateField[0].classList.add("error-highlighter"),this.$woyfDateField&&this.$woyfDateField[0]&&this.$woyfDateField[0].classList.add("error-highlighter")),l.show(),this.$el.find(".error-wrapper").show(),this.$el.find(".error-wrapper").attr("role","alert"),this.$el.find(".js-error-summary").focus()))},t.prototype.submit=function(e){e.preventDefault(),this.trackFlightCommonCtaClick(e),this.valid()?(this.$el.find(".error-wrapper").hide(),this.updateFormUrl(),this.$form[0].submit()):this.manageErrors()},t.prototype.itemReveal=function(){var e=this;(0,o.default)(".js-show-flights",this.$el).bind("click",function(t){e.$el.find(".womf__section__row").not(":nth-of-type(1)").not(":nth-of-type(2)").toggleClass("hidden"),t.preventDefault(),(0,o.default)(t.currentTarget).parent().parent().hide()})},t.prototype.trackFlightCommonCtaClick=function(e){var t=void 0;switch(!0){case(0,r.default)(e.currentTarget.className,"js-widget-submit-womf"):t="Widget:What's on your flight:See what's on";break;case(0,r.default)(e.currentTarget.className,"js-widget-submit-flight-status"):t="Widget:Check flight status:Check flight status";break;default:t="Widget:Unknown button"}var n={event:"EventTrigger.Common_pageBodyWidget_CTAClick",category:"Page Body Interaction",action:"CTA Clicked",label:t};(0,d.pushEvent)(n)},t}(i.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getmytrips=function(){var e=[d()];return Promise.all(e).then(function(e){var t=e[0];return null==t?[]:t})};var a=o(n(51)),i=o(n(40));function o(e){return e&&e.__esModule?e:{default:e}}var l={credentials:"same-origin"},r=(0,o(n(2)).default)(window,"__EK__.env.OCSL_MYTRIPS_ENABLED"),s=function(e){return e.json()},u={mytrips:"service/mytrips",mytripsOcsl:"service/ocsl-mytrips"},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,(0,i.default)({},t,l)).then(h).then(s).catch(function(e){console.log(e)})},d=(0,a.default)(function(){var e=r?u.mytripsOcsl:u.mytrips;return c("/"+e+"?"+(new Date).getTime())}),h=function(e){return e.ok||console.log(e.statusText),e}},,function(e,t,n){"use strict";e.exports=function(e){var t=e&&parseInt(e,10);return isNaN(t)?e:t}},function(e,t,n){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){var a=n(9);e.exports=(a.default||a).template({1:function(e,t,a,i,o){var l,r=e.lambda;return' <div class="'+e.escapeExpression(r(null!=t?t.class:t,t))+'" '+(null!=(l=r(null!=t?t.attrs:t,t))?l:"")+"> "+(null!=(l=e.invokePartial(n(48),t,{name:"cta",hash:{partialBlock:o&&o["partial-block"],attrs:null!=t?t.attrs:t,class:"contextual-help",customClass:null!=t?t.customClass:t,label:null!=t?t.label:t,type:null!=t?t.type:t,size:null!=t?t.size:t,element:"button"},fn:e.program(2,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+' <div class="contextual-help__dropdown-arrow"></div> '+(null!=(l=e.invokePartial(i["@partial-block"],t,{name:"@partial-block",data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+" </div> "},2:function(e,t,n,a,i){return' <i class="icon icon-information"></i> '},4:function(e,t,n,a,i){var o,l=e.lambda;return' <div class="'+e.escapeExpression(l(null!=t?t.class:t,t))+'" '+(null!=(o=l(null!=t?t.attrs:t,t))?o:"")+"> "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isFeaturedFares:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(9,i,0),data:i}))?o:"")+" "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" </div> "},5:function(e,t,a,i,o){var l;return" "+(null!=(l=e.invokePartial(n(48),t,{name:"cta",hash:{partialBlock:o&&o["partial-block"],attrs:null!=t?t.attrs:t,class:null!=t?t.class:t,customClass:null!=t?t.customClass:t,label:null!=t?t.label:t,type:null!=t?t.type:t,size:null!=t?t.size:t,externalLink:"javascript:void(0)"},fn:e.program(6,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+" "},6:function(e,t,n,a,i){var o;return"  "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?o:"")+" "},7:function(e,t,n,a,i){return'<i class="icon icon-chevron-down js-toggle-text" aria-live="off" aria-hidden="true"></i>'},9:function(e,t,a,i,o){var l;return" "+(null!=(l=e.invokePartial(n(48),t,{name:"cta",hash:{partialBlock:o&&o["partial-block"],attrs:null!=t?t.attrs:t,class:null!=t?t.class:t,customClass:null!=t?t.customClass:t,label:null!=t?t.label:t,type:null!=t?t.type:t,size:null!=t?t.size:t,element:"button"},fn:e.program(10,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+" "},10:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?o:"")+" "},11:function(e,t,n,a,i){return'<i class="icon icon-chevron-down js-drop-open"></i>'},13:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return' <a class="'+r(l(null!=t?t.customClass:t,t))+r(l(null!=t?t.class:t,t))+'" '+(null!=(o=l(null!=t?t.attrs:t,t))?o:"")+" /> "+r(l(null!=t?t.text:t,t))+" "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" </a> "},15:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return' <div class="'+r(l(null!=t?t.class:t,t))+'" '+(null!=(o=l(null!=t?t.attrs:t,t))?o:"")+'><a href="#" name="close '+r(l(null!=t?t.name:t,t))+'" class="js-dropdown-back dropdown__back">Back</a><div class="dropdown__input-container js-dropdown-open" tabindex="-1"> '+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isDropSelector:t,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(22,i,0),data:i}))?o:"")+" </div> "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" </div> "},16:function(e,t,a,i,o){var l;return" "+(null!=(l=e.invokePartial(n(191),t,{name:"field",hash:{ariaLabel:null!=t?t.ariaLabel:t,role:"combobox",ariaAutocomplete:null!=t?t.ariaAutocomplete:t,isReadOnly:!0,class:"js-dropdown-open",fieldError:null!=t?t.fieldError:t,hasHelp:null!=t?t.hasHelp:t,isUppercase:null!=t?t.isUppercase:t,isIndicator:!0,indicator:null!=t?t.placeholder:t,prefix:null!=t?t.prefix:t},fn:e.program(17,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+"  "},17:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <a href="javascript:void(0)" class="clear-x-mobile js-drop-open dropdown__clear dropdown__clear--toggle" name="toggle '+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+'" aria-expanded="false" '+(null!=(o=n.if.call(l,null!=t?t.ariaHidden:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.tabIndex:t,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?o:"")+'><span class="js-toggle-text icon icon-chevron-down" aria-hidden="true"></span></a>'},18:function(e,t,n,a,i){return" aria-hidden="+e.escapeExpression(e.lambda(null!=t?t.ariaHidden:t,t))},20:function(e,t,n,a,i){return" tabindex="+e.escapeExpression(e.lambda(null!=t?t.tabIndex:t,t))},22:function(e,t,a,i,o){var l;return" "+(null!=(l=e.invokePartial(n(191),t,{name:"field",hash:{includeSearchResultId:null!=t?t.includeSearchResultId:t,includeSearchResult:null!=t?t.includeSearchResult:t,ariaLive:null!=t?t.ariaLive:t,class:"js-dropdown-open",fieldError:null!=t?t.fieldError:t,hasHelp:null!=t?t.hasHelp:t,isUppercase:null!=t?t.isUppercase:t,isIndicator:!0,indicator:null!=t?t.placeholder:t,prefix:null!=t?t.prefix:t},fn:e.program(23,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+" "},23:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <button type="button" class="clear-x-mobile icon icon-delete-light '+(null!=(o=n.if.call(l,null!=t?t.isSelect:t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))?o:"")+' dropdown__clear" name="clear '+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+'" '+(null!=(o=n.if.call(l,null!=t?t.ariaHidden:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?o:"")+' tabindex="-1"></button> '},24:function(e,t,n,a,i){return" js-clear-selected "},26:function(e,t,n,a,i){return" clear-field "},28:function(e,t,n,a,i){var o;return" "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return(null!=(o=n.if.call(l,null!=t?t.isHelp:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.isButton:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.isLink:t,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.isInput:t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.isDatepicker:t,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?o:"")},usePartial:!0,useData:!0})},function(e,t,n){var a=n(9);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,i,o){var l,r;return null!=(l=e.invokePartial(n(48),t,{name:"cta",hash:{class:"js-widget-submit js-my-trips-submit-manage",label:(r=n(0),r&&(r.__esModule?r.default:r)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/manage-trip__text",{name:"resource",hash:{},data:o}),isSubmit:!0,type:"primary",size:"large",element:"button"},data:o,helpers:a,partials:i,decorators:e.decorators}))?l:""},usePartial:!0,useData:!0})},function(e,t,n){var a=n(9);e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,i,o){var l,r;return null!=(l=e.invokePartial(n(48),t,{name:"cta",hash:{class:"js-widget-submit js-my-trips-submit-check-in",label:(r=n(0),r&&(r.__esModule?r.default:r)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Cards/check-in__text",{name:"resource",hash:{},data:o}),isSubmit:!0,type:"primary",size:"large",element:"button"},data:o,helpers:a,partials:i,decorators:e.decorators}))?l:""},usePartial:!0,useData:!0})},function(e,t,n){"use strict";e.exports=function(e,t,n){return e.replace("{{"+t+"}}",n.trips.length)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPublications=m,t.getPublication=function(e){return m().then(function(t){return(0,o.default)(t,function(t){return t.code===e.code})})};var a=c(n(2)),i=c(n(165)),o=c(n(34)),l=c(n(237)),r=c(n(40)),s=n(7),u=n(17);function c(e){return e&&e.__esModule?e:{default:e}}var d={PUBLICATIONS:"service/publications"},h=function(e){return e.results};function p(e){var t=(0,l.default)(e,function(e){return"global"===e.code.toLowerCase()});return t>=0&&e.push(e.splice(t,1)[0]),e}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,(0,r.default)({},t,s.FETCH_OPTIONS)).then(u.checkIsOk).then(u.toJSON).then(h).then(p).then(function(e){return(0,a.default)((0,i.default)(__EK__,"publications",e),"publications")})};function m(){var e=(0,a.default)(__EK__,"publications");return void 0===e?(0,a.default)((0,i.default)(__EK__,"publications",f("/"+d.PUBLICATIONS)),"publications"):Promise.resolve(e)}},,,,,function(e,t,n){"use strict";e.exports=function(e,t,n){if(!t)return"";var a=function(e,t){var n=null;return t.forEach(function(t){t&&t.flightStatus&&t.flightStatus.forEach(function(t){t.formattedflightNo===e.flightNumber&&(n=t)})}),n}(e,t);if(a){var i=a.legs.filter(function(t){return t.destination.airport.code===e.destination&&t.origin.airport.code===e.origin});return i.length?n["BookManage/Flight-Status/Statuses/status-"+i[0].status+"__text"]:""}return""}},,,,,,,function(e,t,n){n(311),e.exports=n(5)},function(e,t,n){"use strict";var a=n(37);n(157),n(158),n(159),n(160),n(161).polyfill(),(0,a.registerComponents)([n(388),n(389),n(235),n(393),n(439),n(441),n(443),n(557),n(559),n(570),n(572),n(583),n(588),n(590),n(592),n(594),n(596),n(608),n(610),n(612),n(614),n(616),n(617),n(619),n(192),n(621),n(626),n(629),n(631),n(634),n(640),n(646),n(650),n(659),n(661),n(662),n(663),n(665),n(674),n(676),n(678),n(680),n(682)])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(4));n(390);i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={focusVisible:"radio-button--focus"},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleFocus=function(e){this.$el.addClass(this.options.focusVisible)},t.prototype.handleFocusOut=function(e){this.$el.removeClass(this.options.focusVisible)},t}(a.default);o.selector=".radio-button",o.events={"focus .radio-button__input":"handleFocus","focusout .radio-button__input":"handleFocusOut"},t.default=o},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(236);var a=f(n(3)),i=f(n(12)),o=f(n(34)),l=f(n(2)),r=f(n(23)),s=f(n(4)),u=f(n(395)),c=n(5),d=n(11),h=n(242),p=f(n(44));function f(e){return e&&e.__esModule?e:{default:e}}var m=(0,n(7).getConfig)("country"),g=m?m.toUpperCase():"",v={TAB:9,ENTER:13,ESCAPE:27,DOWN:40,UP:38,BACKSPACE:8,ANDROID_SPECIAL:229},_=(0,r.default)(function(e){if(e.originalEvent){var t=e.target.value.length;e.target.focus(),e.target.setSelectionRange(0,t)}},10),y=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));if(o.defaults={isSelect:!1,isFilter:!1,isLoadOnFly:!1,isLoading:!1,isLocked:!1,dataSet:!1,onlyLocalOrigins:!1},o.options=o.readAttributes(o.defaults),o.lang=(0,a.default)("html").attr("lang"),o.isFiltered=!1,o.isKeyDown=!1,o.$el&&o.$el.attr("data-aria-search-id")){var l=o.$el.attr("data-aria-search-id");o.$elSearchResultContainer=o.$el.find("#"+l)&&o.$el.find("#"+l)[0]}return o.state={selectedValue:null,previousValue:null},o.options.isSelect?(o.createSelect(),o.options.isFilter&&o.createFilter(),o.options.isLoadOnFly&&o.loadOnFly(),o.fieldInput.val()&&o.setSelected()):o.createStandardDropdown(),"origins"!==o.options.dataType&&"destinations"!==o.options.dataType||(o.options.isLoading=!0),"holiday"===o.options.section&&"destinations"===o.options.dataType&&(o.options.isLoading=!1),(0,a.default)(o.$el).ready(function(){o.$el.find(".three-date-dropdown").length>0&&(0,a.default)(o.$el.find(".three-date-dropdown .three-date-dropdown__link")[1]).trigger("click")}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleSelectText=function(e){this.options.isLocked?this.$el.find("input").blur():this.options.isFilter&&_(e)},t.prototype.handleFocus=function(e){var t=this;this.options.isLocked||(this.fieldInput&&this.fieldInput.val().length>0&&this.setSelected(),this.isKeySelected?setTimeout(function(){return t.isKeySelected=!1},100):this.toggleButton&&(this.toggleButton.is(e.target)||this.toggleButton.find(".js-toggle-text").is(e.target))||this.dropdownOpen(e))},t.prototype.dropdownToggle=function(e){e.stopPropagation();var t=null;if(this.options.shouldExpandCollapseAnnounce&&(t=this.$el.find(".should-expand-collapse-announce").length?this.$el.find(".should-expand-collapse-announce")[0]:null),this.$el.hasClass("show")){if(this.closeDropdown(),t){var n=window.__EK__.resources&&window.__EK__.resources["Common/Accessibility/collapsed__text"]?window.__EK__.resources["Common/Accessibility/collapsed__text"]:"";t.setAttribute("aria-label",n)}}else if(this.dropdownOpen(e),this.setSelected(),t){var a=window.__EK__.resources&&window.__EK__.resources["Common/Accessibility/expanded__text"]?window.__EK__.resources["Common/Accessibility/expanded__text"]:"";t.setAttribute("aria-live","assertive"),t.setAttribute("aria-label",a)}},t.prototype.focusInHandler=function(){this.isKeyDown=!1,clearTimeout(this.closeTimer)},t.prototype.focusOutHandler=function(e){var t=this;e&&e.stopPropagation(),"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&null!==e.relatedTarget&&(this.closeTimer=setTimeout(function(){return t.closeDropdown()},100))},t.prototype.isBestMatch=function(){var e=(0,l.default)(this,"options.dataSet.highlightedResults.0.iataCode","");return!!this.fieldInput&&(this.isFiltered&&e&&!this.state.selectedValue)},t.prototype.chooseBestMatch=function(){var e=(0,l.default)(this,"options.dataSet.highlightedResults.0.iataCode",!1),t=this.$el.find('.js-dropdown-select-item[data-dropdown-id="'+e+'"]').first();if(e&&t.length){this.state.selectedValue=e,this.setDropDownValue(this.getDisplayValue(t)),this.resetDropdownValues();var n=this.$el.data("section"),a="origins"===this.options.dataType?"origin":"destination",i=(0,o.default)(this.options.dataSet.items,function(t){return t.iataCode===e}),r=this.fieldInput.length&&this.fieldInput[0].name;"origin"===a&&i&&this.fetchDestinationsForOrigin(i.iataCode,!0,i.country),this.publish("search.selection."+n,{type:a,value:i,name:r})}},t.prototype.getDisplayValue=function(e){var t=e.data("dropdownDisplay");return{value:e.data("dropdownId"),display:t.replace(/<span class="to-highlight">(.*?)<\/span>/g,"$1")}},t.prototype.readAttributes=function(e){var t=(0,i.default)({},e,this.$el.data());return t.dataSet=!!t.dataSet&&(0,l.default)(window,"__EK__."+t.dataSet),t},t.prototype.toggleModal=function(e){(0,a.default)((0,a.default)(e.currentTarget).data("modalSel")).toggleClass("dropdown--modal")},t.prototype.createSelect=function(){this.hiddenInput=this.$el.find(".js-hidden-select"),this.$selectableItems=this.$el.find(".js-dropdown-select-item"),this.fieldInput=this.$el.find(".field__input"),this.fieldLabel=this.$el.find(".js-label"),this.dropdown=this.$el.find(".dropdown"),this.closeButton=this.$el.find(".dropdown__heading__close").length>0?this.$el.find(".dropdown__heading__close"):this.$el.find(".dropdown__close"),this.fieldValue=this.$el.find(".js-field-value"),this.toggleButton=this.$el.find(".js-drop-open"),this.isKeySelected=!1,this.isMobileBubbleDropdown=this.$el.hasClass("js-mobile-bubble-dropdown"),this.bindHideClick(),this.bindLazyScrollEvent()},t.prototype.cleanSearchString=function(e){return e.trim()},t.prototype.createFilter=function(){var e=this,t="mobile"===(0,c.getCurrentBreakpoint)().breakpoint?500:100,n=(0,r.default)(function(t){var n=e.cleanSearchString(e.fieldInput.val());if(n&&!(n.length<1)){var a=(0,h.filterList)(n,e.options.dataSet.items);e.isFiltered=!0,e.state.selectedValue=null,e.options.dataSet.highlightedResults=a,t.keyCode!==v.BACKSPACE&&t.keyCode!==v.ANDROID_SPECIAL&&n.length>1&&(0,h.predictiveHighlight)(a,e.fieldInput);var i=(1===a.length?a:[])[0];return e.updateSuggestedItems((0,l.default)(i,"iataCode"))}if(e.isFiltered)return e.isFiltered=!1,e.bulkRender()},t);this.fieldInput.on("keydown paste",function(e){e.ctrlKey||e.altKey||e.metaKey||[v.TAB,v.UP,v.DOWN].indexOf(e.keyCode)>-1||n(e)})},t.prototype.loadOnFly=function(){var e=this,t="mobile"===(0,c.getCurrentBreakpoint)().breakpoint?500:300,n=(0,r.default)(function(t){var n=e.cleanSearchString(e.fieldInput.val());n.length>=3?e.publish("dest-holiday.load",n):e.showHolidayDestinationsDefaultTemplate()},t);this.fieldInput.on("keydown",function(t){if(!(t.ctrlKey||t.altKey||t.metaKey||[v.UP,v.DOWN].indexOf(t.keyCode)>-1))if(v.TAB===t.keyCode&&e.fieldInput[0].value.length>=3){var a=e.options.dataSet.items,i=a.length>0?a[0]:[],o=e.fieldInput.length&&e.fieldInput[0].name,r=(0,l.default)(i,"title"),s=(0,l.default)(i,"iataCode");e.setDropDownValue({display:r,value:s}),e.publish("search.selection.holiday",{type:"destination",value:i,name:o})}else n(t)}),this.showHolidayDestinationsDefaultTemplate()},t.prototype.resetDropdownValues=function(){this.isFiltered=!1,this.bulkRender()},t.prototype.createStandardDropdown=function(){this.dropdown=this.$el.find(".dropdown"),this.toggleButton=this.$el.find(".js-drop-open")},t.prototype.availableIconForLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(!e.isLocal&&!e.iataCode)&&e.iataCode===(0,l.default)(this,"options.dataSet.closest.iataCode"),n=e.stationType&&"2"===e.stationType;return{local:t,bus:e.stationType&&"1"===e.stationType,train:n,clear:!1}},t.prototype.dropdownItemClicked=function(e){var t=(0,a.default)(e.currentTarget).data("dropdownId"),n=e.keyCode===v.TAB&&(0,l.default)(this,"options.dataSet.highlightedResults.0.iataCode","-")===t;if("Enter"===e.key||e.keyCode===v.ENTER||"click"===e.type||n){e.preventDefault();var i=!e.originalEvent;(0,a.default)(e.target).closest(".js-widget").length&&e.stopPropagation();var r=null===this.state.previousValue;this.state.selectedValue=t;var s=this.fieldInput.length&&this.fieldInput[0].name,u=(0,a.default)(e.currentTarget).data("dropdownRecentSearch"),d=this.$el.data("section"),h=(0,a.default)(e.currentTarget).data("dropdownDisplay");this.setSelected(),this.closeDropdown(),"Enter"!==e.key&&e.keyCode!==v.ENTER||this.$el.find(".js-clear-selected").focus(),h=h.replace(/<span class="to-highlight">(.*?)<\/span>/g,"$1"),this.setDropDownValue({display:h,value:t});var p=u?this.options.dataSet.searches:this.options.dataSet.items;if(p){var f=(0,o.default)(p,function(e){return u&&e.search_id===u||e.id===t||e.iataCode===t}),m="origins"===this.options.dataType?"origin":"destination",g=u?f[m]:f,_=this.availableIconForLocation(g),y=t;if("origin"===m&&!u){var b=!i;this.fetchDestinationsForOrigin(y,b,g.country)}this.updateSuggestedItems(t),u?this.publish("recent.search.selection",{item:f,isTrack:!0}):this.publish("search.selection."+d,{type:m,value:g,name:s}),this.resetDropdownValues(),this.setIcon(_),r&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.publish(m+".new.selection",{subsection:this.options.subsection})}else this.publish("dropdown.selection",{display:h,value:t,name:s,section:d});this.options.setActiveOnItems&&(this.$activeItem&&this.$activeItem.removeClass("active"),this.$activeItem=(0,a.default)(e.currentTarget).addClass("active").attr("aria-selected","true")),this.fieldInput&&this.isKeySelected&&(this.fieldInput.attr("aria-expanded","false"),this.fieldInput.select())}},t.prototype.dropdownItemKeyDown=function(e){switch(e.keyCode){case v.DOWN:e.preventDefault(),(0,a.default)(e.currentTarget).hasClass("js-location-list")?0===(0,a.default)(e.currentTarget).next(".js-dropdown-select-item").length?(0,a.default)(e.currentTarget).closest("section").next().find(".js-dropdown-select-item").first().find(".js-location-link").focus():(0,a.default)(e.currentTarget).next(".js-dropdown-select-item").find(".js-location-link").focus():(0,a.default)(e.currentTarget).next(".js-dropdown-select-item").focus();break;case v.UP:e.preventDefault(),(0,a.default)(e.currentTarget).hasClass("js-location-list")?0===(0,a.default)(e.currentTarget).prev(".js-dropdown-select-item").length?(0,a.default)(e.currentTarget).closest("section").prev().find(".js-dropdown-select-item").first().find(".js-location-link").focus():(0,a.default)(e.currentTarget).prev(".js-dropdown-select-item").find(".js-location-link").focus():(0,a.default)(e.currentTarget).prev(".js-dropdown-select-item").focus();break;case v.ENTER:this.isKeySelected=!0}},t.prototype.updateSuggestedItems=function(e){var t=this;return(0,d.getSuggestions)(e).then(function(e){t.options.isLoading=!1,t.options.dataSet.suggested=e}).then(this.bulkRender.bind(this))},t.prototype.updateDataSet=function(e){this.options.dataSet=(0,i.default)({},this.options.dataSet,e),this.options.dataSet.items&&("womf"!==this.options.section&&"status"!==this.options.section||(this.options.dataSet.items=this.options.dataSet.items.filter(function(e){return"Yes"===e.isEK})))},t.prototype.setSelected=function(){this.$el.addClass("selected")},t.prototype.clearSelected=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.options.isLocked){this.isFiltered=!1,this.hiddenInput.val(""),this.fieldInput.val(""),null!==this.state.selectedValue&&(this.state.previousValue=this.state.selectedValue),this.state.selectedValue=null;var n=this.fieldInput[0].name,a=this.$el.data("section"),i="origins"===this.options.dataType?"origin":"destination";if(this.setIcon({clear:!0}),this.options.dataSet&&(this.options.dataSet.suggested=[],this.resetDropdownValues()),this.$el.removeClass("selected"),t&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus(),"origins"===this.options.dataType&&this.fetchDestinationsForOrigin("",!1),"holiday"===this.options.section&&"destinations"===this.options.dataType&&this.showHolidayDestinationsDefaultTemplate(),this.options.dataSet)return this.publish("search.selection."+a,{type:i,name:n,value:null});this.publish("dropdown.selection",{display:null,value:null,name:n,section:a})}},t.prototype.dropdownOpen=function(e){if(!(this.$el.hasClass("show")||this.$el.find(".show").length>0)){if((0,a.default)(e.target).is(".js-clear-selected"))return!1;(0,c.lockBody)(!0),(0,l.default)(this.options,"dataSet.searches",[]).length>0&&"origins"===this.options.dataType&&(0,c.trackBoxeverDebounced)(c.BOXEVER_VIEWED_EVENT,location),this.dropdown.addClass("visibly-hidden"),this.$el.addClass("show"),this.fieldInput&&this.fieldInput.attr("aria-expanded",!0),this.toggleButton.attr("aria-expanded",!0),this.closeButton&&this.closeButton.addClass("show"),this.toggleButton&&(this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-up"),this.toggleButton.find(".js-toggle-text").addClass("icon-chevron-up"),this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-down")),this.checkDropdownPosition(),this.dropdown.removeClass("visibly-hidden"),this.$el.trigger("open"),"mobile"===(0,c.getCurrentBreakpoint)().breakpoint&&this.isMobileBubbleDropdown&&this.scrollToDropdown(),this.bindHideClick()}},t.prototype.checkDropdownPosition=function(){var e=this.dropdown.offset().left;e<0&&this.dropdown.css("margin-left",-e)},t.prototype.closeDropdown=function(e){this.isBestMatch()&&this.chooseBestMatch(),this.resetLazyScrollState(),e&&(e.preventDefault(),(0,a.default)(e.currentTarget).is(this.closeButton)&&(0,c.lockBody)(!1)),this.isFiltered&&0===((0,l.default)(this,"options.dataSet.highlightedResults")||[]).length&&this.clearSelected(null,!1),this.toggleButton.attr("aria-expanded",!1),this.$el.removeClass("show"),this.closeButton&&this.closeButton.removeClass("show"),this.toggleButton&&(this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-down"),this.toggleButton.find(".js-toggle-text").addClass("icon-chevron-down"),this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-up")),this.unbindHideClick(),this.$el.trigger("close")},t.prototype.bindHideClick=function(){var e=this;(0,a.default)(document).on(this.getHideEventName(),function(t){e.respondToDocumentClick(t,e)})},t.prototype.unbindHideClick=function(){(0,a.default)(document).off(this.getHideEventName())},t.prototype.getHideEventName=function(){return this.mousedownEventNamespace||(this.mousedownEventNamespace=Math.random()),"mousedown.drop-down-"+this.mousedownEventNamespace},t.prototype.respondToDocumentClick=function(e,t){t.$el.is(e.target)||0!==t.$el.has(e.target).length||0!==(0,a.default)(e.target).parents(".js-cookie").length||t.closeDropdown()},t.prototype.resetMargin=function(){this.dropdown.attr("style","")},t.prototype.bulkRender=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=this.isFiltered,n=t?this.options.dataSet.highlightedResults:this.options.dataSet.items,a=this._updateDataSetItems((n||[]).slice(0,e));a.showRecentSearches=!t,this.options.onlyLocalOrigins&&!0===this.options.onlyLocalOrigins?a.showCurrentLocation=!t&&a.closestLocalOrigin:a.showCurrentLocation=!t&&a.closest,a.showLoadOnFly=this.options.isLoadOnFly&&this.options.showLoadOnFly||!1,a.section=this.options.section,a.type=this.options.dataType,(this.isFiltered||this.options.isLoadOnFly)&&a.items.length>0&&(a.items[0].highlight=!0),!this.options.isLoading||0!==a.items.length||"origins"!==this.options.dataType&&"destinations"!==this.options.dataType||(a.waiting="true"),this.dropdown.html(this.getTemplate(a));var i=(0,l.default)(window,"__EK__.resources"),o=i["BookManage/search-flight/search-results__text"],r=i["BookManage/search-flight/search-result__text"],s=i["BookManage/search-flight/search-no-results-found__text"],u=0!=a.items.length?1==a.items.length?a.items.length+" "+r:a.items.length+" "+o:s;this.$elSearchResultContainer&&(this.$elSearchResultContainer.innerHTML=u)},t.prototype.lazyScroll=function(){var e=this.dropdown;if(!(e.scrollTop()+e.innerHeight()<e[0].scrollHeight-100)){this.currentLazyScrollLimit=this.currentLazyScrollLimit||30,this.currentLazyScrollLimit+=30;var t=(0,a.default)(e).find(".js-dropdown-select-item").last().data("dropdownId");this.bulkRender(this.currentLazyScrollLimit),this.isKeyDown&&((0,a.default)(e).find('.js-dropdown-select-item[data-dropdown-id="'+t+'"]').find(".js-location-link").focus(),this.isKeyDown=!1)}},t.prototype.bindLazyScrollEvent=function(){this.lazyScrollEventBinded||"origins"!==this.options.dataType&&"destinations"!==this.options.dataType||(this.dropdown.on("scroll.lazy-render",this.lazyScroll.bind(this)),this.lazyScrollEventBinded=!0)},t.prototype.resetLazyScrollState=function(){this.currentLazyScrollLimit=30,this.dropdown[0].scrollTop=0},t.prototype._updateDataSetItems=function(e){return this.$elSearchResultContainer&&(this.$elSearchResultContainer.innerHTML=""),(0,i.default)({},this.options.dataSet,{items:e})},t.prototype.getTemplate=function(e){switch(e.lang=this.lang,e.resources=(0,l.default)(window,"__EK__.resources"),this.options.template){case"location":case"holiday":return(0,u.default)(e)}},t.prototype.hasChanged=function(e){this.fieldInput&&e.target.value.length>0&&this.setSelected(),this.fieldInput&&0===e.target.value.length&&this.clearSelected(e,!1)},t.prototype.setIcon=function(e){var t=e.local,n=e.bus,a=e.train,i=e.clear,o=null;n&&(o="icon-bus"),a&&(o="icon-train"),t&&(o="icon-location"),this.$el.removeClass("location-icon-show"),this.$el.find(".dropdown__input-container").find(".dropdown__location--icon").remove(),!i&&o&&this.$el.find(".dropdown__input-container").find(".dropdown__location--icon").length<1&&(this.$el.addClass("location-icon-show"),this.$el.find(".dropdown__input-container").append('<i class="icon '+o+' dropdown__location--icon"></i>'))},t.prototype.handleKeyDown=function(e){this.options.isLocked||(e.keyCode===v.DOWN&&(this.isKeyDown=!0),e.keyCode===v.ESCAPE&&this.closeDropdown())},t.prototype.dropdownKeyDown=function(e){if(e.keyCode===v.DOWN)return this.$el.hasClass("show")?null!=this.$activeItem?this.$activeItem.focus():void(this.$el.find(".js-dropdown-select-item").length>0&&this.$el.find(".js-dropdown-select-item").first().find(".js-location-link").focus()):this.dropdownOpen(e)},t.prototype.fetchDestinationsForOrigin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.publish("origin.selected."+this.options.section,{iataCode:e,focusDestinations:t,originCountry:n})},t.prototype.handleLoadedDestinations=function(e,t){var n=t.section;if(this.options.dataType&&"destinations"===this.options.dataType&&this.options.section===n){var a=t.destinations,i=t.focusDestinations,o=void 0===i||i,l=t.clearDestination,r=void 0!==l&&l;this.options.isLoading=!1,this.updateDataSet({items:a}),this.checkValidDestinationIataCode(this.state.selectedValue)&&!r||this.clearSelected(null,o),this.bulkRender(),o&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus()}},t.prototype.handleOriginHolidaySelected=function(e){"holiday"===this.options.section&&"destinations"===this.options.dataType&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus()},t.prototype.showHolidayDestinationsDefaultTemplate=function(){"holiday"===this.options.section&&"destinations"===this.options.dataType&&(this.options.isLoading=!1,this.options.showLoadOnFly=!0,this.updateDataSet({items:[]}),this.bulkRender(),"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus())},t.prototype.checkValidDestinationIataCode=function(e){return(0,o.default)(this.options.dataSet.items,function(t){return t.iataCode===e})},t.prototype.handleSearchesLoaded=function(e,t){!this.options.section||"flight"!==this.options.section||"origins"!==this.options.dataType&&"destinations"!==this.options.dataType||(this.updateDataSet({searches:t}),this.resetDropdownValues())},t.prototype.setDropDownValue=function(e){var t=e.display,n=e.value;this.fieldInput.val(t).trigger("change"),this.fieldLabel.text(t),this.hiddenInput.val(n),this.state.selectedValue=n},t.prototype.handleRecentSearchLocation=function(e,t){var n=t.origins,a=t.display,i=t.value,o=t.isTrack;"flight"===this.options.section&&("origins"===this.options.dataType&&"recent.search.origin"===e&&(o&&(0,c.trackBoxeverDebounced)(c.BOXEVER_CLICKED_EVENT,location),this.setDropDownValue({display:a,value:i}),this.updateDataSet(n&&n.length>0?{items:n}:{}),this.checkValidDestinationIataCode(this.state.selectedValue)||this.clearSelected(null,!1)),"destinations"===this.options.dataType&&"recent.search.destination"===e&&this.setDropDownValue({display:a,value:i}))},t.prototype.handleOriginsRefresh=function(e,t){var n=this;if("holiday"!==this.options.section&&"origins"===this.options.dataType){if(this.updateDataSet(t),this.options.onlyLocalOrigins&&!0===this.options.onlyLocalOrigins)this.checkLocalOriginCountrySite()&&this.options.dataSet.items&&(this.options.dataSet.items=this.filterLocalOrigins(this.options.dataSet.items));var a=this.checkValidDestinationIataCode(this.state.selectedValue),i=this.fieldInput.val().length>0,l=(0,o.default)(this.options.dataSet.items,function(e){return e.iataCode===n.state.selectedValue})||{country:""};!a&&i&&this.clearSelected(null,!1),this.bulkRender(),"flight"===this.options.section&&t.preselectFirstOptionSearchFlight?(this.$el.find(".js-dropdown-select-item").first().trigger("click"),this.handleLocalOriginsRefresh(this.options.dataSet)):"flight"!==this.options.section&&t.preselectFirstOption?this.$el.find(".js-dropdown-select-item").first().trigger("click"):!a&&i||this.fetchDestinationsForOrigin(a?a.iataCode:"",!1,l.country)}},t.prototype.handleLocalOriginsRefresh=function(e){e.items&&1===e.items.length&&(this.$el.removeClass("selected"),this.options.isLocked=!0,this.$el.find(".js-field-input").first().attr("aria-disabled","true"),this.$el.find(".js-fields").addClass("field--locked"),this.$el.find(".js-fields").attr("tabindex","-1"))},t.prototype.handleHolidayOriginsRefresh=function(e,t){"holiday"===this.options.section&&"origins"===this.options.dataType&&(this.updateDataSet(t),this.bulkRender(),t.preselectFirstOption&&(this.$el.find(".js-dropdown-select-item").first().trigger("click"),1===t.items.length&&(this.$el.removeClass("selected"),this.options.isLocked=!0,this.$el.find(".js-field-input").first().attr("aria-disabled","true"),this.$el.find(".js-fields").addClass("field--locked"),this.$el.find(".js-fields").attr("tabindex","-1"))))},t.prototype.handleHolidayDestinationsRefresh=function(e,t){"holiday"===this.options.section&&"destinations"===this.options.dataType&&(this.options.showLoadOnFly=!1,this.updateDataSet(t),this.bulkRender())},t.prototype.handleFeaturedFaresCitySelect=function(e,t){if(this.options.isFeaturedFares){if(!t||!t.airportsByIataCode[t.iataCode])return;var n=t.airportsByIataCode[t.iataCode];this.setDropDownValue({display:n.shortName,value:t.iataCode})}},t.prototype.scrollToDropdown=function(){var e=this.dropdown.offset().top+this.dropdown.height(),t=this.$el.parents(".js-widget-panel");e>(0,a.default)(window).height()&&(0,c.scrollInElement)(t,this.dropdown.offset().top,500)},t.prototype.checkLocalOriginCountrySite=function(){var e=(0,l.default)(window,"__EK__.env.LOCAL_ORIGINS_COUNTRY_LIST"),t=(0,l.default)(window,"__EK__.env.ENABLE_BOOKING_WIDGET_LOCAL_ORIGIN");if(t&&"true"===String(t).toLocaleLowerCase()){var n=e?e.toUpperCase().split(","):"";return(0,p.default)(n,g)}return!1},t.prototype.filterLocalOrigins=function(e){return e.filter(function(e){return e.country.code===g})},t}(s.default);y.selector=".js-dropdown",y.events={focusin:"focusInHandler",focusout:"focusOutHandler","focus .js-dropdown-open":"handleFocus","click .js-modal":"toggleModal","click .js-dropdown-select-item":"dropdownItemClicked","keyup .js-dropdown-select-item":"dropdownItemClicked","keydown .js-dropdown-select-item":"dropdownItemKeyDown","keydown .js-dropdown-open":"dropdownKeyDown","mousedown .js-dropdown-open":"handleFocus","focus .js-dropdown-open-hover":"handleFocus","touchstart .js-dropdown-open-hover":"handleFocus","mouseenter .js-dropdown-open-hover":"handleFocus","mouseleave .js-dropdown-open-hover":"closeDropdown","click .button":"dropdownOpen","click .js-clear-selected":"clearSelected","breakpoint.mobile":"resetMargin","click .js-dropdown-back":"closeDropdown","click .js-drop-open":"dropdownToggle",input:"hasChanged",keydown:"handleKeyDown","destinations.loaded":"handleLoadedDestinations","origin.selected.holiday":"handleOriginHolidaySelected","searches.loaded":"handleSearchesLoaded","recent.search.origin":"handleRecentSearchLocation","recent.search.destination":"handleRecentSearchLocation","origin-flight.refresh":"handleOriginsRefresh","origin-holiday.refresh":"handleHolidayOriginsRefresh","dest-holiday.refresh":"handleHolidayDestinationsRefresh","featuredFaresCity.select":"handleFeaturedFaresCitySelect","focus .js-field-input":"handleSelectText"},t.default=y},,function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.type:t,"===","destinations",{name:"op",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?r:"")+" "},2:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.popular:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+" "},3:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.popular:t)?r.length:r,">",0,{name:"op",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?r:"")+" "},4:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-destinations location__icon location__icon--location"></i>'+(null!=(o=n.if.call(l,null!=t?t.searchLocationHeader:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?o:"")+'</h3><ol class="location__list"> '+(null!=(o=n.each.call(l,null!=t?t.popular:t,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?o:"")+" </ol></section> "},5:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.searchLocationHeader:t,t))},7:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/popular-location__text",{name:"resource",hash:{},data:l}))?r:""},9:function(e,t,a,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li class="location__item js-dropdown-select-item" data-dropdown-display="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+" ("+u(s(null!=t?t.iataCode:t,t))+')" data-dropdown-id="'+u(s(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=s(null!=t?t["search-terms"]:t,t))?r:"")+'"><a href="#" class="dropdown__link js-select-body"><div class="location__airport"><p class="location__airport__city" data-location-value="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+'"><span>'+(null!=(r=s(null!=(r=null!=t?t.city:t)?r.longName:r,t))?r:"")+",</span> "+(null!=(r=s(null!=(r=null!=t?t.country:t)?r.longName:r,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=s(null!=t?t.longName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(c,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(c,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'">'+u(s(null!=t?t.iataCode:t,t))+"</p></a></li> "},10:function(e,t,n,a,i){return"to-highlight"},12:function(e,t,n,a,i){var o;return" "+(null!=(o=n.with.call(null!=t?t:e.nullContext||{},null!=t?t.closest:t,{name:"with",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?o:"")+" "},13:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-location location__icon location__icon--location"></i>'+(null!=(r=a.if.call(s,null!=t?t.currentLocationHeader:t,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?r:"")+'</h3><ol class="location__list" ><li tabindex="-1" class="location__item js-dropdown-select-item js-location-list" data-dropdown-display="'+c(u(null!=(r=null!=t?t.city:t)?r.longName:r,t))+" ("+c(u(null!=t?t.iataCode:t,t))+')" data-dropdown-id="'+c(u(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=u(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" aria-label="'+c(u(null!=(r=null!=t?t.cleanCity:t)?r.longName:r,t))+", "+c(u(null!=(r=null!=t?t.cleanCountry:t)?r.longName:r,t))+" "+c(u(null!=t?t.cleanLongName:t,t))+" "+c(u(null!=t?t.iataCode:t,t))+" "+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.stationType:t,"===","1",{name:"op",hash:{},data:l}),"||",i(n(1)).call(s,null!=t?t.stationType:t,"===","2",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?r:"")+'" class="dropdown__link js-select-body js-location-link"><div class="location__airport" aria-hidden="true"><p class="location__airport__city" data-location-value="'+c(u(null!=(r=null!=t?t.city:t)?r.longName:r,t))+'"><span>'+(null!=(r=u(null!=(r=null!=t?t.city:t)?r.longName:r,t))?r:"")+(null!=(r=i(n(0)).call(s,"Common/Dropdown/comma__text",{name:"resource",hash:{},data:l}))?r:"")+"</span> "+(null!=(r=u(null!=(r=null!=t?t.country:t)?r.longName:r,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=u(null!=t?t.longName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(s,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(s,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'" aria-hidden="true">'+c(u(null!=t?t.iataCode:t,t))+"</p></div></li></ol></section> "},14:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.currentLocationHeader:t,t))},16:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/current-location__text",{name:"resource",hash:{},data:l}))?r:""},18:function(e,t,a,o,l){return e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/search-flight/operated-by-non-ek__text",{name:"resource",hash:{},data:l}))},20:function(e,t,a,o,l){var r;return null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.isEK:t,"===","Yes",{name:"op",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?r:""},21:function(e,t,a,o,l){return e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/search-flight/operated-by-emirates__text",{name:"resource",hash:{},data:l}))},23:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.suggested:t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?o:"")+" "},24:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.suggested:t)?r.length:r,">",0,{name:"op",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?r:"")+" "},25:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-moon-lighting-system location__icon location__icon--location"></i>'+(null!=(o=n.if.call(l,null!=t?t.suggestedLocationHeader:t,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.program(28,i,0),data:i}))?o:"")+'</h3><ol class="location__list"> '+(null!=(o=n.each.call(l,null!=t?t.suggested:t,{name:"each",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?o:"")+" </ol></section> "},26:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.suggestedLocationHeader:t,t))},28:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/suggested-location__text",{name:"resource",hash:{},data:l}))?r:""},30:function(e,t,a,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li tabindex="-1" class="location__item js-dropdown-select-item" data-dropdown-display="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+" ("+u(s(null!=t?t.iataCode:t,t))+')" data-dropdown-id="'+u(s(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=s(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" class="dropdown__link js-select-body js-location-link" aria-label="'+u(s(null!=(r=null!=t?t.cleanCity:t)?r.longName:r,t))+", "+u(s(null!=(r=null!=t?t.cleanCountry:t)?r.longName:r,t))+" "+u(s(null!=t?t.cleanLongName:t,t))+" "+u(s(null!=t?t.iataCode:t,t))+" "+(null!=(r=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.stationType:t,"===","1",{name:"op",hash:{},data:l}),"||",i(n(1)).call(c,null!=t?t.stationType:t,"===","2",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?r:"")+'"><div class="location__airport" aria-hidden="true"><p class="location__airport__city" data-location-value="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+'"><span>'+(null!=(r=s(null!=(r=null!=t?t.city:t)?r.longName:r,t))?r:"")+",</span> "+(null!=(r=s(null!=(r=null!=t?t.country:t)?r.longName:r,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=s(null!=t?t.longName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(c,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(c,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'" aria-hidden="true" >'+u(s(null!=t?t.iataCode:t,t))+"</p></div></li> "},32:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.searches:t,{name:"if",hash:{},fn:e.program(33,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},33:function(e,t,a,o,l,r,s){var u;return" "+(null!=(u=i(n(1)).call(null!=t?t:e.nullContext||{},null!=(u=null!=t?t.searches:t)?u.length:u,">",0,{name:"op",hash:{},fn:e.program(34,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},34:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-clock-fare location__icon location__icon--location"></i>'+(null!=(r=n.if.call(s,null!=t?t.searchLocationHeader:t,{name:"if",hash:{},fn:e.program(5,i,0,o,l),inverse:e.program(35,i,0,o,l),data:i}))?r:"")+'</h3><ol class="location__list"> '+(null!=(r=n.each.call(s,null!=t?t.searches:t,{name:"each",hash:{},fn:e.program(37,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </ol></section> "},35:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/search-location__text",{name:"resource",hash:{},data:l}))?r:""},37:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <li class="location__item js-dropdown-select-item" data-dropdown-display="'+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(38,l,0,r,s),inverse:e.program(40,l,0,r,s),data:l}))?u:"")+'" data-dropdown-id="'+h(d(null!=t?t.origin_iata:t,t))+'" data-dropdown-recent-search="'+h(d(null!=t?t.search_id:t,t))+'"><a href="#" class="dropdown__link js-select-body"><div class="location__airport"><p class="location__airport__city" data-location-value="'+h(d(null!=(u=null!=t?t.city:t)?u.longName:u,t))+'"><span>'+(null!=(u=d(null!=(u=null!=t?t.origin:t)?u.shortName:u,t))?u:"")+"</span> "+(null!=(u=i(n(0)).call(c,"BookManage/location/search-item-divider__text",{name:"resource",hash:{},data:l}))?u:"")+" <span>"+(null!=(u=d(null!=(u=null!=t?t.destination:t)?u.shortName:u,t))?u:"")+"</span></p> "+(null!=(u=i(n(1)).call(c,null!=t?t.flight_type:t,"===","RT",{name:"op",hash:{},fn:e.program(42,l,0,r,s),inverse:e.program(44,l,0,r,s),data:l}))?u:"")+' </div><p class="location__airport__acronym">'+h(d(null!=t?t.origin_iata:t,t))+"</p></a></li> "},38:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return r(l(null!=(o=null!=(o=null!=t?t.origin:t)?o.city:o)?o.longName:o,t))+" ("+r(l(null!=t?t.origin_iata:t,t))+")"},40:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return r(l(null!=(o=null!=(o=null!=t?t.destination:t)?o.city:o)?o.longName:o,t))+" ("+r(l(null!=t?t.destination_iata:t,t))+")"},42:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return' <p class="location__airport__name p12">'+s(i(n(241)).call(r,null!=t?t.depart_date:t,null!=t?t.return_date:t,{name:"dateinterval",hash:{},data:l}))+", <span>"+s(i(n(120)).call(r,t,{name:"passengercount",hash:{},data:l}))+'<i class="icon icon-adult-male-customer people-count"></i></span></p> '},44:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return' <p class="location__airport__name p12">'+s(i(n(20)).call(r,null!=t?t.depart_date:t,{name:"formatResourceDate",hash:{format:"D MMM YY",key:"dayShortMonthLongYearShort"},data:l}))+", <span>"+s(i(n(120)).call(r,t,{name:"passengercount",hash:{},data:l}))+'<i class="icon icon-adult-male-customer people-count"></i></span></p> '},46:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return" "+(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"!==","holiday",{name:"op",hash:{},fn:e.program(47,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"===","holiday",{name:"op",hash:{},fn:e.program(55,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},47:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(o=n.if.call(l,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.program(50,i,0),data:i}))?o:"")+'</h3><ol class="location__list"> '+(null!=(o=n.each.call(l,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(52,i,0),inverse:e.noop,data:i}))?o:"")+" </ol></section> "},48:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.allLocationsHeader:t,t))},50:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/all-locations__text",{name:"resource",hash:{},data:l}))?r:""},52:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <li tabindex="-1" class="location__item js-dropdown-select-item'+(null!=(r=a.if.call(s,null!=t?t.highlight:t,{name:"if",hash:{},fn:e.program(53,l,0),inverse:e.noop,data:l}))?r:"")+' js-location-list" data-dropdown-display="'+c(u(null!=(r=null!=t?t.city:t)?r.longName:r,t))+" ("+c(u(null!=t?t.iataCode:t,t))+')" data-dropdown-id="'+c(u(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=u(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" class="dropdown__link js-select-body js-location-link" aria-label="'+c(u(null!=(r=null!=t?t.cleanCity:t)?r.longName:r,t))+", "+c(u(null!=(r=null!=t?t.cleanCountry:t)?r.longName:r,t))+" "+c(u(null!=t?t.cleanLongName:t,t))+" "+c(u(null!=t?t.iataCode:t,t))+" "+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.stationType:t,"===","1",{name:"op",hash:{},data:l}),"||",i(n(1)).call(s,null!=t?t.stationType:t,"===","2",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?r:"")+'"><div class="location__airport" aria-hidden="true"><p class="location__airport__city" data-location-value="'+c(u(null!=(r=null!=t?t.city:t)?r.longName:r,t))+'"><span>'+(null!=(r=u(null!=(r=null!=t?t.city:t)?r.longName:r,t))?r:"")+(null!=(r=i(n(0)).call(s,"Common/Dropdown/comma__text",{name:"resource",hash:{},data:l}))?r:"")+"</span> "+(null!=(r=u(null!=(r=null!=t?t.country:t)?r.longName:r,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=u(null!=t?t.longName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(s,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(s,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'" aria-hidden="true">'+c(u(null!=t?t.iataCode:t,t))+"</p></div></li> "},53:function(e,t,n,a,i){return" highlight"},55:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=n.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(48,i,0,o,l),inverse:e.program(50,i,0,o,l),data:i}))?r:"")+'</h3><ol class="location__list"> '+(null!=(r=n.each.call(s,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(56,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </ol></section> "},56:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <li tabindex="-1" class="location__item js-dropdown-select-item'+(null!=(u=a.if.call(c,null!=t?t.highlight:t,{name:"if",hash:{},fn:e.program(53,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' js-location-list" data-dropdown-display="'+h(d(null!=t?t.title:t,t))+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(57,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'" data-dropdown-id="'+h(d(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms=""><a tabindex="-1" href="#" class="dropdown__link js-select-body js-location-link" aria-label="'+h(d(null!=t?t.title:t,t))+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(57,l,0,r,s),inverse:e.noop,data:l}))?u:"")+(null!=(u=a.if.call(c,null!=t?t.area:t,{name:"if",hash:{},fn:e.program(59,l,0,r,s),inverse:e.noop,data:l}))?u:"")+(null!=(u=a.if.call(c,null!=t?t.city:t,{name:"if",hash:{},fn:e.program(61,l,0,r,s),inverse:e.noop,data:l}))?u:"")+(null!=(u=a.if.call(c,null!=t?t.country:t,{name:"if",hash:{},fn:e.program(63,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'"><div class="location__airport"> '+(null!=(u=a.if.call(c,null!=t?t.groupcode:t,{name:"if",hash:{},fn:e.program(65,l,0,r,s),inverse:e.program(67,l,0,r,s),data:l}))?u:"")+" "+(null!=(u=a.if.call(c,null!=t?t.country:t,{name:"if",hash:{},fn:e.program(69,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div> "+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(71,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </a></li> "},57:function(e,t,n,a,i){return" ("+e.escapeExpression(e.lambda(null!=t?t.iataCode:t,t))+")"},59:function(e,t,n,a,i){var o;return", "+(null!=(o=e.lambda(null!=t?t.area:t,t))?o:"")},61:function(e,t,n,a,i){var o;return", "+(null!=(o=e.lambda(null!=t?t.city:t,t))?o:"")},63:function(e,t,n,a,i){var o;return", "+(null!=(o=e.lambda(null!=t?t.country:t,t))?o:"")},65:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression,s=null!=t?t:e.nullContext||{};return' <p class="location__airport__city" data-location-groupcode="'+r(l(null!=t?t.groupcode:t,t))+'" data-location-value="'+r(l(null!=t?t.iataCode:t,t))+'"><span>'+(null!=(o=l(null!=t?t.title:t,t))?o:"")+"</span>"+(null!=(o=n.if.call(s,null!=t?t.area:t,{name:"if",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))?o:"")+(null!=(o=n.if.call(s,null!=t?t.city:t,{name:"if",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))?o:"")+" </p> "},67:function(e,t,n,a,i){var o,l=e.lambda,r=null!=t?t:e.nullContext||{};return' <p class="location__airport__city" data-location-value="'+e.escapeExpression(l(null!=t?t.iataCode:t,t))+'"><span>'+(null!=(o=l(null!=t?t.title:t,t))?o:"")+"</span>"+(null!=(o=n.if.call(r,null!=t?t.area:t,{name:"if",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))?o:"")+(null!=(o=n.if.call(r,null!=t?t.city:t,{name:"if",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))?o:"")+" </p> "},69:function(e,t,n,a,i){var o;return' <p class="location__airport__name p12">'+(null!=(o=e.lambda(null!=t?t.country:t,t))?o:"")+"</p> "},71:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.iataCode:t,{name:"if",hash:{},fn:e.program(72,i,0),inverse:e.noop,data:i}))?o:"")+" "},72:function(e,t,n,a,i){var o;return' <p class="location__airport__acronym '+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?o:"")+'">'+e.escapeExpression(e.lambda(null!=t?t.iataCode:t,t))+"</p> "},74:function(e,t,n,a,i,o,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.uniqueDepartures:t,{name:"if",hash:{},fn:e.program(75,i,0,o,l),inverse:e.program(79,i,0,o,l),data:i}))?r:""},75:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global this" aria-live="off"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=n.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(48,i,0,o,l),inverse:e.program(50,i,0,o,l),data:i}))?r:"")+'</h3><ol class="location__list"> '+(null!=(r=n.each.call(s,null!=t?t.uniqueDepartures:t,{name:"each",hash:{},fn:e.program(76,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </ol></section> "},76:function(e,t,n,a,i,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li tabindex="-1" class="location__item js-dropdown-select-item" data-dropdown-display="'+u(s(null!=t?t.title:t,t))+'" data-dropdown-id="'+u(s(null!=t?t.code:t,t))+'" data-dropdown-search-terms="'+(null!=(r=s(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" aria-label="'+u(s(null!=t?t.title:t,t))+" "+u(s(null!=t?t.code:t,t))+'" class="dropdown__link js-select-body" '+(null!=(r=n.if.call(c,null!=l[1]?l[1].analyticsLabel:l[1],{name:"if",hash:{},fn:e.program(77,i,0,o,l),inverse:e.noop,data:i}))?r:"")+'><div class="location__airport" aria-hidden="true"><p class="location__airport__city js-airport-city" data-location-value="'+u(s(null!=t?t.title:t,t))+'">'+(null!=(r=s(null!=t?t.title:t,t))?r:"")+'</p><p class="location__airport__name js-airport-name p12"></p></div><p aria-hidden="true" class="location__airport__acronym '+(null!=(r=n.if.call(c,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,i,0,o,l),inverse:e.noop,data:i}))?r:"")+'">'+u(s(null!=t?t.code:t,t))+"</p></div></li> "},77:function(e,t,n,a,i,o,l){var r=e.lambda,s=e.escapeExpression;return'data-id="pagebody_link" data-link="'+s(r(null!=l[1]?l[1].analyticsLabel:l[1],t))+s(r(null!=t?t.code:t,t))+'" '},79:function(e,t,n,a,i){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showLoadOnFly:t,{name:"if",hash:{},fn:e.program(80,i,0),inverse:e.program(82,i,0),data:i}))?o:""},80:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global this"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=a.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(48,l,0),inverse:e.program(50,l,0),data:l}))?r:"")+'</h3><h3 class="location__global__heading--no-results">'+(null!=(r=i(n(0)).call(s,"BookManage/location/start-typing-header__text",{name:"resource",hash:{},data:l}))?r:"")+'</h3><p class="location__global__description--no-results">'+(null!=(r=i(n(0)).call(s,"BookManage/location/start-typing-paragraph__text",{name:"resource",hash:{},data:l}))?r:"")+"</p></section> "},82:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=a.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(48,l,0),inverse:e.program(50,l,0),data:l}))?r:"")+"</h3> "+(null!=(r=i(n(1)).call(s,null!=t?t.waiting:t,"===","true",{name:"op",hash:{},fn:e.program(83,l,0),inverse:e.program(85,l,0),data:l}))?r:"")+" </section> "},83:function(e,t,n,a,i){return' <div class="spinner"><i class="icon icon-loading"></i></div> '},85:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <h3 class="location__global__heading--no-results">'+(null!=(r=i(n(0)).call(s,"Common/Dropdown/no-results-header__text",{name:"resource",hash:{},data:l}))?r:"")+'</h3><p class="location__global__description--no-results">'+(null!=(r=i(n(0)).call(s,"Common/Dropdown/no-results-paragraph__text",{name:"resource",hash:{},data:l}))?r:"")+"</p> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"===","flight",{name:"op",hash:{},fn:e.program(1,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.if.call(c,null!=t?t.showCurrentLocation:t,{name:"if",hash:{},fn:e.program(12,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"===","flight",{name:"op",hash:{},fn:e.program(23,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.section:t,"===","flight",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(c,i(n(1)).call(c,null!=t?t.type:t,"===","origins",{name:"op",hash:{},data:l}),"&&",null!=t?t.showRecentSearches:t,{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(32,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.if.call(c,null!=t?t.items:t,{name:"if",hash:{},fn:e.program(46,l,0,r,s),inverse:e.program(74,l,0,r,s),data:l}))?u:"")},useData:!0,useDepths:!0})},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(2),i=n(10);e.exports=function(e,t){var n=t.hash,o=n.key,l=n.format,r=a(t,"data.root.metadata.siteConfigurations")||a(t,"data.root.config")||a(window,"__EK__.config"),s=a(r,"content.language.metadata.cultureConfigurations.content."+o+".title",l);return i(e).format(s)}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIndex=s,t.getPrioritySet=u,t.getDataSet=c,t.searchTextInProps=d,t.pushResult=h,t.filterData=p,t.valToLowercase=f,t.sortAlphabetically=m,t.sortDataSetByWeight=g,t.mergeData=v,t.mergeDataSet=_,t.processData=y,t.filterAirports=function(e,t){if(e&&t){var n=c(),a=y(n=p(e,(0,o.default)(t),n));return a}return t};var a=l(n(2)),i=l(n(122)),o=l(n(69));function l(e){return e&&e.__esModule?e:{default:e}}var r=["iataCode","shortName","longName","cleanLongName","alternateNames","city.code","city.shortName","cleanCity.shortName","city.longName","cleanCity.longName","city.alternateNames","country.code","country.a3code","country.shortName","cleanCountry.shortName","country.longName","cleanCountry.longName","country.alternateNames","region.longName"];function s(e,t){var n=-1;if(e&&t)if(Array.isArray(t))for(var a=0;a<t.length;a++){var i=t[a]?t[a].toLowerCase().indexOf(e.toLowerCase()):-1;if(i>-1){n=i,t.matchedIndexInArray=i;break}}else n=t.toLowerCase().indexOf(e.toLowerCase());return n}function u(){return{iataCode:[],shortName:[],longName:[],cleanLongName:[],alternateNames:[],"city.code":[],"city.shortName":[],"cleanCity.shortName":[],"city.longName":[],"cleanCity.longName":[],"city.alternateNames":[],"country.code":[],"country.a3code":[],"country.shortName":[],"cleanCountry.shortName":[],"country.longName":[],"cleanCountry.longName":[],"country.alternateNames":[],"region.longName":[]}}function c(){return{start:{iataCode:[],shortName:[],longName:[],cleanLongName:[],alternateNames:[],"city.code":[],"city.shortName":[],"cleanCity.shortName":[],"city.longName":[],"cleanCity.longName":[],"city.alternateNames":[],"country.code":[],"country.a3code":[],"country.shortName":[],"cleanCountry.shortName":[],"country.longName":[],"cleanCountry.longName":[],"country.alternateNames":[],"region.longName":[]},partial:{iataCode:[],shortName:[],longName:[],cleanLongName:[],alternateNames:[],"city.code":[],"city.shortName":[],"cleanCity.shortName":[],"city.longName":[],"cleanCity.longName":[],"city.alternateNames":[],"country.code":[],"country.a3code":[],"country.shortName":[],"cleanCountry.shortName":[],"country.longName":[],"cleanCountry.longName":[],"country.alternateNames":[],"region.longName":[]}}}function d(e,t){var n=void 0;if(e&&t)for(var i=0;i<r.length;i++){var o=r[i],l=(0,a.default)(t,o,""),u=-1;l&&(u=s(e,l))>-1&&((n=n||{key:r[i],item:t,matches:[]}).item.weight=void 0===n.item.weight?u:n.item.weight,n.matchingItemIndex=void 0===n.matchingItemIndex?0:n.matchingItemIndex,0!==n.item.weight&&0===u&&(n.key=r[i],n.item=t,n.item.weight=u,n.matchingItemIndex=n.matches.length),n.matches.push({key:r[i],value:l,indices:[[u,u+(e.length-1)]]}))}else n=t;return n}function h(e,t,n,a){0===n?a.start[t].push(e):(a.partial[t][n]=a.partial[t][n]||[],a.partial[t][n].push(e))}function p(e,t,n){return t.forEach(function(t){var i=d(e,t);if(i&&i.key){var o=i.matchingItemIndex,l=(0,a.default)(i.matches[o],"indices[0][0]",-1);h({item:t,matches:i.matches},i.key,l,n)}}),n}function f(e,t){var n=(0,a.default)(e,t,"");return Array.isArray(n)?(n[n.matchedIndexInArray]||n[0]).toLowerCase():n.toLowerCase()}function m(e){var t={};return e&&Object.keys(e).forEach(function(n){var a=e[n];t[n]=t[n]||[];var o="item."+n;t[n]=(0,i.default)(a,function(e){return f(e,o)},["dsc"])}),t}function g(e){return e&&Object.keys(e).forEach(function(t){var n=e[t]||[],a="item."+t;n=n.map(function(e){return e||[]}).reduce(function(e,t){return e.concat((0,i.default)(t,function(e){return f(e,a)},["dsc"]))},[]),e[t]=n}),e}function v(e){var t=[];e&&Object.keys(e).map(function(t){return e[t]}).forEach(function(e){t=e.length>0?t.concat(e):t});return t}function _(e){var t=[];if(e){var n=v(e.start)||[],a=v(e.partial)||[];t=t.concat(n,a)}return t}function y(e){return e.partial=g(e.partial),e.start=m(e.start),e=_(e),e=(0,i.default)(e,[function(e){return e.item.isEK}])}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(4));n(440);var i=l(n(3)),o=l(n(55));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a)),r=l.$el,s=r.offset().top;return(0,i.default)(window).on("scroll",(0,o.default)(function(){r.toggleClass("sticky--active",(0,i.default)(window).scrollTop()>s)},50)),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);r.selector=".js-sticky",t.default=r},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(442);var i=s(n(4)),o=s(n(3)),l=s(n(86)),r=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.createElements(),i.channel=i.$el.data("channel"),i.type=i.$el.data("type"),i.subtractEnabled=!1,i.$label=i.$el.find(".js-increment-label"),i.labelSingular=i.$label.data("singular"),i.labelPlural=i.$label.data("plural"),i.accessibilityText=(0,r.default)(__EK__,"resources.search-flight__passenger-increment-selected-accessibility__text",""),"room-person"===i.channel&&"adults"===i.type&&0===i.val&&(0,o.default)(i.$el).ready(function(){var e=i.$el.find(".js-increment-increase")[0];(0,o.default)(e).trigger("click")}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getiInitialValue=function(){return this.$el[0].getAttribute("data-initial")?+this.$el[0].getAttribute("data-initial"):null},t.prototype.createElements=function(){this.incrementValue=this.$el.find(".js-increment-value"),this.hiddenInput=this.$el.find(".js-hidden-input"),this.val=this.getiInitialValue()||this.min},t.prototype.setState=function(){this.val<=this.min&&this.disableSubtract(),this.val>this.min&&this.enableSubtract(),this.max<=this.val?(this.$el.addClass("increment-field--max"),this.$el.find(".js-increment-increase")[0].setAttribute("aria-disabled","true")):(this.$el.removeClass("increment-field--max"),this.$el.find(".js-increment-increase")[0].setAttribute("aria-disabled","false")),this.hiddenInput.val(this.val),this.incrementValue.text(this.val);var e=this.val<2?this.labelSingular:this.labelPlural;this.$label.text(e)},t.prototype.stopPropagation=function(e){e.stopPropagation()},t.prototype.setAccessibilityText=function(e){e.preventDefault(),this.$el.find(".js-increment-accessibility").html(this.accessibilityText+" "+this.val+" "+(this.val<2?this.labelSingular:this.labelPlural))},t.prototype.increaseInput=function(e){e.preventDefault(),this.val<this.max&&(this.val+=1,this.setState(),this.publish(this.channel+".increase",{type:this.type,value:this.val,event:e}),this.$el.find(".js-increment-accessibility").html(this.accessibilityText+" "+this.val+" "+(this.val<2?this.labelSingular:this.labelPlural)))},t.prototype.decreaseInput=function(e){e.preventDefault(),this.val>this.min?(this.val-=1,this.setState(),this.publish(this.channel+".decrease",{type:this.type,value:this.val,event:e}),this.$el.find(".js-increment-accessibility").html(this.accessibilityText+" "+this.val+" "+(this.val<2?this.labelSingular:this.labelPlural))):this.$el.addClass("increment-field--empty")},t.prototype.setIsAtMax=function(){this.$el.addClass("increment-field--max"),this.isAtMax=!0,this.$el.find(".js-increment-increase")[0].setAttribute("aria-disabled","true")},t.prototype.disableIsAtMax=function(){this.$el.removeClass("increment-field--max"),this.isAtMax=!1,this.$el.find(".js-increment-increase")[0].setAttribute("aria-disabled","false")},t.prototype.disableSubtract=function(){this.subtractEnabled=!1,this.$el.addClass("increment-field--subtract-disabled"),this.$el.find(".js-increment-decrease")[0].setAttribute("aria-disabled","true")},t.prototype.enableSubtract=function(){this.subtractEnabled=!0,this.$el.removeClass("increment-field--subtract-disabled"),this.$el.find(".js-increment-decrease")[0].setAttribute("aria-disabled","false")},t.prototype.handleUpdateSearchFlight=function(e,t){t.validity;var n=t.data,a=(t.refs,t.recentSearch);if("passenger"===this.channel){var i=0;(0,l.default)(n.seats,function(e,t){i+="infants"===t?0:e});var o=n.flightClassMaxPassengers-i+this.val;if("infants"===this.type)this.$el[0].setAttribute("data-max",n.seats.adults+n.seats.OFW),n.seats.adults+n.seats.OFW<n.seats.infants&&(this.val=n.seats.adults+n.seats.OFW,this.publish(this.channel+".increase",{type:this.type,value:this.val}),this.setState());else if("children"===this.type){var s=n.seats.adults+n.seats.OFW===0;this.$el[0].setAttribute("data-max",s?0:o),s&&n.seats.children>0&&(this.val=0,this.publish(this.channel+".increase",{type:this.type,value:this.val}),this.setState())}else this.$el[0].setAttribute("data-max",o);a&&(this.val=n.seats[this.type],this.publish(this.channel+".increase",{type:this.type,value:this.val})),this.val=(0,r.default)(n,"seats."+this.type,""),this.setState()}},t.prototype.handleUpdateSearchHoliday=function(e,t){"room-person"===this.channel&&(this.$el.closest(".js-holiday-room").data("id")===t.roomId&&(this.val=(0,r.default)(t,"details."+this.type,""),this.setState()))},t.prototype.passengerDisplay=function(){this.setState()},a(t,[{key:"max",get:function(){return this.$el[0].getAttribute("data-max")?+this.$el[0].getAttribute("data-max"):9}},{key:"min",get:function(){return this.$el[0].getAttribute("data-min")?+this.$el[0].getAttribute("data-min"):0}}]),t}(i.default);u.selector=".js-increment-field",u.events={click:"stopPropagation","click .js-increment-increase":"increaseInput","click .js-increment-decrease":"decreaseInput","search-flight.update":"handleUpdateSearchFlight","search-holiday.update":"handleUpdateSearchHoliday","passengers.display":"passengerDisplay","focus .js-increment-increase":"setAccessibilityText","focus .js-increment-decrease":"setAccessibilityText"},t.default=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(236);var a=g(n(3)),i=g(n(12)),o=g(n(34)),l=g(n(2)),r=g(n(23)),s=g(n(4)),u=g(n(444)),c=n(5),d=n(11),h=n(242),p=g(n(445)),f=g(n(69)),m=g(n(44));function g(e){return e&&e.__esModule?e:{default:e}}var v=(0,n(7).getConfig)("country"),_=v?v.toUpperCase():"",y={TAB:9,ENTER:13,ESCAPE:27,DOWN:40,UP:38,BACKSPACE:8,ANDROID_SPECIAL:229},b=(0,r.default)(function(e){if(e.originalEvent){var t=e.target.value.length;e.target.focus(),e.target.setSelectionRange(0,t)}},10),w=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));if(o.defaults={isSelect:!1,isFilter:!1,isLoadOnFly:!1,isLoading:!1,isLocked:!1,dataSet:!1,onlyLocalOrigins:!1},o.options=o.readAttributes(o.defaults),o.lang=(0,a.default)("html").attr("lang"),o.isFiltered=!1,o.isKeyDown=!1,o.$el&&o.$el.attr("data-aria-search-id")){var l=o.$el.attr("data-aria-search-id");o.$elSearchResultContainer=o.$el.find("#"+l)&&o.$el.find("#"+l)[0]}return o.state={selectedValue:null,previousValue:null},o.options.isSelect?(o.createSelect(),o.options.isFilter&&o.createFilter(),o.options.isLoadOnFly&&o.loadOnFly(),o.fieldInput.val()&&o.setSelected()):o.createStandardDropdown(),"origins"!==o.options.dataType&&"destinations"!==o.options.dataType||(o.options.isLoading=!0),"holiday"===o.options.section&&"destinations"===o.options.dataType&&(o.options.isLoading=!1),(0,a.default)(o.$el).ready(function(){o.$el.find(".three-date-dropdown").length>0&&(0,a.default)(o.$el.find(".three-date-dropdown .three-date-dropdown__link")[1]).trigger("click")}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleSelectText=function(e){this.options.isLocked?this.$el.find("input").blur():this.options.isFilter&&b(e)},t.prototype.handleFocus=function(e){var t=this;this.options.isLocked||(this.fieldInput&&this.fieldInput.val().length>0&&this.setSelected(),this.isKeySelected?setTimeout(function(){return t.isKeySelected=!1},100):this.toggleButton&&(this.toggleButton.is(e.target)||this.toggleButton.find(".js-toggle-text").is(e.target))||this.dropdownOpen(e))},t.prototype.dropdownToggle=function(e){e.stopPropagation();var t=null;if(this.options.shouldExpandCollapseAnnounce&&(t=this.$el.find(".should-expand-collapse-announce").length?this.$el.find(".should-expand-collapse-announce")[0]:null),this.$el.hasClass("show")){if(this.closeDropdown(),t){var n=window.__EK__.resources&&window.__EK__.resources["Common/Accessibility/collapsed__text"]?window.__EK__.resources["Common/Accessibility/collapsed__text"]:"";t.setAttribute("aria-label",n)}}else if(this.dropdownOpen(e),this.setSelected(),t){var a=window.__EK__.resources&&window.__EK__.resources["Common/Accessibility/expanded__text"]?window.__EK__.resources["Common/Accessibility/expanded__text"]:"";t.setAttribute("aria-live","assertive"),t.setAttribute("aria-label",a)}},t.prototype.focusInHandler=function(){this.isKeyDown=!1,clearTimeout(this.closeTimer)},t.prototype.focusOutHandler=function(e){var t=this;e&&e.stopPropagation(),"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&null!==e.relatedTarget&&(this.closeTimer=setTimeout(function(){return t.closeDropdown()},100))},t.prototype.isBestMatch=function(){var e=(0,l.default)(this,"options.dataSet.highlightedResults.0.stationCode","");return!!this.fieldInput&&(this.isFiltered&&e&&!this.state.selectedValue)},t.prototype.chooseBestMatch=function(){var e=(0,l.default)(this,"options.dataSet.highlightedResults.0.stationCode",!1),t=this.$el.find('.js-dropdown-select-item[data-dropdown-id="'+e+'"]').first();if(e&&t.length){this.state.selectedValue=e,this.setDropDownValue(this.getDisplayValue(t)),this.resetDropdownValues();var n=this.$el.data("section"),a="origins"===this.options.dataType?"origin":"destination",i=(0,o.default)(this.options.dataSet.items,function(t){return t.stationCode===e}),r=this.fieldInput.length&&this.fieldInput[0].name;if("origin"===a&&i){var s={shortName:i.country,code:i.countryCode,longName:i.countryLongName};this.fetchDestinationsForOrigin(i.stationCode,!0,s)}this.publish("search.selection."+n,{type:a,value:i,name:r})}},t.prototype.getDisplayValue=function(e){var t=e.data("dropdownDisplay");return{value:e.data("dropdownId"),display:t.replace(/<span class="to-highlight">(.*?)<\/span>/g,"$1")}},t.prototype.readAttributes=function(e){var t=(0,i.default)({},e,this.$el.data());return t.dataSet=!!t.dataSet&&(0,l.default)(window,"__EK__."+t.dataSet),t},t.prototype.toggleModal=function(e){(0,a.default)((0,a.default)(e.currentTarget).data("modalSel")).toggleClass("dropdown--modal")},t.prototype.createSelect=function(){this.hiddenInput=this.$el.find(".js-hidden-select"),this.$selectableItems=this.$el.find(".js-dropdown-select-item"),this.fieldInput=this.$el.find(".field__input"),this.fieldLabel=this.$el.find(".js-label"),this.dropdown=this.$el.find(".dropdown"),this.closeButton=this.$el.find(".dropdown__heading__close").length>0?this.$el.find(".dropdown__heading__close"):this.$el.find(".dropdown__close"),this.fieldValue=this.$el.find(".js-field-value"),this.toggleButton=this.$el.find(".js-drop-open"),this.isKeySelected=!1,this.isMobileBubbleDropdown=this.$el.hasClass("js-mobile-bubble-dropdown"),this.bindHideClick(),this.bindLazyScrollEvent()},t.prototype.cleanSearchString=function(e){return e.trim()},t.prototype.createFilter=function(){var e=this,t="mobile"===(0,c.getCurrentBreakpoint)().breakpoint?500:100,n=(0,r.default)(function(t){var n=e.cleanSearchString(e.fieldInput.val());if(n&&!(n.length<1)){var a={stationDetail:{stations:e.options.dataSet.items,templates:e.options.dataSet.searchTemplate},searchStr:n};return(0,p.default)(a).then(function(a){e.isFiltered=!0,e.state.selectedValue=null,e.options.dataSet.highlightedResults=(0,h.highlightStationResults)(n,(0,f.default)(a)),t.keyCode!==y.BACKSPACE&&t.keyCode!==y.ANDROID_SPECIAL&&n.length>1&&(0,h.predictiveHighlight)(a,e.fieldInput);var i=(1===a.length?a:[])[0];return e.updateSuggestedItems((0,l.default)(i,"stationCode"))})}if(e.isFiltered)return e.isFiltered=!1,e.bulkRender()},t);this.fieldInput.on("keydown paste",function(e){e.ctrlKey||e.altKey||e.metaKey||[y.TAB,y.UP,y.DOWN].indexOf(e.keyCode)>-1||n(e)})},t.prototype.loadOnFly=function(){var e=this,t="mobile"===(0,c.getCurrentBreakpoint)().breakpoint?500:300,n=(0,r.default)(function(t){var n=e.cleanSearchString(e.fieldInput.val());n.length>=3?e.publish("dest-holiday.load",n):e.showHolidayDestinationsDefaultTemplate()},t);this.fieldInput.on("keydown",function(t){if(!(t.ctrlKey||t.altKey||t.metaKey||[y.UP,y.DOWN].indexOf(t.keyCode)>-1))if(y.TAB===t.keyCode&&e.fieldInput[0].value.length>=3){var a=e.options.dataSet.items,i=a.length>0?a[0]:[],o=e.fieldInput.length&&e.fieldInput[0].name,r=(0,l.default)(i,"title"),s=(0,l.default)(i,"iataCode");e.setDropDownValue({display:r,value:s}),e.publish("search.selection.holiday",{type:"destination",value:i,name:o})}else n(t)}),this.showHolidayDestinationsDefaultTemplate()},t.prototype.resetDropdownValues=function(){this.isFiltered=!1,this.bulkRender()},t.prototype.createStandardDropdown=function(){this.dropdown=this.$el.find(".dropdown"),this.toggleButton=this.$el.find(".js-drop-open")},t.prototype.availableIconForLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(!e.isLocal&&!e.stationCode)&&e.stationCode===(0,l.default)(this,"options.dataSet.closest.stationCode"),n=e.stationType&&"TRAIN"===e.stationType;return{local:t,bus:e.stationType&&"BUS"===e.stationType,train:n,clear:!1}},t.prototype.dropdownItemClicked=function(e){var t=(0,a.default)(e.currentTarget).data("dropdownId"),n=e.keyCode===y.TAB&&(0,l.default)(this,"options.dataSet.highlightedResults.0.stationCode","-")===t;if("Enter"===e.key||e.keyCode===y.ENTER||"click"===e.type||n){e.preventDefault();var i=!e.originalEvent;(0,a.default)(e.target).closest(".js-widget").length&&e.stopPropagation();var r=null===this.state.previousValue;this.state.selectedValue=t;var s=this.fieldInput.length&&this.fieldInput[0].name,u=(0,a.default)(e.currentTarget).data("dropdownRecentSearch"),d=this.$el.data("section"),h=(0,a.default)(e.currentTarget).data("dropdownDisplay");this.setSelected(),this.closeDropdown(),"Enter"!==e.key&&e.keyCode!==y.ENTER||this.$el.find(".js-clear-selected").focus(),h=h.replace(/<span class="to-highlight">(.*?)<\/span>/g,"$1"),this.setDropDownValue({display:h,value:t});var p=u?this.options.dataSet.searches:this.options.dataSet.items;if(p){var f=(0,o.default)(p,function(e){return u&&e.search_id===u||e.id===t||e.stationCode===t}),m="origins"===this.options.dataType?"origin":"destination",g=u?f[m]:f,v=this.availableIconForLocation(g),_=t;if("origin"===m&&!u){var b={shortName:g.country,code:g.countryCode,longName:g.countryLongName},w=!i;this.fetchDestinationsForOrigin(_,w,b)}this.updateSuggestedItems(t),u?this.publish("recent.search.selection",{item:f,isTrack:!0}):this.publish("search.selection."+d,{type:m,value:g,name:s}),this.resetDropdownValues(),this.setIcon(v),r&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.publish(m+".new.selection",{subsection:this.options.subsection})}else this.publish("dropdown.selection",{display:h,value:t,name:s,section:d});this.options.setActiveOnItems&&(this.$activeItem&&this.$activeItem.removeClass("active"),this.$activeItem=(0,a.default)(e.currentTarget).addClass("active").attr("aria-selected","true")),this.fieldInput&&this.isKeySelected&&(this.fieldInput.attr("aria-expanded","false"),this.fieldInput.select())}},t.prototype.dropdownItemKeyDown=function(e){switch(e.keyCode){case y.DOWN:e.preventDefault(),(0,a.default)(e.currentTarget).hasClass("js-location-list")?0===(0,a.default)(e.currentTarget).next(".js-dropdown-select-item").length?(0,a.default)(e.currentTarget).closest("section").next().find(".js-dropdown-select-item").first().find(".js-location-link").focus():(0,a.default)(e.currentTarget).next(".js-dropdown-select-item").find(".js-location-link").focus():(0,a.default)(e.currentTarget).next(".js-dropdown-select-item").focus();break;case y.UP:e.preventDefault(),(0,a.default)(e.currentTarget).hasClass("js-location-list")?0===(0,a.default)(e.currentTarget).prev(".js-dropdown-select-item").length?(0,a.default)(e.currentTarget).closest("section").prev().find(".js-dropdown-select-item").first().find(".js-location-link").focus():(0,a.default)(e.currentTarget).prev(".js-dropdown-select-item").find(".js-location-link").focus():(0,a.default)(e.currentTarget).prev(".js-dropdown-select-item").focus();break;case y.ENTER:this.isKeySelected=!0}},t.prototype.updateSuggestedItems=function(e){var t=this;return(0,d.getSuggestions)(e).then(function(e){t.options.isLoading=!1,t.options.dataSet.suggested=e}).then(this.bulkRender.bind(this))},t.prototype.updateDataSet=function(e){this.options.dataSet=(0,i.default)({},this.options.dataSet,e),this.options.dataSet.items&&("womf"!==this.options.section&&"status"!==this.options.section||(this.options.dataSet.items=this.options.dataSet.items.filter(function(e){return!0===e.emiratesOperated&&"CITY"!==e.locationType})))},t.prototype.setSelected=function(){this.$el.addClass("selected")},t.prototype.clearSelected=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.options.isLocked){this.isFiltered=!1,this.hiddenInput.val(""),this.fieldInput.val(""),null!==this.state.selectedValue&&(this.state.previousValue=this.state.selectedValue),this.state.selectedValue=null;var n=this.fieldInput[0].name,a=this.$el.data("section"),i="origins"===this.options.dataType?"origin":"destination";if(this.setIcon({clear:!0}),this.options.dataSet&&(this.options.dataSet.suggested=[],this.resetDropdownValues()),this.$el.removeClass("selected"),t&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus(),"origins"===this.options.dataType&&this.fetchDestinationsForOrigin("",!1),"holiday"===this.options.section&&"destinations"===this.options.dataType&&this.showHolidayDestinationsDefaultTemplate(),this.options.dataSet)return this.publish("search.selection."+a,{type:i,name:n,value:null});this.publish("dropdown.selection",{display:null,value:null,name:n,section:a})}},t.prototype.dropdownOpen=function(e){if(!(this.$el.hasClass("show")||this.$el.find(".show").length>0)){if((0,a.default)(e.target).is(".js-clear-selected"))return!1;(0,c.lockBody)(!0),(0,l.default)(this.options,"dataSet.searches",[]).length>0&&"origins"===this.options.dataType&&(0,c.trackBoxeverDebounced)(c.BOXEVER_VIEWED_EVENT,location),this.dropdown.addClass("visibly-hidden"),this.$el.addClass("show"),this.fieldInput&&this.fieldInput.attr("aria-expanded",!0),this.toggleButton.attr("aria-expanded",!0),this.closeButton&&this.closeButton.addClass("show"),this.toggleButton&&(this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-up"),this.toggleButton.find(".js-toggle-text").addClass("icon-chevron-up"),this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-down")),this.checkDropdownPosition(),this.dropdown.removeClass("visibly-hidden"),this.$el.trigger("open"),"mobile"===(0,c.getCurrentBreakpoint)().breakpoint&&this.isMobileBubbleDropdown&&this.scrollToDropdown(),this.bindHideClick()}},t.prototype.checkDropdownPosition=function(){var e=this.dropdown.offset().left;e<0&&this.dropdown.css("margin-left",-e)},t.prototype.closeDropdown=function(e){this.isBestMatch()&&this.chooseBestMatch(),this.resetLazyScrollState(),e&&(e.preventDefault(),(0,a.default)(e.currentTarget).is(this.closeButton)&&(0,c.lockBody)(!1)),this.isFiltered&&0===((0,l.default)(this,"options.dataSet.highlightedResults")||[]).length&&this.clearSelected(null,!1),this.toggleButton.attr("aria-expanded",!1),this.$el.removeClass("show"),this.closeButton&&this.closeButton.removeClass("show"),this.toggleButton&&(this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-down"),this.toggleButton.find(".js-toggle-text").addClass("icon-chevron-down"),this.toggleButton.find(".js-toggle-text").removeClass("icon-chevron-up")),this.unbindHideClick(),this.$el.trigger("close")},t.prototype.bindHideClick=function(){var e=this;(0,a.default)(document).on(this.getHideEventName(),function(t){e.respondToDocumentClick(t,e)})},t.prototype.unbindHideClick=function(){(0,a.default)(document).off(this.getHideEventName())},t.prototype.getHideEventName=function(){return this.mousedownEventNamespace||(this.mousedownEventNamespace=Math.random()),"mousedown.drop-down-"+this.mousedownEventNamespace},t.prototype.respondToDocumentClick=function(e,t){t.$el.is(e.target)||0!==t.$el.has(e.target).length||0!==(0,a.default)(e.target).parents(".js-cookie").length||t.closeDropdown()},t.prototype.resetMargin=function(){this.dropdown.attr("style","")},t.prototype.bulkRender=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=this.isFiltered,n=t?this.options.dataSet.highlightedResults:this.options.dataSet.items,a=this._updateDataSetItems((n||[]).slice(0,e));a.showRecentSearches=!t,this.options.onlyLocalOrigins&&!0===this.options.onlyLocalOrigins?a.showCurrentLocation=!t&&a.closestLocalOrigin:a.showCurrentLocation=!t&&a.closest,a.showLoadOnFly=this.options.isLoadOnFly&&this.options.showLoadOnFly||!1,a.section=this.options.section,a.type=this.options.dataType,(this.isFiltered||this.options.isLoadOnFly)&&a.items.length>0&&(a.items[0].highlight=!0),!this.options.isLoading||0!==a.items.length||"origins"!==this.options.dataType&&"destinations"!==this.options.dataType||(a.waiting="true"),this.dropdown.html(this.getTemplate(a));var i=(0,l.default)(window,"__EK__.resources"),o=i["BookManage/search-flight/search-results__text"],r=i["BookManage/search-flight/search-result__text"],s=i["BookManage/search-flight/search-no-results-found__text"],u=0!=a.items.length?1==a.items.length?a.items.length+" "+r:a.items.length+" "+o:s;this.$elSearchResultContainer&&(this.$elSearchResultContainer.innerHTML=u)},t.prototype.lazyScroll=function(){var e=this.dropdown;if(!(e.scrollTop()+e.innerHeight()<e[0].scrollHeight-100)){this.currentLazyScrollLimit=this.currentLazyScrollLimit||30,this.currentLazyScrollLimit+=30;var t=(0,a.default)(e).find(".js-dropdown-select-item").last().data("dropdownId");this.bulkRender(this.currentLazyScrollLimit),this.isKeyDown&&((0,a.default)(e).find('.js-dropdown-select-item[data-dropdown-id="'+t+'"]').find(".js-location-link").focus(),this.isKeyDown=!1)}},t.prototype.bindLazyScrollEvent=function(){this.lazyScrollEventBinded||"origins"!==this.options.dataType&&"destinations"!==this.options.dataType||(this.dropdown.on("scroll.lazy-render",this.lazyScroll.bind(this)),this.lazyScrollEventBinded=!0)},t.prototype.resetLazyScrollState=function(){this.currentLazyScrollLimit=30,this.dropdown[0].scrollTop=0},t.prototype._updateDataSetItems=function(e){return this.$elSearchResultContainer&&(this.$elSearchResultContainer.innerHTML=""),(0,i.default)({},this.options.dataSet,{items:e})},t.prototype.getTemplate=function(e){switch(e.lang=this.lang,e.resources=(0,l.default)(window,"__EK__.resources"),this.options.template){case"location":case"holiday":return(0,u.default)(e)}},t.prototype.hasChanged=function(e){this.fieldInput&&e.target.value.length>0&&this.setSelected(),this.fieldInput&&0===e.target.value.length&&this.clearSelected(e,!1)},t.prototype.setIcon=function(e){var t=e.local,n=e.bus,a=e.train,i=e.clear,o=null;n&&(o="icon-bus"),a&&(o="icon-train"),t&&(o="icon-location"),this.$el.removeClass("location-icon-show"),this.$el.find(".dropdown__input-container").find(".dropdown__location--icon").remove(),!i&&o&&this.$el.find(".dropdown__input-container").find(".dropdown__location--icon").length<1&&(this.$el.addClass("location-icon-show"),this.$el.find(".dropdown__input-container").append('<i class="icon '+o+' dropdown__location--icon"></i>'))},t.prototype.handleKeyDown=function(e){this.options.isLocked||(e.keyCode===y.DOWN&&(this.isKeyDown=!0),e.keyCode===y.ESCAPE&&this.closeDropdown())},t.prototype.dropdownKeyDown=function(e){if(e.keyCode===y.DOWN)return this.$el.hasClass("show")?null!=this.$activeItem?this.$activeItem.focus():void(this.$el.find(".js-dropdown-select-item").length>0&&this.$el.find(".js-dropdown-select-item").first().find(".js-location-link").focus()):this.dropdownOpen(e);y.TAB===e.keyCode&&this.$el.find(".js-dropdown-select-item.highlight").first().trigger("click")},t.prototype.fetchDestinationsForOrigin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.publish("origin.selected."+this.options.section,{iataCode:e,focusDestinations:t,originCountry:n})},t.prototype.handleLoadedDestinations=function(e,t){var n=t.section;if(this.options.dataType&&"destinations"===this.options.dataType&&this.options.section===n){var a=t.destinations,i=t.focusDestinations,o=void 0===i||i,l=t.clearDestination,r=void 0!==l&&l,s=t.searchTemplate;this.options.isLoading=!1,this.updateDataSet({items:a,searchTemplate:s}),this.checkValidDestinationIataCode(this.state.selectedValue)&&!r||this.clearSelected(null,o),this.bulkRender(),o&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus()}},t.prototype.handleOriginHolidaySelected=function(e){"holiday"===this.options.section&&"destinations"===this.options.dataType&&"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus()},t.prototype.showHolidayDestinationsDefaultTemplate=function(){"holiday"===this.options.section&&"destinations"===this.options.dataType&&(this.options.isLoading=!1,this.options.showLoadOnFly=!0,this.updateDataSet({items:[]}),this.bulkRender(),"mobile"!==(0,c.getCurrentBreakpoint)().breakpoint&&this.fieldInput.focus())},t.prototype.checkValidDestinationIataCode=function(e){return(0,o.default)(this.options.dataSet.items,function(t){return t.stationCode===e})},t.prototype.handleSearchesLoaded=function(e,t){!this.options.section||"flight"!==this.options.section||"origins"!==this.options.dataType&&"destinations"!==this.options.dataType||(this.updateDataSet({searches:t}),this.resetDropdownValues())},t.prototype.setDropDownValue=function(e){var t=e.display,n=e.value;this.fieldInput.val(t).trigger("change"),this.fieldLabel.text(t),this.hiddenInput.val(n),this.state.selectedValue=n},t.prototype.handleRecentSearchLocation=function(e,t){var n=t.origins,a=t.display,i=t.value,o=t.isTrack;"flight"===this.options.section&&("origins"===this.options.dataType&&"recent.search.origin"===e&&(o&&(0,c.trackBoxeverDebounced)(c.BOXEVER_CLICKED_EVENT,location),this.setDropDownValue({display:a,value:i}),this.updateDataSet(n&&n.length>0?{items:n}:{}),this.checkValidDestinationIataCode(this.state.selectedValue)||this.clearSelected(null,!1)),"destinations"===this.options.dataType&&"recent.search.destination"===e&&this.setDropDownValue({display:a,value:i}))},t.prototype.handleOriginsRefresh=function(e,t){var n=this;if("holiday"!==this.options.section&&"origins"===this.options.dataType){if(this.updateDataSet(t),this.options.onlyLocalOrigins&&!0===this.options.onlyLocalOrigins)this.checkLocalOriginCountrySite()&&this.options.dataSet.items&&(this.options.dataSet.items=this.filterLocalOrigins(this.options.dataSet.items));var a=this.checkValidDestinationIataCode(this.state.selectedValue),i=this.fieldInput.val().length>0,l=(0,o.default)(this.options.dataSet.items,function(e){return e.stationCode===n.state.selectedValue})||{country:""};if(!a&&i&&this.clearSelected(null,!1),this.bulkRender(),"flight"===this.options.section&&t.preselectFirstOptionSearchFlight)this.$el.find(".js-dropdown-select-item").first().trigger("click"),this.handleLocalOriginsRefresh(this.options.dataSet);else if("flight"!==this.options.section&&t.preselectFirstOption)this.$el.find(".js-dropdown-select-item").first().trigger("click");else if(a||!i){var r={shortName:l.country,code:l.countryCode,longName:l.countryLongName};this.fetchDestinationsForOrigin(a?a.stationCode:"",!1,r)}}},t.prototype.handleLocalOriginsRefresh=function(e){e.items&&1===e.items.length&&(this.$el.removeClass("selected"),this.options.isLocked=!0,this.$el.find(".js-field-input").first().attr("aria-disabled","true"),this.$el.find(".js-fields").addClass("field--locked"),this.$el.find(".js-fields").attr("tabindex","-1"))},t.prototype.handleHolidayOriginsRefresh=function(e,t){"holiday"===this.options.section&&"origins"===this.options.dataType&&(this.updateDataSet(t),this.bulkRender(),t.preselectFirstOption&&(this.$el.find(".js-dropdown-select-item").first().trigger("click"),1===t.items.length&&(this.$el.removeClass("selected"),this.options.isLocked=!0,this.$el.find(".js-field-input").first().attr("aria-disabled","true"),this.$el.find(".js-fields").addClass("field--locked"),this.$el.find(".js-fields").attr("tabindex","-1"))))},t.prototype.handleHolidayDestinationsRefresh=function(e,t){"holiday"===this.options.section&&"destinations"===this.options.dataType&&(this.options.showLoadOnFly=!1,this.updateDataSet(t),this.bulkRender())},t.prototype.handleFeaturedFaresCitySelect=function(e,t){if(this.options.isFeaturedFares){if(!t||!t.airportsByIataCode[t.iataCode])return;var n=t.airportsByIataCode[t.iataCode];this.setDropDownValue({display:n.shortName,value:t.iataCode})}},t.prototype.scrollToDropdown=function(){var e=this.dropdown.offset().top+this.dropdown.height(),t=this.$el.parents(".js-widget-panel");e>(0,a.default)(window).height()&&(0,c.scrollInElement)(t,this.dropdown.offset().top,500)},t.prototype.checkLocalOriginCountrySite=function(){var e=(0,l.default)(window,"__EK__.env.LOCAL_ORIGINS_COUNTRY_LIST"),t=(0,l.default)(window,"__EK__.env.ENABLE_BOOKING_WIDGET_LOCAL_ORIGIN");if(t&&"true"===String(t).toLocaleLowerCase()){var n=e?e.toUpperCase().split(","):"";return(0,m.default)(n,_)}return!1},t.prototype.filterLocalOrigins=function(e){return e.filter(function(e){return e.countryCode===_})},t}(s.default);w.selector=".js-dropdown-v2",w.events={focusin:"focusInHandler",focusout:"focusOutHandler","focus .js-dropdown-open":"handleFocus","click .js-modal":"toggleModal","click .js-dropdown-select-item":"dropdownItemClicked","keyup .js-dropdown-select-item":"dropdownItemClicked","keydown .js-dropdown-select-item":"dropdownItemKeyDown","keydown .js-dropdown-open":"dropdownKeyDown","mousedown .js-dropdown-open":"handleFocus","focus .js-dropdown-open-hover":"handleFocus","touchstart .js-dropdown-open-hover":"handleFocus","mouseenter .js-dropdown-open-hover":"handleFocus","mouseleave .js-dropdown-open-hover":"closeDropdown","click .button":"dropdownOpen","click .js-clear-selected":"clearSelected","breakpoint.mobile":"resetMargin","click .js-dropdown-back":"closeDropdown","click .js-drop-open":"dropdownToggle",input:"hasChanged",keydown:"handleKeyDown","destinations.loaded":"handleLoadedDestinations","origin.selected.holiday":"handleOriginHolidaySelected","searches.loaded":"handleSearchesLoaded","recent.search.origin":"handleRecentSearchLocation","recent.search.destination":"handleRecentSearchLocation","origin-flight.refresh":"handleOriginsRefresh","origin-holiday.refresh":"handleHolidayOriginsRefresh","dest-holiday.refresh":"handleHolidayDestinationsRefresh","featuredFaresCity.select":"handleFeaturedFaresCitySelect","focus .js-field-input":"handleSelectText"},t.default=w},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.type:t,"===","destinations",{name:"op",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?r:"")+" "},2:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.popular:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+" "},3:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.popular:t)?r.length:r,">",0,{name:"op",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?r:"")+" "},4:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-destinations location__icon location__icon--location"></i>'+(null!=(o=n.if.call(l,null!=t?t.searchLocationHeader:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?o:"")+'</h3><ol class="location__list"> '+(null!=(o=n.each.call(l,null!=t?t.popular:t,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?o:"")+" </ol></section> "},5:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.searchLocationHeader:t,t))},7:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/popular-location__text",{name:"resource",hash:{},data:l}))?r:""},9:function(e,t,a,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li class="location__item js-dropdown-select-item" data-dropdown-display="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+" ("+u(s(null!=t?t.iataCode:t,t))+')" data-dropdown-id="'+u(s(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=s(null!=t?t["search-terms"]:t,t))?r:"")+'"><a href="#" class="dropdown__link js-select-body"><div class="location__airport"><p class="location__airport__city" data-location-value="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+'"><span>'+(null!=(r=s(null!=(r=null!=t?t.city:t)?r.longName:r,t))?r:"")+",</span> "+(null!=(r=s(null!=(r=null!=t?t.country:t)?r.longName:r,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=s(null!=t?t.longName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(c,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(c,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'">'+u(s(null!=t?t.iataCode:t,t))+"</p></a></li> "},10:function(e,t,n,a,i){return"to-highlight"},12:function(e,t,n,a,i){var o;return" "+(null!=(o=n.with.call(null!=t?t:e.nullContext||{},null!=t?t.closest:t,{name:"with",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?o:"")+" "},13:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-location location__icon location__icon--location"></i>'+(null!=(r=a.if.call(s,null!=t?t.currentLocationHeader:t,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?r:"")+'</h3><ol class="location__list" ><li tabindex="-1" class="location__item js-dropdown-select-item js-location-list" data-dropdown-display="'+c(u(null!=t?t.cityLongName:t,t))+" ("+c(u(null!=t?t.stationCode:t,t))+')" data-dropdown-id="'+c(u(null!=t?t.stationCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=u(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" aria-label="'+c(u(null!=t?t.cityLongName:t,t))+", "+c(u(null!=t?t.countryLongName:t,t))+" "+c(u(null!=t?t.stationLongName:t,t))+" "+c(u(null!=t?t.stationCode:t,t))+" "+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.stationType:t,"===","BUS",{name:"op",hash:{},data:l}),"||",i(n(1)).call(s,null!=t?t.stationType:t,"===","TRAIN",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?r:"")+'" class="dropdown__link js-select-body js-location-link"><div class="location__airport" aria-hidden="true"><p class="location__airport__city" data-location-value="'+c(u(null!=t?t.cityLongName:t,t))+'"><span>'+(null!=(r=u(null!=t?t.cityLongName:t,t))?r:"")+(null!=(r=i(n(0)).call(s,"Common/Dropdown/comma__text",{name:"resource",hash:{},data:l}))?r:"")+"</span> "+(null!=(r=u(null!=t?t.countryLongName:t,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=u(null!=t?t.stationLongName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(s,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(s,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'" aria-hidden="true">'+c(u(null!=t?t.stationCode:t,t))+"</p></div></li></ol></section> "},14:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.currentLocationHeader:t,t))},16:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/current-location__text",{name:"resource",hash:{},data:l}))?r:""},18:function(e,t,a,o,l){return e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/search-flight/operated-by-non-ek__text",{name:"resource",hash:{},data:l}))},20:function(e,t,a,o,l){var r;return null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.emiratesOperated:t,"===",!0,{name:"op",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?r:""},21:function(e,t,a,o,l){return e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/search-flight/operated-by-emirates__text",{name:"resource",hash:{},data:l}))},23:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.suggested:t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?o:"")+" "},24:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.suggested:t)?r.length:r,">",0,{name:"op",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l}))?r:"")+" "},25:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-moon-lighting-system location__icon location__icon--location"></i>'+(null!=(o=n.if.call(l,null!=t?t.suggestedLocationHeader:t,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.program(28,i,0),data:i}))?o:"")+'</h3><ol class="location__list"> '+(null!=(o=n.each.call(l,null!=t?t.suggested:t,{name:"each",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?o:"")+" </ol></section> "},26:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.suggestedLocationHeader:t,t))},28:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/suggested-location__text",{name:"resource",hash:{},data:l}))?r:""},30:function(e,t,a,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li tabindex="-1" class="location__item js-dropdown-select-item" data-dropdown-display="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+" ("+u(s(null!=t?t.iataCode:t,t))+')" data-dropdown-id="'+u(s(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=s(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" class="dropdown__link js-select-body js-location-link" aria-label="'+u(s(null!=(r=null!=t?t.cleanCity:t)?r.longName:r,t))+", "+u(s(null!=(r=null!=t?t.cleanCountry:t)?r.longName:r,t))+" "+u(s(null!=t?t.cleanLongName:t,t))+" "+u(s(null!=t?t.iataCode:t,t))+" "+(null!=(r=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.stationType:t,"===","1",{name:"op",hash:{},data:l}),"||",i(n(1)).call(c,null!=t?t.stationType:t,"===","2",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.program(31,l,0),data:l}))?r:"")+'"><div class="location__airport" aria-hidden="true"><p class="location__airport__city" data-location-value="'+u(s(null!=(r=null!=t?t.city:t)?r.longName:r,t))+'"><span>'+(null!=(r=s(null!=(r=null!=t?t.city:t)?r.longName:r,t))?r:"")+",</span> "+(null!=(r=s(null!=(r=null!=t?t.country:t)?r.longName:r,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=s(null!=t?t.longName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(c,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(c,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'" aria-hidden="true" >'+u(s(null!=t?t.iataCode:t,t))+"</p></div></li> "},31:function(e,t,a,o,l){var r;return null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.isEK:t,"===","Yes",{name:"op",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l}))?r:""},33:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.searches:t,{name:"if",hash:{},fn:e.program(34,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},34:function(e,t,a,o,l,r,s){var u;return" "+(null!=(u=i(n(1)).call(null!=t?t:e.nullContext||{},null!=(u=null!=t?t.searches:t)?u.length:u,">",0,{name:"op",hash:{},fn:e.program(35,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},35:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-clock-fare location__icon location__icon--location"></i>'+(null!=(r=n.if.call(s,null!=t?t.searchLocationHeader:t,{name:"if",hash:{},fn:e.program(5,i,0,o,l),inverse:e.program(36,i,0,o,l),data:i}))?r:"")+'</h3><ol class="location__list"> '+(null!=(r=n.each.call(s,null!=t?t.searches:t,{name:"each",hash:{},fn:e.program(38,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </ol></section> "},36:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/search-location__text",{name:"resource",hash:{},data:l}))?r:""},38:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <li class="location__item js-dropdown-select-item" data-dropdown-display="'+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(39,l,0,r,s),inverse:e.program(41,l,0,r,s),data:l}))?u:"")+'" data-dropdown-id="'+h(d(null!=t?t.origin_iata:t,t))+'" data-dropdown-recent-search="'+h(d(null!=t?t.search_id:t,t))+'"><a href="#" class="dropdown__link js-select-body"><div class="location__airport"><p class="location__airport__city" data-location-value="'+h(d(null!=(u=null!=t?t.city:t)?u.longName:u,t))+'"><span>'+(null!=(u=d(null!=(u=null!=t?t.origin:t)?u.shortName:u,t))?u:"")+"</span> "+(null!=(u=i(n(0)).call(c,"BookManage/location/search-item-divider__text",{name:"resource",hash:{},data:l}))?u:"")+" <span>"+(null!=(u=d(null!=(u=null!=t?t.destination:t)?u.shortName:u,t))?u:"")+"</span></p> "+(null!=(u=i(n(1)).call(c,null!=t?t.flight_type:t,"===","RT",{name:"op",hash:{},fn:e.program(43,l,0,r,s),inverse:e.program(45,l,0,r,s),data:l}))?u:"")+' </div><p class="location__airport__acronym">'+h(d(null!=t?t.origin_iata:t,t))+"</p></a></li> "},39:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return r(l(null!=(o=null!=(o=null!=t?t.origin:t)?o.city:o)?o.longName:o,t))+" ("+r(l(null!=t?t.origin_iata:t,t))+")"},41:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return r(l(null!=(o=null!=(o=null!=t?t.destination:t)?o.city:o)?o.longName:o,t))+" ("+r(l(null!=t?t.destination_iata:t,t))+")"},43:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return' <p class="location__airport__name p12">'+s(i(n(241)).call(r,null!=t?t.depart_date:t,null!=t?t.return_date:t,{name:"dateinterval",hash:{},data:l}))+", <span>"+s(i(n(120)).call(r,t,{name:"passengercount",hash:{},data:l}))+'<i class="icon icon-adult-male-customer people-count"></i></span></p> '},45:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return' <p class="location__airport__name p12">'+s(i(n(20)).call(r,null!=t?t.depart_date:t,{name:"formatResourceDate",hash:{format:"D MMM YY",key:"dayShortMonthLongYearShort"},data:l}))+", <span>"+s(i(n(120)).call(r,t,{name:"passengercount",hash:{},data:l}))+'<i class="icon icon-adult-male-customer people-count"></i></span></p> '},47:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return" "+(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"!==","holiday",{name:"op",hash:{},fn:e.program(48,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"===","holiday",{name:"op",hash:{},fn:e.program(56,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},48:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(o=n.if.call(l,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(49,i,0),inverse:e.program(51,i,0),data:i}))?o:"")+'</h3><ol class="location__list"> '+(null!=(o=n.each.call(l,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(53,i,0),inverse:e.noop,data:i}))?o:"")+" </ol></section> "},49:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.allLocationsHeader:t,t))},51:function(e,t,a,o,l){var r;return null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/location/all-locations__text",{name:"resource",hash:{},data:l}))?r:""},53:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <li tabindex="-1" class="location__item js-dropdown-select-item'+(null!=(r=a.if.call(s,null!=t?t.highlight:t,{name:"if",hash:{},fn:e.program(54,l,0),inverse:e.noop,data:l}))?r:"")+' js-location-list" data-dropdown-display="'+c(u(null!=t?t.cityLongName:t,t))+" ("+c(u(null!=t?t.stationCode:t,t))+')" data-dropdown-id="'+c(u(null!=t?t.stationCode:t,t))+'" data-dropdown-search-terms="'+(null!=(r=u(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" class="dropdown__link js-select-body js-location-link" aria-label="'+c(u(null!=t?t.cityLongName:t,t))+", "+c(u(null!=t?t.countryLongName:t,t))+" "+c(u(null!=t?t.stationLongName:t,t))+" "+c(u(null!=t?t.stationCode:t,t))+" "+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.stationType:t,"===","BUS",{name:"op",hash:{},data:l}),"||",i(n(1)).call(s,null!=t?t.stationType:t,"===","TRAIN",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.program(20,l,0),data:l}))?r:"")+'"><div class="location__airport" aria-hidden="true"><p class="location__airport__city" data-location-value="'+c(u(null!=t?t.cityLongName:t,t))+'"><span>'+(null!=(r=u(null!=t?t.cityLongName:t,t))?r:"")+(null!=(r=i(n(0)).call(s,"Common/Dropdown/comma__text",{name:"resource",hash:{},data:l}))?r:"")+"</span> "+(null!=(r=u(null!=t?t.countryLongName:t,t))?r:"")+'</p><p class="location__airport__name p12">'+(null!=(r=u(null!=t?t.stationLongName:t,t))?r:"")+"</p></div> "+(null!=(r=i(n(42)).call(s,t,{name:"locationicon",hash:{},data:l}))?r:"")+' <p class="location__airport__acronym '+(null!=(r=a.if.call(s,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'" aria-hidden="true">'+c(u(null!=t?t.stationCode:t,t))+"</p></div></li> "},54:function(e,t,n,a,i){return" highlight"},56:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=n.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(49,i,0,o,l),inverse:e.program(51,i,0,o,l),data:i}))?r:"")+'</h3><ol class="location__list"> '+(null!=(r=n.each.call(s,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(57,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </ol></section> "},57:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <li tabindex="-1" class="location__item js-dropdown-select-item'+(null!=(u=a.if.call(c,null!=t?t.highlight:t,{name:"if",hash:{},fn:e.program(54,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' js-location-list" data-dropdown-display="'+h(d(null!=t?t.title:t,t))+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(58,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'" data-dropdown-id="'+h(d(null!=t?t.iataCode:t,t))+'" data-dropdown-search-terms=""><a tabindex="-1" href="#" class="dropdown__link js-select-body js-location-link" aria-label="'+h(d(null!=t?t.title:t,t))+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(58,l,0,r,s),inverse:e.noop,data:l}))?u:"")+(null!=(u=a.if.call(c,null!=t?t.area:t,{name:"if",hash:{},fn:e.program(60,l,0,r,s),inverse:e.noop,data:l}))?u:"")+(null!=(u=a.if.call(c,null!=t?t.city:t,{name:"if",hash:{},fn:e.program(62,l,0,r,s),inverse:e.noop,data:l}))?u:"")+(null!=(u=a.if.call(c,null!=t?t.country:t,{name:"if",hash:{},fn:e.program(64,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'"><div class="location__airport"> '+(null!=(u=a.if.call(c,null!=t?t.groupcode:t,{name:"if",hash:{},fn:e.program(66,l,0,r,s),inverse:e.program(68,l,0,r,s),data:l}))?u:"")+" "+(null!=(u=a.if.call(c,null!=t?t.country:t,{name:"if",hash:{},fn:e.program(70,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div> "+(null!=(u=i(n(1)).call(c,null!=s[1]?s[1].type:s[1],"===","origins",{name:"op",hash:{},fn:e.program(72,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </a></li> "},58:function(e,t,n,a,i){return" ("+e.escapeExpression(e.lambda(null!=t?t.iataCode:t,t))+")"},60:function(e,t,n,a,i){var o;return", "+(null!=(o=e.lambda(null!=t?t.area:t,t))?o:"")},62:function(e,t,n,a,i){var o;return", "+(null!=(o=e.lambda(null!=t?t.city:t,t))?o:"")},64:function(e,t,n,a,i){var o;return", "+(null!=(o=e.lambda(null!=t?t.country:t,t))?o:"")},66:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression,s=null!=t?t:e.nullContext||{};return' <p class="location__airport__city" data-location-groupcode="'+r(l(null!=t?t.groupcode:t,t))+'" data-location-value="'+r(l(null!=t?t.iataCode:t,t))+'"><span>'+(null!=(o=l(null!=t?t.title:t,t))?o:"")+"</span>"+(null!=(o=n.if.call(s,null!=t?t.area:t,{name:"if",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))?o:"")+(null!=(o=n.if.call(s,null!=t?t.city:t,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))?o:"")+" </p> "},68:function(e,t,n,a,i){var o,l=e.lambda,r=null!=t?t:e.nullContext||{};return' <p class="location__airport__city" data-location-value="'+e.escapeExpression(l(null!=t?t.iataCode:t,t))+'"><span>'+(null!=(o=l(null!=t?t.title:t,t))?o:"")+"</span>"+(null!=(o=n.if.call(r,null!=t?t.area:t,{name:"if",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))?o:"")+(null!=(o=n.if.call(r,null!=t?t.city:t,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))?o:"")+" </p> "},70:function(e,t,n,a,i){var o;return' <p class="location__airport__name p12">'+(null!=(o=e.lambda(null!=t?t.country:t,t))?o:"")+"</p> "},72:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.iataCode:t,{name:"if",hash:{},fn:e.program(73,i,0),inverse:e.noop,data:i}))?o:"")+" "},73:function(e,t,n,a,i){var o;return' <p class="location__airport__acronym '+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?o:"")+'">'+e.escapeExpression(e.lambda(null!=t?t.iataCode:t,t))+"</p> "},75:function(e,t,n,a,i,o,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.uniqueDepartures:t,{name:"if",hash:{},fn:e.program(76,i,0,o,l),inverse:e.program(80,i,0,o,l),data:i}))?r:""},76:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global this" aria-live="off"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=n.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(49,i,0,o,l),inverse:e.program(51,i,0,o,l),data:i}))?r:"")+'</h3><ol class="location__list"> '+(null!=(r=n.each.call(s,null!=t?t.uniqueDepartures:t,{name:"each",hash:{},fn:e.program(77,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </ol></section> "},77:function(e,t,n,a,i,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li tabindex="-1" class="location__item js-dropdown-select-item" data-dropdown-display="'+u(s(null!=t?t.title:t,t))+'" data-dropdown-id="'+u(s(null!=t?t.code:t,t))+'" data-dropdown-search-terms="'+(null!=(r=s(null!=t?t["search-terms"]:t,t))?r:"")+'"><div tabindex="-1" aria-label="'+u(s(null!=t?t.title:t,t))+" "+u(s(null!=t?t.code:t,t))+'" class="dropdown__link js-select-body" '+(null!=(r=n.if.call(c,null!=l[1]?l[1].analyticsLabel:l[1],{name:"if",hash:{},fn:e.program(78,i,0,o,l),inverse:e.noop,data:i}))?r:"")+'><div class="location__airport" aria-hidden="true"><p class="location__airport__city js-airport-city" data-location-value="'+u(s(null!=t?t.title:t,t))+'">'+(null!=(r=s(null!=t?t.title:t,t))?r:"")+'</p><p class="location__airport__name js-airport-name p12"></p></div><p aria-hidden="true" class="location__airport__acronym '+(null!=(r=n.if.call(c,null!=t?t.codeMatch:t,{name:"if",hash:{},fn:e.program(10,i,0,o,l),inverse:e.noop,data:i}))?r:"")+'">'+u(s(null!=t?t.code:t,t))+"</p></div></li> "},78:function(e,t,n,a,i,o,l){var r=e.lambda,s=e.escapeExpression;return'data-id="pagebody_link" data-link="'+s(r(null!=l[1]?l[1].analyticsLabel:l[1],t))+s(r(null!=t?t.code:t,t))+'" '},80:function(e,t,n,a,i){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showLoadOnFly:t,{name:"if",hash:{},fn:e.program(81,i,0),inverse:e.program(83,i,0),data:i}))?o:""},81:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global this"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=a.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.program(51,l,0),data:l}))?r:"")+'</h3><h3 class="location__global__heading--no-results">'+(null!=(r=i(n(0)).call(s,"BookManage/location/start-typing-header__text",{name:"resource",hash:{},data:l}))?r:"")+'</h3><p class="location__global__description--no-results">'+(null!=(r=i(n(0)).call(s,"BookManage/location/start-typing-paragraph__text",{name:"resource",hash:{},data:l}))?r:"")+"</p></section> "},83:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="location global"><h3 class="location__global__heading"><i class="icon icon-map location__icon location__icon--map"></i>'+(null!=(r=a.if.call(s,null!=t?t.allLocationsHeader:t,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.program(51,l,0),data:l}))?r:"")+"</h3> "+(null!=(r=i(n(1)).call(s,null!=t?t.waiting:t,"===","true",{name:"op",hash:{},fn:e.program(84,l,0),inverse:e.program(86,l,0),data:l}))?r:"")+" </section> "},84:function(e,t,n,a,i){return' <div class="spinner"><i class="icon icon-loading"></i></div> '},86:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <h3 class="location__global__heading--no-results">'+(null!=(r=i(n(0)).call(s,"Common/Dropdown/no-results-header__text",{name:"resource",hash:{},data:l}))?r:"")+'</h3><p class="location__global__description--no-results">'+(null!=(r=i(n(0)).call(s,"Common/Dropdown/no-results-paragraph__text",{name:"resource",hash:{},data:l}))?r:"")+"</p> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"===","flight",{name:"op",hash:{},fn:e.program(1,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.if.call(c,null!=t?t.showCurrentLocation:t,{name:"if",hash:{},fn:e.program(12,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.section:t,"===","flight",{name:"op",hash:{},fn:e.program(23,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.section:t,"===","flight",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(c,i(n(1)).call(c,null!=t?t.type:t,"===","origins",{name:"op",hash:{},data:l}),"&&",null!=t?t.showRecentSearches:t,{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(33,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.if.call(c,null!=t?t.items:t,{name:"if",hash:{},fn:e.program(47,l,0,r,s),inverse:e.program(75,l,0,r,s),data:l}))?u:"")},useData:!0,useDepths:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(558);var a=r(n(4)),i=r(n(3)),o=n(132),l=n(13);function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.registerElements(),i.name="NewSearch",i.handleNavbuttonClick=i.handleNavbuttonClick.bind(i),i.attachEscape=i.collapseOnEscape.bind(i),i.handleDocumentClick=i.handleDocumentClick.bind(i),(0,o.registerPopup)("NewSearch",i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.registerElements=function(){this.$body=(0,i.default)("body"),this.$navRoot=(0,i.default)(".js-ek-global-navigation"),this.$el=(0,i.default)(".js-search-popup"),this.$websiteSearchMenu=(0,i.default)(".js-website-search"),this.$websiteSelector=(0,i.default)(".js-website-selector-wrapper"),this.$searchSelectorInput=(0,i.default)(".js-search-selector-list-item-link"),this.$searchNavIcon=(0,i.default)("#js-close-search-popup"),this.$countrySelector=(0,i.default)(".js-country-selector-list-item-link"),this.$loginPopup=(0,i.default)(".js-account-popup-link"),this.$loginPanel=(0,i.default)(".js-ek-account-popup"),this.$searchInput=this.$el.find("#js-search-box-input"),this.$searchLabel=this.$el.find("#js-search-field-label"),this.$btnClear=this.$el.find("#js-clear-input")},t.prototype.handleNavbuttonClick=function(e){e.preventDefault(),e.stopPropagation(),(0,l.pushEvent)({event:"EventTrigger.Common_topNavigation_CTAClick",category:"Links | Top Navigation",action:"CTA Clicked",label:"Widget:Site Search"}),this.isExpanded()?this.collapse():this.expand(e)},t.prototype.handleSearchButtonClick=function(e){(0,l.pushEvent)({event:"EventTrigger.Search_searchTerm",category:"Search",action:"Search Term",label:"Search Term",value:this.$searchInput.val()})},t.prototype.collapseMegaMenu=function(e){this.$navRoot.find(".megalinks-list-parent").removeClass("mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked"),this.$navRoot.find(".megalinks-list-parent").children("li").removeClass("active-menu")},t.prototype.collapse=function(e){var t=this;this.$searchNavIcon.removeClass("active").attr("aria-expanded",!1),this.$searchNavIcon.focus(),setTimeout(function(){t.$websiteSearchMenu.removeClass("active-menu"),t.$el.hide(),t.$body.off("keyup",t.attachEscape).off("click",t.handleDocumentClick)},200)},t.prototype.expand=function(e){var t=this;this.collapseMegaMenu(),this.$websiteSearchMenu.addClass("active-menu"),this.$searchSelectorInput.removeAttr("aria-expanded"),this.$searchSelectorInput.addClass("active").attr("aria-expanded",!0),setTimeout(function(){t.showPopup(e),t.$searchInput.focus()},270)},t.prototype.showPopup=function(e){(0,i.default)(e.target);this.$el.show(),this.$countrySelector.removeClass("active").attr("aria-expanded",!1),this.$websiteSelector.hide(),this.$loginPopup.removeClass("active").attr("aria-expanded",!1),this.$loginPanel.hide(),(0,o.collapseAllPopupsExcept)(this.name),this.$body.on("keyup",this.attachEscape).on("click",this.handleDocumentClick)},t.prototype.isExpanded=function(){return this.$el.is(":visible")},t.prototype.handleDocumentClick=function(e){var t=(0,i.default)(e.target);t.hasClass("js-search-popup")||0!==t.parents(".js-search-popup").length||this.collapse()},t.prototype.activate=function(){this.$searchLabel.addClass("search-box__label--active")},t.prototype.deactivate=function(){this.$searchInput.val()||this.$searchLabel.removeClass("search-box__label--active")},t.prototype.clearSearch=function(){this.$searchInput.val("").focus(),this.$btnClear.css("display","none")},t.prototype.toggleClearButton=function(){if(!this.$searchInput.val())return this.$btnClear.css("display","none");this.$btnClear.css("display","block")},t.prototype.collapseOnEscape=function(e){(e.keyCode||e.which)===o.eventKeyCode.ESC&&this.collapse&&"function"==typeof this.collapse&&this.collapse()},t}(a.default);s.selector=".js-website-search",s.events={"focus #js-search-box-input":"activate","blur #js-search-box-input":"deactivate","keyup #js-search-box-input":"toggleClearButton","click #js-clear-input":"clearSearch","click .js-search-selector-list-item-link":"handleNavbuttonClick","click #search-country-input":"handleSearchButtonClick"},t.default=s},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(560);var i=m(n(10)),o=m(n(289)),l=m(n(12)),r=m(n(2)),s=m(n(562)),u=m(n(32)),c=m(n(34)),d=m(n(97)),h=m(n(565)),p=n(5),f=n(11);n(98);function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,r.default)(window,"__EK__.env.OXYGEN_FLIGHT_SEARCH_ENABLED"),v=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={options:!1},i.state={},i.store=new d.default({type:d.default.getStorageTypes().LOCAL_STORAGE}),(0,p.setDateTimeForCulture)(i.$el),i.setDefaultRadio(n),i.options.outage=i.$el.hasClass("js-outage"),i.initRecentSerchPopulation(),i.timeoutValue=2e3,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initRecentSerchPopulation=function(){var e=this,t=this.getRecentSearchStorageValue();t&&(g?(0,f.getStationsDetails)().then(function(n){var a=n.stations;(0,u.default)(a)||e.populateRecentSearch({recentSearch:t,airportsByIataCode:a})}):(0,f.getAirports)().then(function(n){var a=n.airportsByIataCode;(0,u.default)(a)||e.populateRecentSearch({recentSearch:t,airportsByIataCode:a})}))},t.prototype.populateRecentSearch=function(e){var t=e.recentSearch,n=e.airportsByIataCode;if(t&&n){var a=(0,s.default)(t.activeTab)&&(0,s.default)(t.activeTab).value,o=t.date;if(o&&o.length>0){var l=(0,s.default)(o).value;(0,i.default)(l,"YYYY-MM-DD").diff(new Date,"days")<0&&(t.date=[{value:(0,i.default)(new Date).format("YYYY-MM-DD")}],this.setRecentSearchStorageValue(t))}"Flight number"===a?this.populateRecentFlightNumber({recentSearch:t}):"Route"===a&&this.populateRecentFlightRoutes({recentSearch:t,airportsByIataCode:n})}},t.prototype.populateRecentFlightNumber=function(e){var t=this,n=e.recentSearch;if(!(0,u.default)(n)){var a=(0,s.default)(n.flight)&&(0,s.default)(n.flight).value,o=(0,s.default)(n.date)&&(0,s.default)(n.date).value,l=a&&a.match(/\d+/)[0];setTimeout(function(){t.state.type="flightNumber",t.showFlightNumber(t.$el),t.$woyfFlightNumber[0].value=l,t.$el.find(".flight-status__number eol-datefield")[0].initialStartDate=(0,i.default)(o,"YYYY-MM-DD"),t.$woyfFlightNumber.parent().addClass("field--active"),t.$woyfFlightNumber.parent().children("button").addClass("clear-field--active"),t.$woyfFlightNumber.css("padding-"+((0,p.isRTL)()?"right":"left"),(0,p.isRTL)()?"48px":"52px"),t.$woyfFlightDateField.parent().addClass("textfield__date--active")},this.timeoutValue)}},t.prototype.populateRecentFlightRoutes=function(e){var t=this,n=e.recentSearch,a=e.airportsByIataCode;if(!(0,u.default)(n)&&!(0,u.default)(a)){var o={origin:"",destination:"",date:""},l=(0,s.default)(n.origin)&&(0,s.default)(n.origin).value,r=(0,s.default)(n.destination)&&(0,s.default)(n.destination).value,d=g?(0,c.default)(a,function(e){return e.stationCode===l}):a[l],h=g?(0,c.default)(a,function(e){return e.stationCode===r}):a[r];o.origin=g?d.cityLongName+" ("+d.stationCode+")":d.city.longName+" ("+d.iataCode+")",o.destination=g?h.cityLongName+" ("+h.stationCode+")":h.city.longName+" ("+h.iataCode+")",setTimeout(function(){var e=(0,s.default)(n.date)&&(0,s.default)(n.date).value;e&&"number"==typeof e&&(e=new Date(e)),t.state.from=e&&(0,i.default)(e).format("YYMMDD"),t.state.date=e&&(0,i.default)(e,"YYYY-MM-DD"),[{value:d,type:"origin",name:"Departure airport"},{value:h,type:"destination",name:"Arrival airport"}].map(function(e){return t.publish("search.selection.womf",{type:e.type,value:e.value,name:e.name}),e}),t.setRecentSearchFromStore({origin:o.origin,destination:o.destination,departureDate:t.state.date})},this.timeoutValue)}},t.prototype.getRecentSearchStorageValue=function(){var e=this.store.get("flight-widget");return e&&"object"===(void 0===e?"undefined":a(e))?e:null},t.prototype.setRecentSearchStorageValue=function(e){this.store.set("flight-widget",e)},t.prototype.flightNumberValues=function(){var e=this.formatDate(),t=this.$flightStatusNumber.val().replace(/[^0-9]/,"");return(0,l.default)({depDate:e,FlNo:t,service:"home"},(0,p.gaParameters)())},t.prototype.getTemplate=function(e){return(0,h.default)(e)},t.prototype.formatMyTripsData=function(e){return(0,r.default)(window,"__EK__.env.OCSL_MYTRIPS_ENABLED")?{myTrips:{trips:e,isOcsl:!0},resources:(0,r.default)(window,"__EK__.resources")}:{myTrips:{trips:e.data&&e.data.trips?e.data.trips:null,isOcsl:!1},resources:(0,r.default)(window,"__EK__.resources")}},t.prototype.bulkRender=function(e){this.$el.find(".my-trips__womf").html(this.getTemplate(this.formatMyTripsData(e)))},t.prototype.formatDate=function(){return this.state.from?this.state.from:(0,i.default)(new Date).format("YYMMDD")},t.prototype.routeValues=function(){var e={};return this.state.origin&&(e.depAp=this.state.origin),this.state.destination&&(e.arrAp=this.state.destination),e.depDate=this.formatDate(),e.service="home",(0,l.default)(e,(0,p.gaParameters)())},t.prototype.setDefaultRadio=function(e){__EK__.resources["Experience/Womf/Womf-widget/default-option-flightnumber__text"]&&"true"===__EK__.resources["Experience/Womf/Womf-widget/default-option-flightnumber__text"]?(this.state.type="flightNumber",this.showFlightNumber(e)):(this.state.type="route",this.showFlightRoute(e))},t.prototype.originSelectedHandler=function(e,t){var n=this,a=t.iataCode,i=t.focusDestinations;return g?(0,f.getStationPairs)({stationCode:a,isReward:!1,requestedPoint:"DESTINATION"}).then(function(e){n.publish("destinations.loaded",{destinations:e.stations,searchTemplate:e.templates,focusDestinations:i,iataCode:a,section:"womf"})}):(0,f.getDestinations)(a,!1).then(function(e){n.publish("destinations.loaded",{destinations:e,focusDestinations:i,iataCode:a,section:"womf"})})},t}(o.default);v.selector=".js-womf",v.events={"click .js-activate-flight-number":"showFlightNumber","click .js-activate-flight-route":"showFlightRoute","keyup .js-flight-number-status":"handleKeyUp","dropdown.selection":"handleSelection","search.selection.womf":"handleSelection","origin.selected.womf":"originSelectedHandler",startselect:"handleDateSelection","click .js-login-link":"triggerLogin","click .js-widget-submit":"submit"},t.default=v},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateFlightNumber=function(e){var t=e.input,n=e.generalError,i=void 0===n?"BookManage/Flight-Status/Widget/flight-number-general-error__text":n,o=e.partnerError,l=void 0===o?"BookManage/Flight-Status/Widget/flight-number-partner__text":o,r=t.replace(/ /g,"").replace("EK","");if(!r)return{valid:!1,empty:!0};var s=r.trim(),u=+s;if(0===s.length)return{valid:!1,empty:!0};if(s.length>4)return{valid:!1,exceeded:!0};if(isNaN(u)){var c=__EK__.resources[i];if(c)return{valid:!1,term:c=c.replace("{{flightnumber}}",t.replace("EK",""))}}var d=u>=0&&u<=2999&&u>=8e3&&u<=8999;if(a.filter(function(e){return u>=e.start&&u<=e.end}).length>0&&!d){var h=__EK__.resources[l];if(h)return{valid:!1,term:h=h.replace("{{flightnumber}}",t.replace("EK",""))}}return{valid:!0}};var a=[{start:3e3,end:3299},{start:3300,end:3599},{start:3600,end:3799},{start:3810,end:3999},{start:4e3,end:4399},{start:4400,end:4649},{start:4650,end:4749},{start:4750,end:4899},{start:5e3,end:5999},{start:6e3,end:6999},{start:7200,end:7209},{start:7210,end:7219},{start:7220,end:7229},{start:7230,end:7239},{start:7240,end:7259},{start:7280,end:7283},{start:7300,end:7399},{start:7400,end:7449},{start:7450,end:7699},{start:7700,end:7799},{start:7800,end:7999}]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasLocalStorage=function(){var e=a[i],t="__storage_test__";try{return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}};var a=window,i="localStorage",o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.setItem=function(e,t){a.localStorage.setItem(e,t)},e.prototype.getItem=function(e){return a.localStorage.getItem(e)},e.prototype.removeItem=function(e){a.localStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(a.localStorage)},e.prototype.clearAll=function(){a.localStorage.clear()},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookies=function(){var e=new l;try{var t="__storage_test__";e.setItem(t,"1");var n=e.getItem(t);return e.removeItem(t),"1"===n}catch(e){return!1}};var a,i=n(189),o=(a=i)&&a.__esModule?a:{default:a};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};void 0===n.expires&&(n.expires=30),o.default.set(e,t,n)},e.prototype.getItem=function(e){return o.default.get(e)},e.prototype.removeItem=function(e){o.default.remove(e)},e.prototype.getKeys=function(){return o.default.get()},e.prototype.clearAll=function(){},e}();t.default=l},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r;return' <div class="womf__outage-message"><span class="icon icon-information"></span><span class="womf__outage-message--text">'+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Experience/Womf/Womf-results/mytrips-outage__text",{name:"resource",hash:{},data:l}))+"</span> "+(null!=(r=e.invokePartial(n(190),t,{name:"content-split",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" </div> "},3:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <section class="womf__section womf__section__trips"><h2 class="womf__section__header womf__section__header--tight grid__item ta--left">'+(null!=(r=i(n(0)).call(s,"Experience/Womf/Womf-widget/upcoming-flights-header__text",{name:"resource",hash:{},data:l}))?r:"")+"</h2> "+(null!=(r=a.if.call(s,null!=(r=null!=t?t.myTrips:t)?r.isOcsl:r,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(15,l,0),data:l}))?r:"")+" </section> "},4:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.myTrips:t)?o.trips:o,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(13,i,0),data:i}))?o:"")+" "},5:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=(o=null!=t?t.myTrips:t)?o.trips:o)?o.length:o,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(13,i,0),data:i}))?o:"")+" "},6:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(6)).call(s,"trips",i(n(566)).call(s,null!=(r=null!=t?t.myTrips:t)?r.trips:r,2,{name:"sort-ocsl-trips-by-date",hash:{},data:l}),{name:"var",hash:{},data:l}))+' <div class="womf__section__rows"> '+(null!=(r=a.each.call(s,null!=(r=null!=t?t.trips:t)?r.sortedLegs:r,{name:"each",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?r:"")+" </div> "+(null!=(r=a.if.call(s,null!=(r=null!=t?t.trips:t)?r.extraLegs:r,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?r:"")+" "},7:function(e,t,a,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <div class="womf__section__row automation-womf-row-'+u(s(l&&l.key,t))+'"><div class="grid grid--middle womf__item"><div class="grid__item medium--one-quarter womf__divider-container"><div class="womf__divider"><span class="js-city-name-field" data-iata-code="'+u(s(null!=t?t.departure:t,t))+'"></span><span class="js-city-name-code">('+u(s(null!=t?t.departure:t,t))+')</span><span class="flight-status__city-separator"></span><span class="js-city-name-field" data-iata-code="'+u(s(null!=t?t.arrival:t,t))+'"></span><span class="js-city-name-code">('+u(s(null!=t?t.arrival:t,t))+')</span></div></div><div class="grid__item one-half medium--one-quarter womf__item--left"><span class="flight-status__cell-heading">'+(null!=(r=i(n(0)).call(c,"Experience/Womf/Womf-widget/departing-heading__text",{name:"resource",hash:{},data:l}))?r:"")+'</span><span class="flight-status__emphasize"> '+u(i(n(20)).call(c,null!=t?t.departureDateTime:t,{name:"formatResourceDate",hash:{key:"shortDateShortDay"},data:l}))+' </span></div><div class="grid__item one-half medium--one-quarter womf__item--right"><span class="flight-status__cell-heading">'+(null!=(r=i(n(0)).call(c,"Experience/Womf/Womf-widget/flight-number-heading__text",{name:"resource",hash:{},data:l}))?r:"")+'</span><span class="flight-status__emphasize">'+u(s(null!=t?t.carrierCode:t,t))+u(i(n(292)).call(c,null!=t?t.flightNumber:t,{name:"format-flight-number",hash:{},data:l}))+'</span></div><div class="grid__item medium--one-quarter womf__cta"><a '+(null!=(r=a.with.call(c,i(n(0)).call(c,"Experience/Womf/Womf-widget/upcoming-flight-cta__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?r:"")+' class="cta cta--large cta--primary womf__link" href="'+u(i(n(71)).call(c,"womf",i(n(0)).call(c,"Experience/Womf/Womf-widget/upcoming-flight-cta__url",{name:"resource",hash:{},data:l}),null!=t?t.flightNumber:t,null!=t?t.departureDateTime:t,null!=t?t.cabinClass:t,{name:"deep-link",hash:{},data:l}))+'"> '+u(i(n(0)).call(c,"Experience/Womf/Womf-widget/upcoming-flight-cta__text",{name:"resource",hash:{},data:l}))+" </a></div></div></div> "},8:function(e,t,a,o,l){var r;return' target="'+e.escapeExpression(e.lambda(null!=t?t.target:t,t))+'" '+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.target:t,"===","_blank",{name:"op",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")+" "},9:function(e,t,n,a,i){return'rel="noreferrer"'},11:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return' <div class="grid grid--middle womf__item womf__item--pure-left"><div class="grid__item medium--one-half"><a '+(null!=(r=a.with.call(s,i(n(0)).call(s,"Experience/Womf/Womf-widget/view-all-flights__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?r:"")+' class="my-trips__inline-link womf__section__inline-link" href="'+u(i(n(71)).call(s,"womf-upcoming-flights",i(n(0)).call(s,"Experience/Womf/Womf-widget/view-all-flights__url",{name:"resource",hash:{},data:l}),"","",{name:"deep-link",hash:{},data:l}))+'"> '+u(i(n(29)).call(s,i(n(0)).call(s,"Experience/Womf/Womf-widget/view-all-flights__text",{name:"resource",hash:{},data:l}),null!=t?t.trips:t,{name:"interpolate",hash:{},data:l}))+" </a></div></div> "},13:function(e,t,a,o,l){var r;return' <p class="womf__section__paragraph no-flights">'+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"Experience/Womf/Womf-widget/no-upcoming-flights__text",{name:"resource",hash:{},data:l}))?r:"")+"</p> "},15:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.myTrips:t)?o.trips:o,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(13,i,0),data:i}))?o:"")+" "},16:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=(o=null!=t?t.myTrips:t)?o.trips:o)?o.length:o,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(13,i,0),data:i}))?o:"")+" "},17:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(6)).call(s,"trips",i(n(569)).call(s,null!=(r=null!=t?t.myTrips:t)?r.trips:r,2,{name:"sort-trips-by-date",hash:{},data:l}),{name:"var",hash:{},data:l}))+' <div class="womf__section__rows"> '+(null!=(r=a.each.call(s,null!=(r=null!=t?t.trips:t)?r.sortedLegs:r,{name:"each",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?r:"")+" </div> "+(null!=(r=a.if.call(s,null!=(r=null!=t?t.trips:t)?r.extraLegs:r,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?r:"")+" "},18:function(e,t,a,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <div class="womf__section__row automation-womf-row-'+u(s(l&&l.key,t))+'"><div class="grid grid--middle womf__item"><div class="grid__item medium--one-quarter womf__divider-container"><div class="womf__divider"><span class="js-city-name-field" data-iata-code="'+u(s(null!=t?t.origin:t,t))+'"></span><span class="js-city-name-code">('+u(s(null!=t?t.origin:t,t))+')</span><span class="flight-status__city-separator"></span><span class="js-city-name-field" data-iata-code="'+u(s(null!=t?t.destination:t,t))+'"></span><span class="js-city-name-code">('+u(s(null!=t?t.destination:t,t))+')</span></div></div><div class="grid__item one-half medium--one-quarter womf__item--left"><span class="flight-status__cell-heading">'+(null!=(r=i(n(0)).call(c,"Experience/Womf/Womf-widget/departing-heading__text",{name:"resource",hash:{},data:l}))?r:"")+'</span><span class="flight-status__emphasize"> '+u(i(n(20)).call(c,null!=t?t.departureDateTime:t,{name:"formatResourceDate",hash:{key:"shortDateShortDay"},data:l}))+' </span></div><div class="grid__item one-half medium--one-quarter womf__item--right"><span class="flight-status__cell-heading">'+(null!=(r=i(n(0)).call(c,"Experience/Womf/Womf-widget/flight-number-heading__text",{name:"resource",hash:{},data:l}))?r:"")+'</span><span class="flight-status__emphasize">'+u(s(null!=t?t.flightNumber:t,t))+'</span></div><div class="grid__item medium--one-quarter womf__cta"><a '+(null!=(r=a.with.call(c,i(n(0)).call(c,"Experience/Womf/Womf-widget/upcoming-flight-cta__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?r:"")+' class="cta cta--large cta--primary womf__link" href="'+u(i(n(71)).call(c,"womf",i(n(0)).call(c,"Experience/Womf/Womf-widget/upcoming-flight-cta__url",{name:"resource",hash:{},data:l}),null!=t?t.flightNumber:t,null!=t?t.departureDateTime:t,"",{name:"deep-link",hash:{},data:l}))+'"> '+u(i(n(0)).call(c,"Experience/Womf/Womf-widget/upcoming-flight-cta__text",{name:"resource",hash:{},data:l}))+" </a></div></div></div> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.myTrips:t,"===",void 0,{name:"op",hash:{},data:l}),"||",i(n(1)).call(s,null!=(r=null!=t?t.myTrips:t)?r.outage:r,"===","true",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?r:""},usePartial:!0,useData:!0})},function(e,t,n){"use strict";var a=n(43),i=n(291),o=n(2);e.exports=function(e,t){var n=e.map(function(e){return o(e,"originDestinations[0].airSegments")}),l=i(n),r=a(l,"departureDateTime");return{sortedLegs:r.slice(0,t),extraLegs:r.slice(t),allFlightsCount:l.length}}},,,function(e,t,n){"use strict";var a=n(43),i=n(291);e.exports=function(e,t){var n=e.map(function(e){return e.airSegments}),o=i(n),l=a(o,"departureDateTime");return{sortedLegs:l.slice(0,t),extraLegs:l.slice(t),allFlightsCount:o.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),o=(a=i)&&a.__esModule?a:{default:a},l=n(7);n(571);var r="https://cdn.ek.aero/shared/images/destination/v1/airports/CDSR/810x270.jpg",s=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a)),o=(0,l.getConfig)("CITY_CARD_FALLBACK_IMAGE_URL")||r;return i.$cityCardImages=i.$el.find(".city-card__image"),i.$cityCardImages.each(function(){var e=this;this.onerror=function(){return e.parentNode.childNodes.forEach(function(e){"SOURCE"===e.nodeName&&(e.srcset=o)})}}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);s.selector=".city-card",t.default=s},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=p(a);n(573);var o=p(n(3)),l=n(5),r=n(13),s=p(n(2)),u=p(n(574)),c=p(n(577)),d=p(n(235)),h=n(37);function p(e){return e&&e.__esModule?e:{default:e}}var f=Math.min,m=Math.max,g=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));if(r.options={tabClass:"js-widget-tab",panelClass:"js-widget-panel",activeClass:"panel-active",widgetOpenClass:"widget-open",widgetCloseAnimClass:"widget__close--animation-expand",widgetTabWrapperClearBGClass:"widget__tab-wrapper--clearbg",widgetTabWrapperClass:"widget__tab-wrapper",widgetTabListClass:"widget__tab-list",widgetHeadingAnimationClass:"widget__heading--animation-expand",animationExpandClass:"widget__tab--animation-expand",widgetTabAnimationClass:"widget__tab-list--animation-expand"},r.widgets={mytrips:"my-trips"},r.$el=r.$el||i,r.$window=window,r.$tabs=r.$el.find((0,a.toSel)(r.options.tabClass)),r.$panels=r.$el.find((0,a.toSel)(r.options.panelClass)),r.$activeTab=r.$tabs.filter((0,a.toSel)(r.options.activeClass)),r.$activePanel=r.$panels.filter((0,a.toSel)(r.options.activeClass)),r.$widgetTabWrapper=r.$el.find((0,a.toSel)(r.options.widgetTabWrapperClass)),r.$widgetTabList=r.$el.find((0,a.toSel)(r.options.widgetTabListClass)),r.$brandLogo=(0,o.default)(".brand-logo"),r.brandLogoInitialZIndex=null,r.scrollPosition=0,r.widgetTop=null,r.widgetTopMargin=10,r.$migratedWidgets=[r.widgets.mytrips],r.$visitedWidgets=[],r.widgetType=r.$activeTab.attr("widget-type"),r.widgetContent=r.$el.find((0,a.toSel)("widget__content "+r.widgetType)),r.renderedAtClient=r.$migratedWidgets.indexOf(r.widgetType)>=0,r.widgetIndex=r.widgetContent.attr("class").split("").pop(),location.hash&&location.hash.length>0||r.renderedAtClient){var s=location.hash&&location.hash.length>0?location.hash.split("").pop():r.widgetIndex;s&&(0==s&&(0,l.getBrowserWidth)()<=(0,l.getBreakpoint)("medium")||r.setActive(s))}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.redirectToUrl=function(){var e=(0,s.default)(__EK__,"resources.BookManage/search-flight/form-endpoint__url.url","");window.location.href=e},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.handleTabSelect=function(e){var t=void 0;if("keydown"===e.type)if("Enter"===e.originalEvent.key||13===e.keyCode)t=this.$tabs.index(e.currentTarget);else if("ArrowRight"===e.originalEvent.key||39===e.keyCode){var n=(0,o.default)(e.currentTarget).next();t=f(this.$tabs.length-1,this.$tabs.index(n)),n.focus()}else{if("ArrowLeft"!==e.originalEvent.key&&37!==e.keyCode)return;var a=(0,o.default)(e.currentTarget).prev();t=m(0,this.$tabs.index(a)),a.focus()}else"click"===e.type&&(t=this.$tabs.index(e.currentTarget));0===t?(0,l.getBrowserWidth)()<=(0,l.getBreakpoint)("medium")?this.redirectToUrl():this.setActive(t):this.isMobileDevice()?this.animationStart(t):this.setActive(t)},t.prototype.calculateWidgetTop=function(){return this.$widgetTabList.offset().top},t.prototype.animationStart=function(e){this.widgetTop=this.calculateWidgetTop(),this.brandLogoInitialZIndex=this.$brandLogo.css("z-index"),this.$brandLogo.css("z-index",1),this.$activeTab=this.$tabs.eq(e),this.$tabs.not(this.$activeTab).hide(),this.$activeTab.addClass(this.options.animationExpandClass),this.setActive(e)},t.prototype.addActiveTabToPanel=function(){var e=this.$widgetTabList.clone(!0).off(),t=this.$activePanel.find(".widget__content");(0,o.default)(".js-close-tab").addClass(this.options.widgetCloseAnimClass),(0,o.default)(".widget__heading").addClass(this.options.widgetHeadingAnimationClass),e.css(this.setCSSTransform()),t.prepend(e)},t.prototype.removeActiveTabFromPanel=function(){(0,o.default)(".js-close-tab").removeClass(this.options.widgetCloseAnimClass),(0,o.default)(".widget__heading").removeClass(this.options.widgetHeadingAnimationClass),this.$activePanel.find(".widget__tab-list").remove()},t.prototype.animationEnd=function(e){this.$activeTab.removeClass(this.options.animationExpandClass),this.$tabs.show(),this.$el.height("auto"),this.$brandLogo.css("z-index",this.brandLogoInitialZIndex)},t.prototype.setActive=function(e){if(this.$activeTab.add(this.$activePanel).removeClass(this.options.activeClass),this.$activeTab.attr("aria-selected",!1),this.$activePanel.attr("aria-hidden",!0),this.$activeTab=this.$tabs.eq(e),this.$activePanel=this.$panels.eq(e),this.$activeTab.add(this.$activePanel).addClass(this.options.activeClass),this.$activeTab.attr("aria-selected",!0),this.$activePanel.attr("aria-hidden",!1),this.$activeTab.attr("tabindex",0),this.$tabs.not(this.$activeTab).attr("tabindex",-1),this.isMobileDevice()&&this.addActiveTabToPanel(),(0,l.lockBody)(!0),(0,o.default)("body").addClass(this.options.widgetOpenClass),this.isMobileDevice()||-1===this.$activeTab[0].className.indexOf("automation-widget-tab-search-flight__widget-heading__text")||(0,o.default)("body").removeClass(this.options.widgetOpenClass),this.panelId="#panel"+e,this.widgetType=this.$activeTab.attr("widget-type"),this.widgetContent=this.$el.find((0,a.toSel)("widget__content "+this.widgetType)),this.widgetContent.length>0&&this.$migratedWidgets.indexOf(this.widgetType)>=0&&this.$visitedWidgets.indexOf(this.widgetType)<0)switch(this.widgetType){case this.widgets.mytrips:var t=(0,u.default)({identifier:this.widgetType,resources:(0,s.default)(window,"__EK__.resources"),session:(0,s.default)(window,"__EK__.session")});(0,o.default)(this.widgetContent).append(t),this.$visitedWidgets.push(this.widgetType),(0,h.registerComponentsByCustomSelector)([c.default],this.panelId+" .my-trips"),(0,h.registerComponentsByCustomSelector)([d.default],this.panelId+" .my-trips")}},t.prototype.setCSSTransform=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{"-webkit-transform":"translate3d("+e+", "+t+", "+n+")","-moz-transform":"translate3d("+e+", "+t+", "+n+")","-ms-transform":"translate3d("+e+", "+t+", "+n+")","-o-transform":"translate3d("+e+", "+t+", "+n+")",transform:"translate3d("+e+", "+t+", "+n+")"}},t.prototype.closeWidget=function(){(0,o.default)("body").removeClass(this.options.widgetOpenClass),(0,l.lockBody)(!1),this.removeActiveTabFromPanel(),this.animationEnd()},t.prototype.isMobileDevice=function(){return(0,o.default)("body").hasClass("is--touch-device")&&matchMedia("(max-width: 767px)").matches},t.prototype.scrollToWidget=function(e){if((0,l.getBrowserWidth)()>(0,l.getBreakpoint)("medium")){var t=this.$el.offset().top-this.widgetTopMargin;(0,l.animatedScrollTo)(t,500)}},t.prototype.trackWidgetTabClick=function(e){var t=void 0;switch(e.currentTarget.getAttribute("data-galabel")){case"search-flight__widget-heading__text":t="Search flights";break;case"my-trips__widget-heading__text":t="Check in";break;case"womf__widget-heading__text":t="What's on your flights";break;case"flight-status__widget-heading__text":t="Check flight status";break;default:t="Unknown Widget"}var n={event:"EventTrigger.Common_pageBodyWidget_TabClick",category:"Page Body Interaction",action:"Tab Clicked",label:t};(0,r.pushEvent)(n)},t}(i.default);g.selector=".js-widget",g.events={"click .js-widget-tab":"handleTabSelect","keydown .js-widget-tab":"handleTabSelect","click .js-close-tab":"closeWidget","breakpoint.medium":"closeWidget","click .js-origin-dropdown":"scrollToWidget","click .destination-dropdown":"scrollToWidget","click .search-flight__datepicker .textfield__date":"scrollToWidget","click .search-flight__passengers":"scrollToWidget","click .search-flight__class":"scrollToWidget","click .js-my-trip-last-name":"scrollToWidget","click .js-my-trip-ref-id":"scrollToWidget","click .js-activate-flight-route":"scrollToWidget","click .js-activate-flight-number":"scrollToWidget","click .js-flight-number-status":"scrollToWidget","click .womf__date .textfield__date":"scrollToWidget","click .js-select-flight-departure":"scrollToWidget","click .js-select-flight-arrival":"scrollToWidget","click .route-departure-date-drop":"scrollToWidget","click .widget__tab":"trackWidgetTabClick","click .js-widget-tab-link":"preventDefault"},t.default=g},function(e,t,n){},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,n,a,i){return"my-trips--outage js-outage"},3:function(e,t,n,a,i){return' <div class="my-trips__mange-booking"></div> '},5:function(e,t,a,o,l){var r;return' <h2 class="my-trips__heading" class="my-trips__section">'+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/retrieve-trip-header__text",{name:"resource",hash:{},data:l}))?r:"")+"</h2> "},7:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Login-link/login-link__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?r:"")+' <hr class="my-trips__separator" /> '},8:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <a href="'+(null!=(r=e.lambda((r=(r=l&&l.root)&&r.session)&&r.loginUrl,t))?r:"")+'" '+(null!=(r=a.if.call(s,null!=t?t.target:t,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")+'class="my-trips__inline-link my-trips__inline-link--log-in" data-id="pagebody_link" data-link="Widget:My trips / Check-in:Log in to view your trips">'+(null!=(r=i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/log-in__text",{name:"resource",hash:{},data:l}))?r:"")+"</a> "},9:function(e,t,a,o,l){var r;return'target="'+e.escapeExpression(e.lambda(null!=t?t.target:t,t))+'" '+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.target:t,"===","_blank",{name:"op",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")},10:function(e,t,n,a,i){return'rel="noreferrer"'},12:function(e,t,n,a,i){return' <button type="button" class="clear-x-mobile icon icon-delete-light clear-field" tabindex="-1" aria-hidden="true"></button> '},14:function(e,t,a,o,l){var r;return" "+(null!=(r=e.invokePartial(n(575),t,{name:"contextual-help",hash:{data:i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/booking-reference-contextual-help__text",{name:"resource",hash:{},data:l})},data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return'<div class="my-trips flight-status flight-status--flight-route error '+(null!=(r=a.if.call(s,null!=t?t.outages:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+'"> '+(null!=(r=a.if.call(s,null!=(r=null!=t?t.session:t)?r.isAuthenticated:r,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?r:"")+' <section class="my-trips__section"><form method="post" action=""> '+(null!=(r=a.if.call(s,null!=(r=null!=t?t.session:t)?r.isAuthenticated:r,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.program(7,l,0),data:l}))?r:"")+' <div class="grid"><div class="grid__item error-wrapper"><span tabindex="0" class="visually-hidden js-error-summary">'+u(i(n(0)).call(s,"Common/Accessibility/error-summary__text",{name:"resource",hash:{},data:l}))+'</span><div class="widget__inline__error"><ul class="widget__inline__error_listing"><li><p class="p12">'+u(i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/form-error__text",{name:"resource",hash:{},data:l}))+'</p></li></ul></div></div><div class="grid__item medium--one-quarter"><div class="dropdown__input-container"> '+(null!=(r=e.invokePartial(n(191),t,{name:"field",hash:{dataMask:!0,initValue:null!=(r=null!=(r=null!=t?t.session:t)?r.brsrMember:r)?r.lastName:r,class:"js-my-trip-last-name",id:i(n(293)).call(s,{name:"random-id",hash:{},data:l}),fieldError:i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/error-name__text",{name:"resource",hash:{},data:l}),indicator:i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/placeholder-last-name__text",{name:"resource",hash:{},data:l}),isUppercase:!0,name:"last-name",isIndicator:"true",isRequired:"true",placeholder:i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/placeholder-last-name__text",{name:"resource",hash:{},data:l})},fn:e.program(12,l,0),inverse:e.noop,data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+' </div></div><div class="grid__item medium--one-quarter ref-id-container"> '+(null!=(r=e.invokePartial(n(576),t,{name:"drop-down",hash:{dataMask:!0,id:i(n(293)).call(s,{name:"random-id",hash:{},data:l}),class:"mobile-bubble-dropdown--full js-my-trip-ref-id",isBubble:!0,described:i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/booking-reference-contextual-help__text",{name:"resource",hash:{},data:l}),fieldError:i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/error-length__text",{name:"resource",hash:{},data:l}),section:"trips",isRequired:"true",isIndicator:"true",placeholder:i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/placeholder-booking-reference__text",{name:"resource",hash:{},data:l}),isUppercase:!0,hasHelp:!0,isInput:!0,name:"ref-id"},fn:e.program(14,l,0),inverse:e.noop,data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+' </div><div class="grid__item medium--one-quarter my-trips__cta"> '+(null!=(r=e.invokePartial(n(295),t,{name:"my-trips-submit-manage",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+' </div><div class="grid__item medium--one-quarter my-trips__cta"> '+(null!=(r=e.invokePartial(n(296),t,{name:"my-trips-submit-check-in",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+' </div></div><input aria-hidden="true" type="hidden" id="mytrips-lastname" value="" /><input aria-hidden="true" type="hidden" id="mytrips-bookref" value="" /><input aria-hidden="true" type="hidden" name="showpage" value="true" /></form></section><div class="widget__sticky-footer"> '+(null!=(r=e.invokePartial(n(295),t,{name:"my-trips-submit-manage",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" "+(null!=(r=e.invokePartial(n(296),t,{name:"my-trips-submit-check-in",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" </div></div>"},usePartial:!0,useData:!0})},function(e,t,n){var a=n(9);e.exports=(a.default||a).template({1:function(e,t,n,a,i){var o,l;return' <div><section class="location contextual-help-dropdown"><div class="contextual-help-dropdown__content"> '+(null!=(o="function"==typeof(l=null!=(l=n.data||(null!=t?t.data:t))?l:n.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"data",hash:{},data:i}):l)?o:"")+" </div></section></div> "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.data:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:""},useData:!0})},function(e,t,n){var a=n(9);e.exports=(a.default||a).template({1:function(e,t,a,i,o){var l,r=null!=t?t:e.nullContext||{};return' <div class="js-dropdown dropdown-container" '+(null!=(l=a.if.call(r,null!=t?t.isSelect:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isLoadOnFly:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isFilter:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.dataSet:t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.section:t,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.dataType:t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.template:t,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.onlyLocalOrigins:t,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.dataMask:t,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o}))?l:"")+" > "+(null!=(l=e.invokePartial(n(294),t,{name:"drop-down-factory",hash:{attrs:'data-modal-sel="#modal"',class:" js-modal"},fn:e.program(20,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+" </div> "},2:function(e,t,n,a,i){return'data-is-select="true"'},4:function(e,t,n,a,i){return'data-is-load-on-fly="true"'},6:function(e,t,n,a,i){return'data-is-filter="true"'},8:function(e,t,n,a,i){return'data-data-set="'+e.escapeExpression(e.lambda(null!=t?t.dataSet:t,t))+'"'},10:function(e,t,n,a,i){return'data-section="'+e.escapeExpression(e.lambda(null!=t?t.section:t,t))+'"'},12:function(e,t,n,a,i){return'data-data-type="'+e.escapeExpression(e.lambda(null!=t?t.dataType:t,t))+'"'},14:function(e,t,n,a,i){return'data-template="'+e.escapeExpression(e.lambda(null!=t?t.template:t,t))+'"'},16:function(e,t,n,a,i){return'data-only-local-origins="true"'},18:function(e,t,n,a,i){return'data-mask="'+e.escapeExpression(e.lambda(null!=t?t.dataMask:t,t))+'" '},20:function(e,t,n,a,i){var o;return' <div class="dropdown" id="modal"> '+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" </div> "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isSelect:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?o:"")+" "},21:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <select class="dropdown-container__hidden-select"> '+(null!=(o=n.if.call(l,null!=(o=null!=t?t.data:t)?o.highlight:o,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.each.call(l,null!=(o=null!=t?t.data:t)?o.items:o,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?o:"")+" </select> "},22:function(e,t,n,a,i){var o,l=e.lambda,r=e.escapeExpression;return' <option value="'+r(l(null!=(o=null!=(o=null!=t?t.data:t)?o.highlight:o)?o.id:o,t))+'">'+r(l(null!=(o=null!=(o=null!=t?t.data:t)?o.highlight:o)?o.id:o,t))+"</option> "},24:function(e,t,n,a,i){var o=e.lambda,l=e.escapeExpression;return' <option value="'+l(o(null!=t?t.id:t,t))+'">'+l(o(null!=t?t.id:t,t))+"</option> "},26:function(e,t,a,i,o){var l,r=null!=t?t:e.nullContext||{};return' <div class="js-dropdown dropdown-container '+(null!=(l=a.if.call(r,null!=t?t.isHelp:t,{name:"if",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.hasHelp:t,{name:"if",hash:{},fn:e.program(29,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isBubble:t,{name:"if",hash:{},fn:e.program(31,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isFeaturedFares:t,{name:"if",hash:{},fn:e.program(33,o,0),inverse:e.noop,data:o}))?l:"")+' " '+(null!=(l=a.if.call(r,null!=t?t.isSelect:t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isLoadOnFly:t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isFilter:t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.section:t,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.subsection:t,{name:"if",hash:{},fn:e.program(35,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isDestination:t,{name:"if",hash:{},fn:e.program(37,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.dataSet:t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.dataType:t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.template:t,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.onlyLocalOrigins:t,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.setActiveOnItems:t,{name:"if",hash:{},fn:e.program(39,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.isFeaturedFares:t,{name:"if",hash:{},fn:e.program(41,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.shouldExpandCollapseAnnounce:t,{name:"if",hash:{},fn:e.program(43,o,0),inverse:e.noop,data:o}))?l:"")+" "+(null!=(l=a.if.call(r,null!=t?t.includeSearchResult:t,{name:"if",hash:{},fn:e.program(45,o,0),inverse:e.noop,data:o}))?l:"")+" > "+(null!=(l=e.invokePartial(n(294),t,{name:"drop-down-factory",hash:{autocomplete:null!=t?t.autocomplete:t},fn:e.program(47,o,0),inverse:e.noop,data:o,helpers:a,partials:i,decorators:e.decorators}))?l:"")+" </div> "},27:function(e,t,n,a,i){return" dropdown-container--contextual-help"},29:function(e,t,n,a,i){return" dropdown-container--has-help"},31:function(e,t,n,a,i){return" mobile-bubble-dropdown js-mobile-bubble-dropdown"},33:function(e,t,n,a,i){return" ff-dropdown"},35:function(e,t,n,a,i){return'data-subsection="'+e.escapeExpression(e.lambda(null!=t?t.subsection:t,t))+'"'},37:function(e,t,n,a,i){return'data-is-destination="true"'},39:function(e,t,n,a,i){return'data-set-active-on-items="true"'},41:function(e,t,n,a,i){return'data-is-featured-fares="true"'},43:function(e,t,n,a,i){return'data-should-expand-collapse-announce="true"'},45:function(e,t,n,a,i){return'data-aria-search-id="'+e.escapeExpression(e.lambda(null!=t?t.includeSearchResultId:t,t))+'"'},47:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <div class="dropdown" tabindex="-1"> '+(null!=(o=n.if.call(l,null!=t?t.isHelp:t,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.program(50,i,0),data:i}))?o:"")+" "+(null!=(o=e.invokePartial(a["@partial-block"],t,{name:"@partial-block",data:i,helpers:n,partials:a,decorators:e.decorators}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.isFeaturedFares:t,{name:"if",hash:{},fn:e.program(53,i,0),inverse:e.noop,data:i}))?o:"")+" </div> "+(null!=(o=n.if.call(l,null!=t?t.isSelect:t,{name:"if",hash:{},fn:e.program(55,i,0),inverse:e.noop,data:i}))?o:"")+" "},48:function(e,t,a,i,o){var l,r;return' <div class="dropdown__heading"><div class="dropdown__heading__title">'+(null!=(l=(r=n(0),r&&(r.__esModule?r.default:r)).call(null!=t?t:e.nullContext||{},"BookManage/search-flight/contextual-help__text",{name:"resource",hash:{},data:o}))?l:"")+'</div><a href="#" class="dropdown__heading__close icon icon-delete-light js-dropdown-back" tabindex="-1" aria-hidden="true"></a></div> '},50:function(e,t,n,a,i){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasHelp:t,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.noop,data:i}))?o:""},51:function(e,t,n,a,i){return' <div class="dropdown__heading"></div> '},53:function(e,t,n,a,i){return' <a href="#" class="dropdown__close icon icon-delete-light js-dropdown-back"></a> '},55:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <select class="js-hidden-select dropdown-container__hidden-select"> '+(null!=(o=n.if.call(l,null!=(o=null!=t?t.data:t)?o.highlight:o,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?o:"")+" "+(null!=(o=n.if.call(l,null!=t?t.data:t,{name:"if",hash:{},fn:e.program(56,i,0),inverse:e.noop,data:i}))?o:"")+" </select> "},56:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.data:t)?o.items:o,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.program(59,i,0),data:i}))?o:"")+" "},57:function(e,t,n,a,i){var o;return" "+(null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.data:t)?o.items:o,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?o:"")+" "},59:function(e,t,n,a,i){var o;return" "+(null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.data:t,{name:"each",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))?o:"")+" "},60:function(e,t,n,a,i){var o=e.lambda,l=e.escapeExpression;return' <option value="'+l(o(null!=t?t.code:t,t))+'">'+l(o(null!=t?t.code:t,t))+"</option> "},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isModal:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(26,i,0),data:i}))?o:""},usePartial:!0,useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(578);var a=d(n(4)),i=n(5),o=d(n(3)),l=d(n(44)),r=n(13),s=d(n(2)),u=n(290),c=d(n(579));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));l.options={outage:!1},l.state={showpage:!0},l.$el=l.$el||a;var r=l;if(window.__EK__&&window.__EK__.session.isAuthenticated&&(0,u.getmytrips)().then(function(e){r.bulkRender(e)}).then(function(){(0,i.injectCityNames)(r.$el),(0,i.interpolateCityNames)(r.$el)}),l.lastNameInput=l.$el.find('[name="last-name"]'),l.$invalidLastName=l.lastNameInput.siblings(".js-error"),l.$invalidLastName.text(""),l.lastNameInput&&""!=l.lastNameInput.val()){var s=l.validateLastName(l.lastNameInput.val());s.valid||(l.lastNameInput&&l.lastNameInput[0]&&!l.lastNameInput[0].classList.contains("error-highlighter")&&l.lastNameInput[0].classList.add("error-highlighter"),l.$invalidLastName.text(s.term),l.$invalidLastName.addClass("show"))}return l.$bookingRefInputContainer=l.$el.find(".ref-id-container > div"),l.bookingRefInput=l.$el.find('[name="ref-id"]'),l.bookingRefInputDirty=!0,l.$invalidRefId=l.bookingRefInput.siblings(".js-error"),l.$invalidRefId.text(""),l.$errorFieldCollection=l.$el.find(".js-field-input"),l.$lastNameInput=l.$el.find('input[name="last-name"]'),l.$refIdInput=l.$el.find('input[name="ref-id"]'),l.$form=l.$el.find("form"),(0,o.default)(".my-trips__section__row",l.$el).not(":nth-of-type(1)").not(":nth-of-type(2)").addClass("hidden"),l.itemReveal(),l.options.outage=l.$el.hasClass("js-outage"),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleLastName=function(e){var t=e.currentTarget?e.currentTarget.value:e;if("keyup"===e.type){var n=this.$el&&this.$el.find(".error-wrapper"),a=n&&n.find("p");a.text()!==__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error__text"]&&a.text()!==__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error-name__text"]||n&&n.hide()}if(t.trim().length>0){var i=this.validateLastName(t);i.valid?(this.$invalidLastName.removeClass("show"),"focusout"===e.type&&e.currentTarget&&e.currentTarget.classList.contains("error-highlighter")&&e.currentTarget.classList.remove("error-highlighter")):(this.$invalidLastName.text(i.term),this.$invalidLastName.addClass("show"),e.currentTarget&&!e.currentTarget.classList.contains("error-highlighter")&&e.currentTarget.classList.add("error-highlighter"))}else this.$invalidLastName.removeClass("show")},t.prototype.getTemplate=function(e){return(0,c.default)(e)},t.prototype.formatMyTripsData=function(e){return(0,s.default)(window,"__EK__.env.OCSL_MYTRIPS_ENABLED")?{myTrips:{trips:e,isOcsl:!0},resources:(0,s.default)(window,"__EK__.resources"),session:(0,s.default)(window,"__EK__.session")}:{myTrips:{trips:e.data&&e.data.trips?e.data.trips:null,isOcsl:!1},resources:(0,s.default)(window,"__EK__.resources"),session:(0,s.default)(window,"__EK__.session")}},t.prototype.bulkRender=function(e){this.$el.find(".my-trips__mange-booking").html(this.getTemplate(this.formatMyTripsData(e)))},t.prototype.showHideContextualHelp=function(e){this.bookingRefInput.is(":focus")&&""===e?this.$bookingRefInputContainer.addClass("show"):this.$bookingRefInputContainer.removeClass("show")},t.prototype.handleRefId=function(e){var t=e.currentTarget?e.currentTarget.value.trim():e;if("keyup"===e.type){var n=this.$el&&this.$el.find(".error-wrapper"),a=n&&n.find("p");a.text()!==__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error__text"]&&a.text()!==__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error-booking__text"]||n&&n.hide()}if(t.length>0){var i=this.validateRefId(t);this.showHideContextualHelp(t),i.valid?(this.$invalidRefId.removeClass("show"),"focusout"===e.type&&e.currentTarget&&e.currentTarget.classList.contains("error-highlighter")&&e.currentTarget.classList.remove("error-highlighter")):(this.$invalidRefId.text(i.term),this.$invalidRefId.addClass("show"),e.currentTarget&&!e.currentTarget.classList.contains("error-highlighter")&&e.currentTarget.classList.add("error-highlighter"))}else this.$invalidRefId.removeClass("show"),this.showHideContextualHelp(t)},t.prototype.handleSelection=function(e,t){var n=t.name,a=t.value;"ref-id"===n&&this.handleRefId(a),"last-name"===n&&this.handleLastName(a)},t.prototype.validateRefId=function(e){var t={valid:!0};return this.bookingRefInputDirty?(0===e.trim().length&&this.bookingRefInput.is(":focus")||6===e.trim().length||(t.valid=!1,t.term=(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/error-length__text")),e.match(/^[0-9a-zA-Z]+$/)||0===e.trim().length||(t.valid=!1,t.term=(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/error-characters__text"))):this.bookingRefInputDirty=!0,t},t.prototype.validateLastName=function(e){var t={valid:!0},n=(e||"").replace(/\s/g,""),a=(0,s.default)(__EK__,"env.EK_MYTRIPS_LASTNAME_MAX_LENGTH");if(n.length>parseInt(a)){var i=(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/error-last-name-length__text")&&(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/error-last-name-length__text").replace("{{value}}",a);t.valid=!1,t.term=i}else 0===n.length||n.match(/^[a-zA-Z ]+$/)||(t.valid=!1,n.match(/^[0-9a-zA-Z]+$/)?t.term=(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/error-name__text"):t.term=(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/error-characters__text"));return 0===n.length&&(t.valid=!1,t.term=(0,s.default)(__EK__,"resources.BookManage/Retrieve-Trips/Widget/length-error__text")),t},t.prototype.triggerLogin=function(){(0,o.default)(".main-navigation").trigger("openLogin")},t.prototype.setFormValues=function(e,t,n,a){var i=this.$el.find("#mytrips-lastname"),o=this.$el.find("#mytrips-bookref");i.length&&(i.attr("name",n),i.val(e)),o.length&&(o.attr("name",a),o.val(t))},t.prototype.submit=function(e){e&&e.preventDefault(),this.trackMytripsCtaClick(e);var t=this.$el.find(".error-wrapper"),n=t.find(".js-error-summary"),a=this.lastNameInput.val(),i=this.bookingRefInput.val().trim(),o=this.validateLastName(a),s=this.validateRefId(i);if(i&&!s.valid)return!1;if(a&&""!==a.trim()&&!o.valid)return!1;if(o&&o.valid&&s&&s.valid){switch(t.hide(),!0){case(0,l.default)(e.currentTarget.className,"js-my-trips-submit-check-in"):this.state.lastname=a,this.state.bookref=i,this.setFormValues(a,i,"lastname","bookref"),this.$form.attr("action",__EK__.resources["BookManage/Retrieve-Trips/Cards/check-in__url"].url);break;case(0,l.default)(e.currentTarget.className,"js-my-trips-submit-manage"):default:this.state.lastname2=a,this.state.bookref2=i,this.setFormValues(a,i,"lastname2","bookref2"),this.$form.attr("action",__EK__.resources["BookManage/Retrieve-Trips/Widget/manage-booking__url"].url)}this.$form.submit()}else{var u=!(o&&a),c=!(s.valid&&i),d=t.find("p"),h=(0,l.default)(e.currentTarget.className,"js-my-trips-submit-manage")?"Manage Booking":"Check in";u&&c?(d.text(__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error__text"]),(0,r.pushClientErrorEvent)(h,"Last Name and Booking Reference Error"),this.$lastNameInput&&this.$lastNameInput[0]&&this.$lastNameInput[0].classList.add("error-highlighter"),this.$refIdInput&&this.$refIdInput[0]&&this.$refIdInput[0].classList.add("error-highlighter")):u?(d.text(__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error-name__text"]),(0,r.pushClientErrorEvent)(h,"Last Name Error"),this.$lastNameInput&&this.$lastNameInput[0]&&this.$lastNameInput[0].classList.add("error-highlighter")):c&&(d.text(__EK__.resources["BookManage/Retrieve-Trips/Widget/form-error-booking__text"]),(0,r.pushClientErrorEvent)(h,"Booking Reference Error"),this.$refIdInput&&this.$refIdInput[0]&&this.$refIdInput[0].classList.add("error-highlighter")),t.show(),t.attr("role","alert"),n.focus()}},t.prototype.itemReveal=function(){var e=this;(0,o.default)(".js-show-flights",this.$el).bind("click",function(t){e.$el.find(".my-trips__section__row").not(":nth-of-type(1)").not(":nth-of-type(2)").toggleClass("hidden"),t.preventDefault(),(0,o.default)(t.currentTarget).hide()})},t.prototype.trackMytripsCtaClick=function(e){var t=void 0;switch(!0){case(0,l.default)(e.currentTarget.className,"js-my-trips-submit-manage"):t="Widget:Check in:Manage your trip";break;case(0,l.default)(e.currentTarget.className,"js-my-trips-submit-check-in"):t="Widget:Check in:Check in";break;default:t="Widget:Check in:Unknown button"}var n={event:"EventTrigger.Common_pageBodyWidget_CTAClick",category:"Page Body Interaction",action:"CTA Clicked",label:t};(0,r.pushEvent)(n)},t}(a.default);h.selector=".my-trips",h.events={"click .js-login-link":"triggerLogin",'keyup [name="last-name"]':"handleLastName",'blur [name="last-name"]':"handleLastName",'keyup [name="ref-id"]':"handleRefId",'focus [name="ref-id"]':"handleRefId",'blur [name="ref-id"]':"handleRefId","input.cleared":"handleSelection","click .js-widget-submit":"submit"},t.default=h},function(e,t,n){},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r;return' <div class="my-trips__outage-message"><span class="icon icon-information"></span><span class="my-trips__outage-message--text">'+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Experience/Womf/Womf-results/mytrips-outage__text",{name:"resource",hash:{},data:l}))+"</span> "+(null!=(r=e.invokePartial(n(190),t,{name:"content-split",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" </div> "},3:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <section class="my-trips__section my-trips__section__list"><h2 class="womf__section__header womf__section__header--tight">'+(null!=(u=i(n(0)).call(c,"BookManage/Retrieve-Trips/Widget/upcoming-trips-header__text",{name:"resource",hash:{},data:l}))?u:"")+"</h2> "+(null!=(u=a.if.call(c,null!=(u=null!=t?t.myTrips:t)?u.isOcsl:u,{name:"if",hash:{},fn:e.program(4,l,0,r,s),inverse:e.program(29,l,0,r,s),data:l}))?u:"")+" </section> "},4:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.myTrips:t)?r.trips:r,{name:"if",hash:{},fn:e.program(5,i,0,o,l),inverse:e.program(27,i,0,o,l),data:i}))?r:"")+" "},5:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <div class="my-trips__section__row"> '+(null!=(u=a.each.call(c,i(n(580)).call(c,null!=(u=null!=t?t.myTrips:t)?u.trips:u,2,{name:"limit-trips-ocsl-data",hash:{},data:l}),{name:"each",hash:{},fn:e.program(6,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div> "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=t?t.myTrips:t)?u.trips:u)?u.length:u,">",2,{name:"op",hash:{},fn:e.program(23,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},6:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=(r=null!=t?t.originDestinations:t)?r[0]:r)?r.airSegments:r,{name:"if",hash:{},fn:e.program(7,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},7:function(e,t,a,o,l,r,s){var u,c=e.escapeExpression,d=null!=t?t:e.nullContext||{};return' <div class="my-trips__section__row automation-my-trips-row-'+c(e.lambda(l&&l.key,t))+'"><div class="grid grid--middle womf__item"><div class="grid__item medium--one-sixth my-trips__divider-container"><div class="womf__divider"> '+(null!=(u=a.if.call(d,null!=s[1]?s[1].tripName:s[1],{name:"if",hash:{},fn:e.program(8,l,0,r,s),inverse:e.program(10,l,0,r,s),data:l}))?u:"")+' </div></div><div class="grid__item one-half medium--one-sixth womf__item--left"><span class="flight-status__cell-heading">'+(null!=(u=i(n(0)).call(d,"BookManage/Retrieve-Trips/Widget/departing__text",{name:"resource",hash:{},data:l}))?u:"")+'</span><span class="flight-status__emphasize js-time-date">'+c(i(n(20)).call(d,null!=(u=null!=(u=null!=(u=null!=t?t.originDestinations:t)?u[0]:u)?u.tripDetail:u)?u.tripFirstDepartureDate:u,{name:"formatResourceDate",hash:{key:"shortDateShortDay"},data:l}))+"</span></div> "+(null!=(u=a.if.call(d,(u=(u=l&&l.root)&&u.session)&&u.isFullyLoggedIn,{name:"if",hash:{},fn:e.program(12,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' <div class="grid__item one-half medium--one-quarter"> '+(null!=(u=a.if.call(d,(u=(u=l&&l.root)&&u.session)&&u.isFullyLoggedIn,{name:"if",hash:{},fn:e.program(14,l,0,r,s),inverse:e.program(17,l,0,r,s),data:l}))?u:"")+' </div><div class="grid__item one-half medium--one-quarter"> '+(null!=(u=a.if.call(d,i(n(581)).call(d,null!=(u=null!=(u=null!=s[1]?s[1].serviceEligibility:s[1])?u[0]:u)?u.actionName:u,{name:"is-checkin-eligible",hash:{},data:l}),{name:"if",hash:{},fn:e.program(19,l,0,r,s),inverse:e.program(21,l,0,r,s),data:l}))?u:"")+" </div></div></div> "},8:function(e,t,a,o,l,r,s){var u;return" "+e.escapeExpression(e.lambda(null!=s[1]?s[1].tripName:s[1],t))+" "+(null!=(u=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/trip__text",{name:"resource",hash:{},data:l}))?u:"")+" "},10:function(e,t,n,a,i){var o;return' <span class="js-city-name" data-iata-code="'+e.escapeExpression(e.lambda(null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.originDestinations:t)?o[0]:o)?o.airSegments:o)?o[0]:o)?o.arrival:o,t))+'"></span> '},12:function(e,t,a,o,l){var r;return' <div class="grid__item one-half medium--one-sixth womf__item--right"><span class="flight-status__cell-heading"> '+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/placeholder-booking-reference__text",{name:"resource",hash:{},data:l}))?r:"")+' </span><span class="flight-status__emphasize automation-my-trips-booking-ref">'+e.escapeExpression(e.lambda(null!=t?t.bookingReference:t,t))+"</span></div> "},14:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <a href="'+(null!=(u=a.with.call(c,i(n(0)).call(c,"BookManage/Retrieve-Trips/Widget/manage-booking__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0,r,s),inverse:e.noop,data:l}))?u:"")+"&showpage=true&bookref2="+h(d(null!=s[1]?s[1].bookingReference:s[1],t))+"&lastname2="+h(d(null!=s[1]?s[1].lastName:s[1],t))+'" class="cta cta--large cta--primary my-trips__link my-trips-cta-manage"> '+h(i(n(0)).call(c,"BookManage/Retrieve-Trips/Widget/manage-trip__text",{name:"resource",hash:{},data:l}))+" </a> "},15:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.url:t,t))},17:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <a href="'+(null!=(u=a.with.call(c,i(n(0)).call(c,"Common/Login-link/login-link__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0,r,s),inverse:e.noop,data:l}))?u:"")+"&refurl="+(null!=(u=a.with.call(c,i(n(0)).call(c,"BookManage/Retrieve-Trips/Widget/manage-booking__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0,r,s),inverse:e.noop,data:l}))?u:"")+"&showpage=true&bookref2="+h(d(null!=s[1]?s[1].bookingReference:s[1],t))+"&lastname2="+h(d(null!=s[1]?s[1].lastName:s[1],t))+'" class="cta cta--large cta--primary my-trips__link my-trips-cta-manage"> '+h(i(n(0)).call(c,"BookManage/Retrieve-Trips/Widget/manage-trip__text",{name:"resource",hash:{},data:l}))+" </a> "},19:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return' <a href="'+(null!=(u=a.with.call(c,i(n(0)).call(c,"BookManage/Retrieve-Trips/Cards/check-in__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0,r,s),inverse:e.noop,data:l}))?u:"")+"&showpage=true&seldcity2="+h(d(null!=(u=null!=(u=null!=(u=null!=(u=null!=t?t.originDestinations:t)?u[0]:u)?u.airSegments:u)?u[0]:u)?u.arrival:u,t))+"&bookref="+h(d(null!=s[1]?s[1].bookingReference:s[1],t))+"&lastname="+h(d(null!=s[1]?s[1].lastName:s[1],t))+'" class="cta cta--large cta--primary my-trips__link my-trips-cta-check-in"> '+h(i(n(0)).call(c,"BookManage/Retrieve-Trips/Cards/check-in__text",{name:"resource",hash:{},data:l}))+" </a> "},21:function(e,t,a,o,l){var r;return" "+(null!=(r=e.invokePartial(n(48),t,{name:"cta",hash:{class:"my-trips__link automation-my-trips-cta-checkin",label:i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/online-check-in-unavailable__text",{name:"resource",hash:{},data:l}),disabled:"true",type:"primary",size:"large",element:"button"},data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" "},23:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return" "+(null!=(u=a.with.call(c,i(n(0)).call(c,"BookManage/Retrieve-Trips/Widget/view-all-trips__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(24,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},24:function(e,t,a,o,l,r,s){var u,c=e.lambda,d=e.escapeExpression,h=null!=t?t:e.nullContext||{};return' <a href="'+d(c(null!=t?t.url:t,t))+'" target="'+d(c(null!=t?t.target:t,t))+'" '+(null!=(u=i(n(1)).call(h,null!=t?t.target:t,"===","_blank",{name:"op",hash:{},fn:e.program(25,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' class="my-trips__inline-link my-trips__inline-link--view-all"> '+d(i(n(297)).call(h,i(n(0)).call(h,"BookManage/Retrieve-Trips/Widget/view-all-trips__text",{name:"resource",hash:{},data:l}),"allTripsCount",null!=s[1]?s[1].myTrips:s[1],{name:"flight-count",hash:{},data:l}))+" </a> "},25:function(e,t,n,a,i){return'rel="noreferrer"'},27:function(e,t,a,o,l){var r;return' <p class="womf__section__paragraph ta--left no-flights">'+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"Experience/Womf/Womf-widget/no-upcoming-flights__text",{name:"resource",hash:{},data:l}))?r:"")+"</p> "},29:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.myTrips:t)?r.trips:r,{name:"if",hash:{},fn:e.program(30,i,0,o,l),inverse:e.program(27,i,0,o,l),data:i}))?r:"")+" "},30:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <div class="my-trips__section__row"> '+(null!=(u=a.each.call(c,i(n(582)).call(c,null!=(u=null!=t?t.myTrips:t)?u.trips:u,2,{name:"limit-trips-data",hash:{},data:l}),{name:"each",hash:{},fn:e.program(31,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div> "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=t?t.myTrips:t)?u.trips:u)?u.length:u,">",2,{name:"op",hash:{},fn:e.program(23,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},31:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.airSegments:t,{name:"if",hash:{},fn:e.program(32,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},32:function(e,t,a,o,l,r,s){var u,c=e.escapeExpression,d=null!=t?t:e.nullContext||{};return' <div class="my-trips__section__row automation-my-trips-row-'+c(e.lambda(l&&l.key,t))+'"><div class="grid grid--middle womf__item"><div class="grid__item medium--one-sixth my-trips__divider-container"><div class="womf__divider"> '+(null!=(u=a.if.call(d,null!=(u=null!=t?t.tripDetail:t)?u.customTripName:u,{name:"if",hash:{},fn:e.program(33,l,0,r,s),inverse:e.program(35,l,0,r,s),data:l}))?u:"")+' </div></div><div class="grid__item one-half medium--one-sixth womf__item--left"><span class="flight-status__cell-heading">'+(null!=(u=i(n(0)).call(d,"BookManage/Retrieve-Trips/Widget/departing__text",{name:"resource",hash:{},data:l}))?u:"")+'</span><span class="flight-status__emphasize js-time-date">'+c(i(n(20)).call(d,null!=(u=null!=t?t.tripDetail:t)?u.tripFirstDepartureDate:u,{name:"formatResourceDate",hash:{key:"shortDateShortDay"},data:l}))+"</span></div> "+(null!=(u=a.if.call(d,(u=(u=l&&l.root)&&u.session)&&u.isFullyLoggedIn,{name:"if",hash:{},fn:e.program(37,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' <div class="grid__item one-half medium--one-quarter my-trips__link-layout"> '+(null!=(u=a.if.call(d,(u=(u=l&&l.root)&&u.session)&&u.isFullyLoggedIn,{name:"if",hash:{},fn:e.program(39,l,0,r,s),inverse:e.program(41,l,0,r,s),data:l}))?u:"")+' </div><div class="grid__item one-half medium--one-quarter"> '+(null!=(u=a.if.call(d,null!=(u=null!=(u=null!=t?t.ctaEligibility:t)?u.checkin:u)?u.eligibile:u,{name:"if",hash:{},fn:e.program(43,l,0,r,s),inverse:e.program(21,l,0,r,s),data:l}))?u:"")+" </div></div></div> "},33:function(e,t,a,o,l){var r;return" "+e.escapeExpression(e.lambda(null!=(r=null!=t?t.tripDetail:t)?r.tripName:r,t))+" "+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/trip__text",{name:"resource",hash:{},data:l}))?r:"")+" "},35:function(e,t,n,a,i){var o;return' <span class="js-city-name" data-iata-code="'+e.escapeExpression(e.lambda(null!=(o=null!=(o=null!=t?t.airSegments:t)?o[0]:o)?o.destination:o,t))+'"></span> '},37:function(e,t,a,o,l){var r;return' <div class="grid__item one-half medium--one-sixth womf__item--right"><span class="flight-status__cell-heading"> '+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Retrieve-Trips/Widget/placeholder-booking-reference__text",{name:"resource",hash:{},data:l}))?r:"")+' </span><span class="flight-status__emphasize automation-my-trips-booking-ref">'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.pnrInfo:t)?r.pnr:r,t))+"</span></div> "},39:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <a href="'+(null!=(r=a.with.call(s,i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/manage-booking__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?r:"")+"&showpage=true&bookref2="+c(u(null!=(r=null!=t?t.pnrInfo:t)?r.pnr:r,t))+"&lastname2="+c(u(null!=(r=null!=t?t.pnrInfo:t)?r.paxLastName:r,t))+'" class="cta cta--large cta--primary my-trips__link my-trips-cta-manage"> '+c(i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/manage-trip__text",{name:"resource",hash:{},data:l}))+" </a> "},41:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <a href="'+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Login-link/login-link__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?r:"")+"&refurl="+(null!=(r=a.with.call(s,i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/manage-booking__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?r:"")+"&showpage=true&bookref2="+c(u(null!=(r=null!=t?t.pnrInfo:t)?r.pnr:r,t))+"&lastname2="+c(u(null!=(r=null!=t?t.pnrInfo:t)?r.paxLastName:r,t))+'" class="cta cta--large cta--primary my-trips__link my-trips-cta-manage"> '+c(i(n(0)).call(s,"BookManage/Retrieve-Trips/Widget/manage-trip__text",{name:"resource",hash:{},data:l}))+" </a> "},43:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression;return' <a href="'+(null!=(r=a.with.call(s,i(n(0)).call(s,"BookManage/Retrieve-Trips/Cards/check-in__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l}))?r:"")+"&showpage=true&seldcity2="+c(u(null!=(r=null!=(r=null!=t?t.airSegments:t)?r[0]:r)?r.destination:r,t))+"&bookref="+c(u(null!=(r=null!=t?t.pnrInfo:t)?r.pnr:r,t))+"&lastname="+c(u(null!=(r=null!=t?t.pnrInfo:t)?r.paxLastName:r,t))+'" class="cta cta--large cta--primary my-trips__link my-trips-cta-check-in"> '+c(i(n(0)).call(s,"BookManage/Retrieve-Trips/Cards/check-in__text",{name:"resource",hash:{},data:l}))+" </a> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.myTrips:t,"===",void 0,{name:"op",hash:{},data:l}),"||",i(n(1)).call(c,null!=(u=null!=t?t.myTrips:t)?u.outage:u,"===","true",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(1,l,0,r,s),inverse:e.program(3,l,0,r,s),data:l}))?u:""},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){"use strict";var a=n(43);e.exports=function(e,t){return a(e,"originDestinations.0.airSegments.0.departureDateTime").splice(0,t)}},function(e,t,n){"use strict";var a=n(34);e.exports=function(e){var t=a(e,{actionName:"CHECKIN"});return!!t&&t.eligibile}},function(e,t,n){"use strict";var a=n(43);e.exports=function(e,t){return a(e,"airSegments.0.departureDateTime").splice(0,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(4)),i=f(n(2)),o=f(n(167)),l=f(n(69)),r=f(n(3)),s=f(n(243)),u=n(7),c=n(132),d=n(13),h=n(298),p=f(n(584));function f(e){return e&&e.__esModule?e:{default:e}}n(587);var m=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return o.registerElements(),o.name="NewLanguageSelector",o.langCode=void 0===__EK__?"en":(0,u.getConfig)("langCode"),o.currentContext=(0,i.default)(__EK__,"currentContext",""),o.selectedCountry={},o.selectedLanguage={},o.hasResult=!0,o.collapse=o.collapse.bind(o),o.collapseOnEscape=o.collapseOnEscape.bind(o),o.handleDocumentClick=o.handleDocumentClick.bind(o),(0,c.registerPopup)("NewLanguageSelector",o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.registerElements=function(){this.$window=(0,r.default)(window),this.$body=(0,r.default)("body"),this.$navRoot=(0,r.default)(".js-ek-global-navigation"),this.$el=(0,r.default)(".js-website-selector-wrapper"),this.$websiteSelectorMenu=(0,r.default)(".js-website-selector"),this.$countryNavIcon=(0,r.default)("#close-country-popup"),this.$loginPopup=(0,r.default)(".account-popup-link"),this.$loginPanel=(0,r.default)(".ek-account-popup"),this.$searchEl=(0,r.default)(".search-popup"),this.$logo=(0,r.default)(".logo"),this.$handleBtn=(0,r.default)(),this.$searchSelectorInput=(0,r.default)(),this.$searchInput=(0,r.default)(),this.$searchInputLabel=(0,r.default)(),this.$inputClearBtn=(0,r.default)(),this.$allCountries=(0,r.default)(),this.$noCountryFound=(0,r.default)(),this.$scrollbar=(0,r.default)(),this.$countryListSection=(0,r.default)(),this.$countryListSectionInner=(0,r.default)(),this.$languageListItems=(0,r.default)(),this.clonedItems=(0,r.default)()},t.prototype.registerLazyElements=function(){this.$handleBtn=(0,r.default)(".country-selector-list-item-link"),this.$searchSelectorInput=(0,r.default)(".search-selector-list-item-link"),this.$searchInput=this.$el.find("#search-country-input"),this.$searchInputLabel=this.$el.find("#field-label"),this.$inputClearBtn=this.$el.find(".search-field .field__clear"),this.$allCountries=(0,r.default)(".all-countries-seperator"),this.$noCountryFound=(0,r.default)(".js-global-seperator"),this.$scrollbar=(0,r.default)(".website-selector-wrapper .scroll--bar"),this.$countryListSection=(0,r.default)(".website-selector-wrapper .country-list-section"),this.$countryListSectionInner=(0,r.default)(".js-website-selector-wrapper .country-list-section--inner"),this.$languageListItems=(0,r.default)("#js-language-list-items"),this.clonedItems=this.$languageListItems.find("> li").clone()},t.prototype.createWebsiteSelector=function(){var e=this;return this.getSelections().then(function(){return(0,h.getPublications)()}).then(function(t){e.$el.html((0,p.default)({publications:t,currentContext:e.currentContext,resources:__EK__.resources}))}).then(function(){e.registerLazyElements(),e.initializeCustomScrollbar(),e.scrollBarThumbHeight()})},t.prototype.scrollBarThumbHeight=function(){var e=this.$countryListSectionInner.height(),t=e*(e/this.$languageListItems.height());this.$scrollbar.css("height",t)},t.prototype.initializeCustomScrollbar=function(){if(!(window.innerWidth<c.mobileBreakpoint)){var e=this;e.$countryListSectionInner.on("scroll",function(){e.$scrollbar.show();var t=0;e.$countryListSectionInner.children().each(function(){t+=(0,r.default)(this).outerHeight(!0)});var n=e.$countryListSectionInner.height(),a=e.$countryListSectionInner.scrollTop(),i=e.$scrollbar.height(),o=a/((t-n)/(n-i));e.$scrollbar.css({top:o}).addClass("m-t-3"),e.$countryListSection.addClass("container--visible")}),e.$countryListSection.on("mouseover",function(){e.hasResult&&(e.$scrollbar.show(),e.$countryListSection.addClass("container--visible"))}),e.$countryListSection.on("mouseout",function(){e.$countryListSection.removeClass("container--visible"),e.$scrollbar.hide()});var t=e.$countryListSectionInner.scrollTop(),n=0;e.$scrollbar.on("mousedown",function(a){a.preventDefault(),t=e.$countryListSectionInner.scrollTop(),document.addEventListener("mousemove",l),document.addEventListener("mouseup",function e(){document.removeEventListener("mouseup",e);document.removeEventListener("mousemove",l)});var i=(0,r.default)("#js-website-selector__country-list > ul").height(),o=(0,r.default)("#js-website-selector__country-list > ul li").height();function l(a){if(a.pageY>n?(t+=o,e.$countryListSectionInner.scrollTop(t+10)):(t-=o,e.$countryListSectionInner.scrollTop(t-10)),n=a.pageY,t<0&&(t=0),t>=i-200){var l=e.$countryListSectionInner.css("max-height").split("px")[0],r=e.$scrollbar.css("height").split("px")[0];e.$scrollbar.css({top:parseInt(l)-r})}else e.$scrollbar.css({top:t})}}),e.$scrollbar.ondragstart=function(){return!1}}},t.prototype.handleNavbuttonClick=function(e){e.preventDefault(),e.stopPropagation(),this.$el.is(":visible")?this.collapse():this.expand(e)},t.prototype.collapseMegaMenu=function(e){this.$navRoot.find(".megalinks-list-parent").removeClass("mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked"),this.$navRoot.find(".megalinks-list-parent").children("li").removeClass("active-menu")},t.prototype.collapse=function(e){this.$websiteSelectorMenu.removeClass("active-menu"),this.$handleBtn.removeClass("active").attr("aria-expanded",!1),this.$handleBtn.focus(),this.$handleBtn.find(".arrow-up").hide(),this.$el.hide(),this.$logo.css({zIndex:50}),this.$body.off("keyup",this.collapseOnEscape).off("click",this.handleDocumentClick),this.$noCountryFound.css("display","none"),this.$allCountries.css("display","block"),this.resetLanguageList(),this.$el.empty()},t.prototype.expand=function(e){var t=this,n=this;this.createWebsiteSelector().then(function(){t.$handleBtn.addClass("active").attr("aria-expanded",!0),t.collapseMegaMenu(),t.$websiteSelectorMenu.addClass("active-menu"),setTimeout(function(){n.showPopup(e),n.$searchInput.focus()},200)})},t.prototype.showPopup=function(e){this.$languageListItems.removeClass("filter-on"),this.$searchSelectorInput.removeClass("active").attr("aria-expanded",!1),this.$handleBtn.find(".arrow-up").show(),this.$el.show(),this.$searchEl.hide(),this.$loginPopup.removeClass("active").attr("aria-expanded",!1),this.$loginPanel.hide(),this.$searchInput.val(""),this.$searchInput.closest(".ek-material-input").removeClass("active"),this.$searchInput.next(".ek-icon-clear").removeClass("is-visible"),this.$languageListItems.find("li").show(),this.$body.on("keyup",this.collapseOnEscape).on("click",this.handleDocumentClick),(0,c.collapseAllPopupsExcept)(this.name)},t.prototype.activateLabel=function(e){this.$searchInputLabel.addClass("website-selector__input-label--active")},t.prototype.deActivateLabel=function(e){""===this.$searchInput.val()&&this.$searchInputLabel.removeClass("website-selector__input-label--active")},t.prototype.collapseOnEscape=function(e){(e.keyCode||e.which)===c.eventKeyCode.ESC&&this.collapse&&"function"==typeof this.collapse&&this.collapse()},t.prototype.handleDocumentClick=function(e){var t=(0,r.default)(e.target);t.hasClass("website-selector-wrapper")||0!==t.parents(".website-selector-wrapper").length||this.collapse()},t.prototype.handleCloseButtonClick=function(e){e.preventDefault(),e.stopPropagation(),this.collapse()},t.prototype.onHandleBtnKeyDown=function(e){var t=e.keyCode||e.which,n=(0,r.default)(e.target);switch(e.preventDefault(),e.stopPropagation(),t){case 37:n.parent("li").prev("li").find("a:first").focus();break;case 39:n.parent("li").next("li").children("a:first").focus();break;case 40:this.expand();break;case 38:case 27:this.collapse();break;case 13:this.resetLanguageList()}return!1},t.prototype.getSelections=function(){var e=this;return(0,h.getPublications)().then(function(t){var n=t,a=Array.isArray(n),i=0;for(n=a?n:n[Symbol.iterator]();;){var l;if(a){if(i>=n.length)break;l=n[i++]}else{if((i=n.next()).done)break;l=i.value}var r=l;if((0,o.default)(e.currentContext,r.key)){if(e.selectedCountry=r,e.selectedCountry.languages&&e.selectedCountry.languages.length){var s=e.selectedCountry.languages,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var d;if(u){if(c>=s.length)break;d=s[c++]}else{if((c=s.next()).done)break;d=c.value}var h=d;if(h.contentKey===e.langCode){e.selectedLanguage=h;break}}}break}}})},t.prototype.filterLanguages=function(e){var t=this,n=e.target.value;(0,h.getPublications)().then(function(e){var a=[{item:e[e.length-1]}];if(!n.length)return t.$inputClearBtn.removeClass("field__clear--active"),t.resetLanguageList();t.$inputClearBtn.addClass("field__clear--active");var i=new s.default((0,l.default)(e),c.fuseOptions).search(n);if(t.$languageListItems.empty(),t.$noCountryFound.css("display","block"),t.$allCountries.css("display","none"),i.length>0){t.hasResult=!0;var o=t.$languageListItems.height(),r=t.$countryListSectionInner.height(),u=o*(o/t.$languageListItems.height());t.$scrollbar.css("height",u),o<=r?(t.$scrollbar.hide(),t.$countryListSection.removeClass("container--visible")):t.$scrollbar.show(),t.$countryListSection.addClass("container--visible"),t.renderResultList(i),t.$noCountryFound.css("display","none"),t.$allCountries.css("display","block")}else t.hasResult=!1,t.$scrollbar.hide(),t.$countryListSection.removeClass("container--visible"),t.renderResultList(a);t.scrollBarThumbHeight()})},t.prototype.renderResultList=function(e){var t=this;this.$languageListItems.addClass("filter-on"),e.forEach(function(e){var n=e.item;t.clonedItems.each(function(e,a){a.getAttribute("data-ref")===n.code&&t.$languageListItems.append(a)})})},t.prototype.resetLanguageList=function(){var e=this;this.$languageListItems.removeClass("filter-on"),this.hasResult=!0,this.$scrollbar.removeAttr("style"),this.clonedItems.each(function(t,n){e.$languageListItems.append(n)})},t.prototype.clearSearch=function(){this.$searchInput.val(""),this.$noCountryFound.css("display","none"),this.$allCountries.css("display","block"),this.$inputClearBtn.removeClass("field__clear--active"),this.resetLanguageList()},t.prototype.handleLanguageClick=function(e){var t=(0,r.default)(e.target),n=this.selectedLanguage.code.toUpperCase().replace("-",":"),a=t.attr("data-language-code").toUpperCase().replace("-",":");(0,d.pushEvent)({event:"EventTrigger.typedCountrySelection",category:"Change Country Selection",action:"Typed in Country",label:"Previous:"+n+":Selected:"+a})},t}(a.default);m.selector=".js-website-selector",m.events={"click .js-country-selector-list-item-link":"handleNavbuttonClick","touch .js-country-selector-list-item-link":"handleNavbuttonClick","focus .js-website-selector-wrapper #search-country-input":"activateLabel","blur .js-website-selector-wrapper #search-country-input":"deActivateLabel","keyup .js-country-selector-list-item-link":"onHandleBtnKeyDown","keyup .js-website-selector-wrapper #search-country-input":"filterLanguages","mousedown .js-website-selector-wrapper .search-field .field__clear":"clearSearch","keyup .js-website-selector-wrapper .search-field .field__clear":"onHandleBtnKeyDown","new-language-selector.show":"expand","click .website-selector-close-btn":"handleCloseButtonClick","touch .website-selector-close-btn":"handleCloseButtonClick","click .website-selector__country-language":"handleLanguageClick","touch .website-selector__country-language":"handleLanguageClick"},t.default=m},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <fieldset><legend class="sr-only"> '+(null!=(r=i(n(0)).call(s,"Navigation/Header/Language-selector/selected-country__text",{name:"resource",hash:{},data:l}))?r:"")+' </legend><ul tabindex="-1" class="website-selector__selected-country"><li class="webselector-li website-selector__country-list country-list-block active"><div><div class="website-selector__country-list-details"> '+(null!=(r=a.each.call(s,null!=t?t.languages:t,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?r:"")+' </div><div class="website-selector__country-list-details"> '+(null!=(r=a.each.call(s,null!=t?t.languages:t,{name:"each",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?r:"")+" </div></div></li></ul></fieldset> "},2:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},i&&i.first,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.program(5,i,0),data:i}))?o:"")+" "},3:function(e,t,n,a,i){return' <span aria-hidden="true" class="website-selector__country-name">'+e.escapeExpression(e.lambda(null!=t?t.countryTitle:t,t))+"</span> "},5:function(e,t,n,a,i){return' <div tabindex="-1" class="dot-seperator" aria-hidden="true"><div>|</div><span aria-hidden="true" class="website-selector__country-name">'+e.escapeExpression(e.lambda(null!=t?t.countryTitle:t,t))+"</span></div> "},7:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},i&&i.first,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(15,i,0),data:i}))?o:"")+" "},8:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return' <div class="website-selector__country-language__wrapper" tabindex="0"><span><a tabindex="-1" class="website-selector__country-language" data-language-code="'+u(i(n(22)).call(s,null!=t?t.code:t,{name:"toLowerCase",hash:{},data:l}))+'" href="'+(null!=(r=a.unless.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"unless",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?r:"")+'"> '+u(e.lambda(null!=t?t.languageTitle:t,t))+" "+(null!=(r=a.if.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?r:"")+" </a></span></div> "},9:function(e,t,n,a,i){return e.escapeExpression(e.lambda(null!=t?t.href:t,t))+"/"},11:function(e,t,n,a,i){return"#"},13:function(e,t,n,a,i){return' <span class="highlight-selected-language"></span> '},15:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression,c=e.lambda;return' <div class="dot-seperator" aria-hidden="true"><div class="language-separator desktop-only">|</div><div class="dot-separator-mobile"></div></div><div class="website-selector__country-language__wrapper" tabindex="0"><span><a tabindex="-1" class="website-selector__country-language" data-language-code="'+u(i(n(22)).call(s,null!=t?t.code:t,{name:"toLowerCase",hash:{},data:l}))+'" href="'+(null!=(r=a.unless.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"unless",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?r:"")+'"><span class="sr-only">'+u(c(null!=t?t.countrytitle:t,t))+" </span>"+u(c(null!=t?t.languageTitle:t,t))+" "+(null!=(r=a.if.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?r:"")+" </a></span></div> "},17:function(e,t,n,a,i){var o,l=null!=t?t:e.nullContext||{};return' <li class="webselector-li website-selector__country-list country-list-block" data-ref="'+e.escapeExpression(e.lambda(null!=t?t.code:t,t))+'">  <div class="website-selector__country-list-details"> '+(null!=(o=n.each.call(l,null!=t?t.languages:t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?o:"")+' </div><div class="website-selector__country-list-details">  '+(null!=(o=n.each.call(l,null!=t?t.languages:t,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?o:"")+"  </div>  </li> "},18:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},i&&i.first,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(21,i,0),data:i}))?o:"")+" "},19:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression,c=e.lambda;return' <a class="website-selector__country-language__wrapper website-selector__country-language" data-language-code="'+u(i(n(22)).call(s,null!=t?t.code:t,{name:"toLowerCase",hash:{},data:l}))+'" href="'+(null!=(r=a.unless.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"unless",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?r:"")+'"><span class="sr-only">'+u(c(null!=t?t.countryTitle:t,t))+" </span>"+u(c(null!=t?t.languageTitle:t,t))+" "+(null!=(r=a.if.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?r:"")+" </a> "},21:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression,c=e.lambda;return' <div class="dot-seperator" aria-hidden="true"><div class="language-separator desktop-only">|</div><div class="dot-separator-mobile"></div></div><div class="website-selector__country-language__wrapper" tabindex="0"><span><a tabindex="-1" class="website-selector__country-language" data-language-code="'+u(i(n(22)).call(s,null!=t?t.code:t,{name:"toLowerCase",hash:{},data:l}))+'" href="'+(null!=(r=a.unless.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"unless",hash:{},fn:e.program(9,l,0),inverse:e.program(11,l,0),data:l}))?r:"")+'"><span class="sr-only">'+u(c(null!=t?t.countryTitle:t,t))+" </span>"+u(c(null!=t?t.languageTitle:t,t))+" "+(null!=(r=a.if.call(s,i(n(49)).call(s,(r=l&&l.root)&&r.currentContext,null!=t?t.href:t,{name:"get-selected-language",hash:{},data:l}),{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l}))?r:"")+" </a></span></div> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return'<section class="input-section"><fieldset><div class="website-selector"><div class="title-wrapper"><h2 class="website-selector__heading">'+(null!=(r=i(n(0)).call(s,"Navigation/Header/Language-selector/heading__text",{name:"resource",hash:{},data:l}))?r:"")+'</h2></div><div class="search-field"><input autocomplete="on" id="search-country-input" class="website-selector__input" /><label for="search-country-input" id="field-label" class="website-selector__input-label">'+e.escapeExpression(i(n(0)).call(s,"Navigation/Header/Language-selector/search-placeholder__text",{name:"resource",hash:{},data:l}))+'</label><a class="field__clear icon icon-delete-light" tabindex="0"></a></div></div></fieldset></section><section class="country-list-section"><div tabindex="-1" class="country-list-section--inner"><div class="selected-country-heading"><span class="website-selector__section-header">'+(null!=(r=i(n(0)).call(s,"Navigation/Header/Language-selector/selected-country__text",{name:"resource",hash:{},data:l}))?r:"")+"</span></div>  "+(null!=(r=a.with.call(s,i(n(586)).call(s,l&&l.root,{name:"get-selected-country",hash:{},data:l}),{name:"with",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+'  <div class="all-countries-seperator"><span class="website-selector__section-header" aria-hidden="true">'+(null!=(r=i(n(0)).call(s,"Navigation/Header/Language-selector/all-countries__text",{name:"resource",hash:{},data:l}))?r:"")+'</span></div><div class="js-global-seperator global-seperator"><span class="website-selector__section-header" aria-hidden="true">'+(null!=(r=i(n(0)).call(s,"Navigation/Header/Language-selector/no-countries__text",{name:"resource",hash:{},data:l}))?r:"")+'</span><div class="seperator"></div></div><div class="global-country-list-holder"><ul class="webselector-ul"></ul></div><fieldset><legend class="sr-only"> '+(null!=(r=i(n(0)).call(s,"Navigation/Header/Language-selector/all-countries__text",{name:"resource",hash:{},data:l}))?r:"")+' </legend><div id="js-website-selector__country-list" class="website-selector__country-list"><ul id="js-language-list-items" class="webselector-ul"> '+(null!=(r=a.each.call(s,null!=t?t.publications:t,{name:"each",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?r:"")+' </ul></div></fieldset></div><div class="scroll--bar "></div></section><div class="website-selector-close-holder"><a href="#" class="website-selector-close-btn js-country-selector-list-item-link country-selector-list-item-link icon icon-delete-light" aria-label="close country selector popup"><span class="sr-only">close country selector popup</span></a></div>'},useData:!0})},,function(e,t,n){"use strict";var a=n(167);e.exports=function(e){var t=e.publications,n=Array.isArray(t),i=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var l=o;if(a(e.currentContext,l.key))return l}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(589);var a=s(n(4)),i=s(n(86)),o=s(n(2)),l=s(n(3)),r=n(13);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.passengerPluralInputLabel=__EK__.resources["BookManage/search-flight/placeholder-passengers-plural__text"],i.passengerSingularInputLabel=__EK__.resources["BookManage/search-flight/placeholder-passengers-singular__text"],i.adultAgeStandard=(0,o.default)(__EK__,"resources.BookManage/search-flight/passenger-adult-detail__text",""),i.adultAgeAlternative=(0,o.default)(__EK__,"resources.BookManage/search-flight/passenger-adult-alt-detail__text",""),i.$passengerInput=i.$el.find(".js-passenger .field__input"),i.$adults=i.$el.find('[data-type="adults"]'),i.$adultsDetail=i.$adults.find(".increment-field__detail"),i.$OFW=i.$el.find('[data-type="OFW"]'),i.$teenagers=i.$el.find('[data-type="teenagers"]'),i.$children=i.$el.find('[data-type="children"]'),i.$infants=i.$el.find('[data-type="infants"]'),i.$teenagerContainer=i.$el.find(".passenger-teenager-container"),i.$OFWContainer=i.$el.find(".passenger-OFW-container"),i.controlSpecialPassengersInput(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.controlSpecialPassengersInput=function(e){var t=(0,o.default)(e,"origin"),n=(0,o.default)(e,"destination"),a=(0,l.default)(".js-one-way");if(e){var i=e.seats,r=i.teenagers,s=i.adults,u=i.OFW,c=[{element:this.$teenagers,seatsNumber:r},{element:this.$adults,seatsNumber:s},{element:this.$OFW,seatsNumber:u}],d=a.length>0&&a[0].checked,h=t&&(!0===t.isGBE||!0===t.teenagerApplicable)||n&&(!0===n.isGBE||!0===n.teenagerApplicable)&&!d,p=t&&(!0===t.isOFW||!0===t.overseasFilipinoWorkerApplicable)||n&&(!0===n.isOFW||!0===n.overseasFilipinoWorkerApplicable)&&!d;h?this.showTeenagerPassengerOption(e):this.hideTeenagerPassengerOption(e),this.updateAdultAgeDetails(h),this.publish("passengers.display",{isTeenageInput:h,isOFWInput:p}),p?this.showOFWPassengerOption(e):this.hideOFWPassengerOption(e),this.validatePassengersNumber(c)}else this.$adults.length>0&&this.setMinimumAttribute(this.$adults[0],1)},t.prototype.updateAdultAgeDetails=function(e){var t=e?this.adultAgeAlternative:this.adultAgeStandard;this.$adultsDetail.text(t)},t.prototype.showTeenagerPassengerOption=function(e){e.seats;this.$teenagerContainer.show()},t.prototype.showOFWPassengerOption=function(e){e.seats;this.$OFWContainer.show()},t.prototype.validatePassengersNumber=function(e){var t=this;if(1===e.reduce(function(e,n){return t.setMinimumAttribute(n.element[0],0),e+n.seatsNumber},0)){var n=e.filter(function(e){return 1===e.seatsNumber});this.setMinimumAttribute(n[0].element[0],1)}},t.prototype.hidePassengerOption=function(e,t,n){n.hide(),e[t]=0,this.setDefaultAdult(e)},t.prototype.hideTeenagerPassengerOption=function(e){var t=e.seats;this.hidePassengerOption(t,"teenagers",this.$teenagerContainer)},t.prototype.hideOFWPassengerOption=function(e){var t=e.seats;this.hidePassengerOption(t,"OFW",this.$OFWContainer)},t.prototype.setDefaultAdult=function(e){e.adults+e.teenagers+e.OFW===0&&(e.adults=1)},t.prototype.setMinimumAttribute=function(e,t){e.setAttribute("data-min",t)},t.prototype.handleUpdate=function(e,t){var n=t.data;t.refs;this.controlSpecialPassengersInput(n);var a=this.$el.find(".field__error.js-error"),o=this.$el.find(".passenger-inline-error"),l=0,s=0;if((0,i.default)(n.seats,function(e,t){l+="infants"===t?0:e,s+="infants"===t?e:0}),l>0&&l<=n.flightClassMaxPassengers&&(this.updateTotal(l+s),a.removeClass("show")),l>n.flightClassMaxPassengers){var u=__EK__.resources["BookManage/search-flight/passenger-error__text"]?__EK__.resources["BookManage/search-flight/passenger-error__text"].replace("{{num}}",n.flightClassMaxPassengers).replace("{{type}}",n.flightClass):"";a.text(u).addClass("show"),(0,r.pushClientErrorEvent)("Flight Search","Maximum Passenger Error")}if(n.seats.infants>0&&n.seats.infants===n.seats.adults+n.seats.OFW){var c=__EK__.resources["BookManage/search-flight/passenger-general-error__text"]?__EK__.resources["BookManage/search-flight/passenger-general-error__text"].replace("{{num}}",n.seats.adults+n.seats.OFW).replace("{{type}}",__EK__.resources["BookManage/search-flight/passenger-infant__text"]):"";o.text(c),this.$el.addClass("passenger-error")}else this.$el.removeClass("passenger-error")},t.prototype.updateTotal=function(e){var t=e>1?this.passengerPluralInputLabel:this.passengerSingularInputLabel;this.$passengerInput.val(e+" "+t),this.$passengerInput.trigger("change")},t}(a.default);u.selector=".search-flight__passengers",u.events={"search-flight.update":"handleUpdate","calendar.update":"handleUpdate"},t.default=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(591);var a=o(n(4)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var l=parseInt(__EK__.env.EKH_ROOMS_ADULT_DEFAULT),r=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.state=[],i.registerResources(),i.registerElements(),i.init(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(){var e=this;setTimeout(function(){e.handleRoomAdd()},0)},t.prototype.registerResources=function(){this.roomsMax=parseInt(__EK__.env.EKH_ROOMS_NUMBER),this.personSingular=__EK__.resources["BookManage/search-holiday/person-singular__text"],this.personPlural=__EK__.resources["BookManage/search-holiday/person-plural__text"],this.adultSingular=__EK__.resources["BookManage/search-holiday/passenger-adult-singular__text"],this.adultPlural=__EK__.resources["BookManage/search-holiday/passenger-adult-plural__text"],this.childSingular=__EK__.resources["BookManage/search-holiday/passenger-child-singular__text"],this.childPlural=__EK__.resources["BookManage/search-holiday/passenger-child-plural__text"],this.roomSingular=__EK__.resources["BookManage/search-holiday/room-singular__text"],this.roomPlural=__EK__.resources["BookManage/search-holiday/room-plural__text"],this.roomInputSingular=__EK__.resources["BookManage/search-holiday/room-input-singular__text"],this.roomInputPlural=__EK__.resources["BookManage/search-holiday/room-input-plural__text"]},t.prototype.registerElements=function(){this.$roomInput=this.$el.find(".js-room-input .js-dropdown-open").first().find(".js-field-input"),this.$adults=this.$el.find('[data-type="adults"]'),this.$children=this.$el.find('[data-type="children"]'),this.$roomDropdown=this.$el.find(".js-room-input .js-dropdown-open").siblings(".dropdown:first")},t.prototype.handleRoomAdd=function(e){(e=e||window.event)&&e.preventDefault();var t={id:this.state.length+1,details:{adults:l,children:0,childrenAges:[]}};this.addRoom(t),this.publish("room.added",t),this.updateState(),setTimeout(function(){(0,i.default)(".js-room-input .dropdown .room--last button:first").focus()},10)},t.prototype.handleRoomRemove=function(e,t){this.removeRoom(t.id-1),this.publish("room.removed",{id:t.id}),this.updateState()},t.prototype.updateState=function(){this.$el.toggleClass("room-dropdown--max",this.state.length===this.roomsMax),this.updateInput(),this.publish("rooms.updated",{rooms:this.state}),this.publish("passengers.display")},t.prototype.addRoom=function(e){var t=this;this.state.push(e),setTimeout(function(){t.$roomDropdown.scrollTop(t.$roomDropdown[0].scrollHeight)},50)},t.prototype.removeRoom=function(e){this.state.splice(e,1)},t.prototype.handleRoomUpdate=function(e,t){this.state=this.state.map(function(e){return e.id===t.id?t:e}),this.updateState()},t.prototype.updateInput=function(){var e=this.state.length,t=0,n=0,a=this.state,i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var r=l;t+=r.details.adults,n+=r.details.children}var s=e+" "+(e>1?this.roomInputPlural:this.roomInputSingular),u=t+" "+(t>1?this.adultPlural:this.adultSingular),c=n>1?this.childPlural:this.childSingular,d=s+" ("+(n?u+", "+(n+" "+c):""+u)+")";this.$roomInput.val(d),this.$roomInput.trigger("change")},t}(a.default);r.selector=".js-holiday-room-dropdown",r.events={"room.remove":"handleRoomRemove","room.update":"handleRoomUpdate","click .js-holiday-add-room":"handleRoomAdd"},t.default=r},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(593);var a=o(n(4)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var l=parseInt(__EK__.env.EKH_ROOMS_ADULT_DEFAULT),r=0,s=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.state={adults:l,children:r,childrenAges:[]},i.roomId=i.$el.data("id"),i.registerResources(),i.registerElements(),i.init(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.registerResources=function(){this.personSingular=__EK__.resources["BookManage/search-holiday/person-singular__text"],this.personPlural=__EK__.resources["BookManage/search-holiday/person-plural__text"],this.roomSingular=__EK__.resources["BookManage/search-holiday/room-singular__text"],this.childrenMax=parseInt(__EK__.env.EKH_ROOMS_CHILDREN_MAX)},t.prototype.registerElements=function(){this.$adults=this.$el.find('[data-type="adults"]'),this.$children=this.$el.find('[data-type="children"]'),this.$childrenAgeContainer=this.$el.find(".js-room-children-age-container"),this.$addAnotherRoomButton=(0,i.default)(".room-dropdown__add-room-btn")},t.prototype.init=function(){1===this.roomId&&this.$el.addClass("room--first"),0===this.state.adults&&(this.state.adults=l),this.publish("passengers.display")},t.prototype.handleChildAgeChange=function(){this.childAgeUpdate()},t.prototype.childAgeUpdate=function(){var e=this;this.state.childrenAges=[],this.$el.find(".js-room-children-age:not(.hidden) .js-field-input").each(function(t,n){var a=isNaN(parseInt(n.value))?null:parseInt(n.value);e.state.childrenAges.push(a)}),this.publish("room.update",{id:this.roomId,details:this.state})},t.prototype.handlePersonUpdate=function(e,t){var n=(0,i.default)(t.event.currentTarget).closest(".js-holiday-room").data("id");this.roomId==n&&(this.state[t.type]=t.value,this.updateView(),this.childAgeUpdate())},t.prototype.updateView=function(){this.$childrenAgeContainer.toggleClass("hidden",!this.state.children),this.$childrenAgeContainer.find(".js-room-children-age").addClass("hidden");for(var e=1;e<=this.childrenMax;e++){var t=this.$childrenAgeContainer.find('.js-room-children-age[data-id="'+e+'"]');e<=this.state.children?t.removeClass("hidden"):(t.find(".js-field-input").val("").closest(".js-fields").removeClass("field--active"),t.find(".js-dropdown-select-item").removeClass("active"))}},t.prototype.handleRoomAdded=function(e,t){this.$el.removeClass("room--last"),this.roomId===t.id&&(this.state=t.details,this.$el.removeClass("hidden"),this.$el.addClass("room--last"))},t.prototype.resetState=function(e){this.roomId===e&&(this.state={adults:l,children:r,childrenAges:[]},this.updateView(),this.publish("search-holiday.update",{roomId:this.roomId,details:{adults:this.state.adults,children:this.state.children}}))},t.prototype.handleRoomRemove=function(e){(e=e||window.event)&&e.preventDefault(),1!==this.roomId&&this.$el.hasClass("room--last")&&(this.publish("room.remove",{id:this.roomId}),this.$addAnotherRoomButton.focus())},t.prototype.handleRoomRemoved=function(e,t){this.roomId===t.id&&(this.$el.addClass("hidden"),this.resetState(t.id)),this.roomId===t.id-1&&this.$el.addClass("room--last")},t}(a.default);s.selector=".js-holiday-room",s.events={"click .js-holiday-room-remove":"handleRoomRemove","room.added":"handleRoomAdded","room.removed":"handleRoomRemoved","room-person.increase":"handlePersonUpdate","room-person.decrease":"handlePersonUpdate","change .js-field-input":"handleChildAgeChange"},t.default=s},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(4)),i=s(n(3)),o=s(n(23)),l=s(n(41));n(595);var r=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return l.options={delay:500,offsetHeight:100},l.$window=(0,i.default)(window),l.$el=l.$el||a,l.setPromoHeight(),l.$window.resize((0,o.default)(function(){return l.setPromoHeight()},l.options.delay)),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setHalfPromoHeight=function(){var e=(0,r.getBreakpoint)("medium"),t=this.$el.find(".medium--one-half .market-promo-item__details, .medium--one-third .market-promo-item__details");if(t.height(""),this.$window.width()>e){var n=(0,l.default)(t,function(e,t){var n=(0,i.default)(t).height();return n>e?n:e},0);t.height(n)}},t.prototype.setOfferPromoHeight=function(){var e=(0,r.getBreakpoint)("medium"),t=document.querySelectorAll(".special-offers-container .medium--one-half .market-promo-item__details, .special-offers-container .medium--one-third .market-promo-item__details");if("undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),this.$window.width()>e&&t){var n=0;t.forEach(function(e){e.offsetHeight>n&&(n=e.offsetHeight)}),t.forEach(function(e){e.style.cssText="height:"+n+"px !important"})}},t.prototype.setPromoWithFlyBetterHeight=function(){var e=(0,r.getBreakpoint)("desktop"),t=this.$el.find(".market-promo-item--with-fly-better .market-promo-item__image-wrapper"),n=this.$el.find(".market-promo-item--with-fly-better .market-promo-item__details");this.$window.width()<=e&&t.length&&n.length&&t.height(n.height()+this.options.offsetHeight)},t.prototype.setPromoHeight=function(){this.setHalfPromoHeight(),this.setPromoWithFlyBetterHeight(),this.setOfferPromoHeight()},t}(a.default);u.selector=".js-local-markets-promos",t.default=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=v(n(4)),i=v(n(3)),o=n(132),l=n(5),r=n(17),s=n(7),u=n(98),c=v(n(597)),d=v(n(604)),h=v(n(606)),p=v(n(10)),f=v(n(2)),m=v(n(607)),g=n(13);function v(e){return e&&e.__esModule?e:{default:e}}var _={USERPROFILE:"service/liteauth"},y=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.registerElements(),i.name="AccountPopup",i.collapse=i.collapse.bind(i),i.collapseOnEscape=i.collapseOnEscape.bind(i),i.handleDocumentClick=i.handleDocumentClick.bind(i),i.initMobileTab(),(0,o.registerPopup)("AccountPopup",i),__EK__.session&&1===__EK__.session.noProfile&&fetch("/"+_.USERPROFILE,s.FETCH_OPTIONS).then(r.checkIsOk).then(r.toJSON).then(function(e){var t=(0,f.default)(e,"data.brsrMember",{}),n=(0,f.default)(t,"accounts",[]);n.forEach(function(e,n){if("Skywards"===e.option){var a=(0,f.default)(e,"dateOfMilesExpiry",null),i=null!==a?(0,p.default)(a,"DDMMMYYYY")._d:"";t.accounts[n].dateOfMilesExpiry=i}});var a=n.filter(function(e){return"Skywards"===e.option}),o=Object.assign({},window.__EK__.session);o.brsrMember=t,window.__EK__.skyPlusActive=t.skywardsPlus;var l=t.skyPlusPackageCode;window.__EK__.skywardsProductPackageCode=l;var r=window.__EK__.env.SKYWARDS_PLUS_OLD_PACKAGECODES;if(window.__EK__.isRedirectToDetailsPage=!(!l||!r.includes(l)),"false"!==window.__EK__.env.SKYWARDS_PLUS_OPEN_TO_ALL){l=""!==t.skyPlusPackageCode?t.skyPlusPackageCode:"N/A",(0,g.pushGAVariable)("Skywards Plus",l)}i.$el.html((0,c.default)({session:o,resources:__EK__.resources,currentContext:i.currentContext})),i.$skywardDashboard.html((0,d.default)({session:o,resources:__EK__.resources,skywardsDetails:a.length?a[0]:{},skyPlusActive:__EK__.skyPlusActive,skyPlusOpenToAll:window.__EK__.env.SKYWARDS_PLUS_OPEN_TO_ALL,skywardsProductPackageCode:window.__EK__.skywardsProductPackageCode,isRedirectToDetailsPage:window.__EK__.isRedirectToDetailsPage})),i.$skywardProfileName.html((0,h.default)({resources:__EK__.resources,brsrMember:t}))}).then(function(){i.registerElements(),i.initMobileTab()}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.registerElements=function(){this.$htmlBody=(0,i.default)("html,body"),this.$document=(0,i.default)(document),this.$navRoot=(0,i.default)(".js-ek-global-navigation"),this.$el=this.$navRoot.find(".js-ek-account-popup"),this.$countrySelector=(0,i.default)(".country-selector-list-item-link"),this.$countryEl=(0,i.default)(".website-selector-wrapper"),this.$searchSelector=(0,i.default)(".search-selector-list-item-link"),this.$searchEl=(0,i.default)(".search-popup"),this.$loginNavLink=(0,i.default)(".js-account-popup-link"),this.tabs=(0,i.default)(".js-account-mobile-tab-panel"),this.tabsContainer=(0,i.default)(".ek-account-details .js-ek-account-column"),this.accountsContainer=(0,i.default)(".js-ek-account-details"),this.familyContainer=(0,i.default)("#family-group-section"),this.skywardsContainer=(0,i.default)("#skywards-section"),this.logoutContainer=(0,i.default)(".ek-account-logout-row"),this.$skywardDashboard=(0,i.default)(".skywards-dashboard__block-2 > .row"),this.$skywardProfileName=(0,i.default)(".skywards-dashboard__block-1 > .welcome-message")},t.prototype.initMobileTab=function(){this.tabs.first().addClass("active"),this.tabsContainer.first().addClass("active-tab")},t.prototype.onTabSelected=function(e){e.preventDefault(),1===this.tabs.length||this.getSelectedTab((0,i.default)(e.target)).hasClass("active")||(this.tabs.each(function(e,t){(0,i.default)(t).hasClass("active")?(0,i.default)(t).removeClass("active"):(0,i.default)(t).addClass("active")}),this.tabsContainer.each(function(e,t){(0,i.default)(t).hasClass("active-tab")?(0,i.default)(t).removeClass("active-tab"):(0,i.default)(t).addClass("active-tab")}))},t.prototype.getSelectedTab=function(e){return e.hasClass("js-account-tab-title")?e.parent():e.parent().parent()},t.prototype.handleErrors=function(e){if(!e.ok)throw Error(e.statusText);return e},t.prototype.onLogout=function(e){var t=this;e.preventDefault(),(0,m.default)().then(this.handleErrors).then(function(){location.replace(location.pathname+"?logout=true"),t.$htmlBody.scrollTop(0)}).catch(function(e){console.log(e,"logout error")})},t.prototype.handleNavbuttonClick=function(e){var t=this;if(window.__EK__.session.isAuthenticated){e.preventDefault(),this.$el.is(":visible")?this.collapse():this.expand(e);var n=this.accountsContainer.find(".js-family-spinner");if(1==n.length&&!n.hasClass("hidden")){fetch("/service/family-group",{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",cache:"no-store",method:"GET"}).then(this.handleErrors).then(function(e){e.json().then(function(e){if(n.addClass("hidden"),null!=e.data&&"0"!==e.data.id){var a=t.skywardsContainer.find(".js-skywards-logout"),i=t.familyContainer.find(".js-family-name"),o=t.familyContainer.find(".js-family-miles"),r=t.familyContainer.find(".js-family-exp-details"),s=t.familyContainer.find(".js-family-miles-exp"),c=s.data("miles-resource-text"),d=(0,l.numberFormat)(e.data.rewardBalance);if(i.text(e.data.name),o.text(d+" "),s.text(d+" "),e.data.expiringMiles>0){var h=(0,f.default)(e,"data.dateOfMilesExpiry",null),m=null!==h?(0,u.dateFormat)((0,p.default)(h,"DDMMMYYYY")._d,s.data("date-format")):"",g=c.replace("{{expiringMiles}}",(0,l.numberFormat)(e.data.expiringMiles)).replace("{{expiringDate}}",m);r.text(g),s.text(d+" ("+g+")")}a.addClass("hidden"),t.accountsContainer.removeClass("no-btm-border"),t.logoutContainer.removeClass("hidden"),t.familyContainer.removeClass("hidden"),t.familyContainer.addClass("m-btm-20"),t.skywardsContainer.addClass("m-btm-20")}})}).catch(function(e){console.log(e,"family group error"),n.addClass("hidden")})}}},t.prototype.collapseMegaMenu=function(e){this.$navRoot.find(".megalinks-list-parent").removeClass("mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked"),this.$navRoot.find(".megalinks-list-parent").children("li").removeClass("active-menu")},t.prototype.collapse=function(e){this.$loginNavLink.removeClass("active").attr("aria-expanded",!1),this.$el.hide(),this.$loginNavLink.focus(),this.$document.off("keyup",this.collapseOnEscape).off("click",this.handleDocumentClick)},t.prototype.expand=function(e){var t=this;this.collapseMegaMenu(),setTimeout(function(){t.showPopup(e),t.$el.focus()},200)},t.prototype.showPopup=function(e){this.$loginNavLink.addClass("active").attr("aria-expanded",!0),this.$countrySelector.removeClass("active").attr("aria-expanded",!1),this.$countryEl.hide(),this.$searchSelector.removeClass("active").attr("aria-expanded",!1),this.$searchEl.hide(),this.$navRoot.find(".js-megalinks-list-parent").children("li").removeClass("active-menu"),this.$el.show(),this.$document.on("keyup",this.collapseOnEscape).on("click",this.handleDocumentClick),(0,o.collapseAllPopupsExcept)(this.name)},t.prototype.collapseOnEscape=function(e){(e.keyCode||e.which)===o.eventKeyCode.ESC&&this.collapse&&"function"==typeof this.collapse&&this.collapse()},t.prototype.handleDocumentClick=function(e){var t=(0,i.default)(e.target);t.hasClass("js-account-selector")||0!==t.parents(".js-account-selector").length||this.collapse()},t.prototype.handleCloseButtonClick=function(e){e.preventDefault(),e.stopPropagation(),this.collapse()},t}(a.default);y.selector=".js-account-selector",y.events={"click .js-account-popup-link":"handleNavbuttonClick","touch .js-account-popup-link":"handleNavbuttonClick","click .js-account-popup-close-btn":"handleCloseButtonClick","touch .js-account-popup-close-btn":"handleCloseButtonClick","click .js-account-tab-title":"onTabSelected","touch .js-account-tab-title":"onTabSelected","click .js-account-logout":"onLogout","touch .js-account-logout":"onLogout"},t.default=y},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.escapeExpression;return'  <section><div class="js-ek-account-popup-inner ek-account-popup-inner"><div class="ek-account-popup-body '+(null!=(u=a.if.call(c,null!=(u=null!=(u=null!=t?t.session:t)?u.brsrMember:u)?u.onlyBusinessRewards:u,{name:"if",hash:{},fn:e.program(2,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'"><div class="ek-account-popup-body--inner"><div class="ek-account-afterlogin"><h2> '+d(i(n(0)).call(c,"Common/Account/logged-in-title__text",{name:"resource",hash:{},data:l}))+' </h2>  <span data-mask="true" class="account-user"> '+(null!=(u=i(n(29)).call(c,i(n(0)).call(c,"Common/Account/name-order__text",{name:"resource",hash:{},data:l}),null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u,{name:"interpolate",hash:{},data:l}))?u:"")+" </span>  "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=(u=null!=t?t.session:t)?u.brsrMember:u)?u.accounts:u)?u.length:u,">",0,{name:"op",hash:{},fn:e.program(4,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div>  "+(null!=(u=a.if.call(c,null!=(u=null!=(u=null!=t?t.session:t)?u.brsrMember:u)?u.onlyBusinessRewards:u,{name:"if",hash:{},fn:e.program(93,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div>  "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=t?t.session:t)?u.brsrMember:u)?u.onlySkywards:u,"||",null!=(u=null!=(u=null!=t?t.session:t)?u.brsrMember:u)?u.BRSRAccount:u,{name:"op",hash:{},fn:e.program(101,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'  <div class="account-popup-close"><a class="js-account-popup-close-btn account-popup-link icon icon-delete-light" href="#" aria-label="Close"><span class="close-sr">'+d(i(n(0)).call(c,"Common/Accessibility/close-popup__text",{name:"resource",hash:{},data:l}))+"</span></a></div></div></div></section> "},2:function(e,t,n,a,i){return" register-section-enabled "},4:function(e,t,n,a,i,o,l){var r,s=null!=t?t:e.nullContext||{};return'  <div class="ek-account-mobile-tabs" aria-hidden="true"> '+(null!=(r=n.each.call(s,null!=(r=null!=(r=null!=t?t.session:t)?r.brsrMember:r)?r.accounts:r,{name:"each",hash:{},fn:e.program(5,i,0,o,l),inverse:e.noop,data:i}))?r:"")+' </div>  <div class="ek-account-details js-ek-account-details '+(null!=(r=n.if.call(s,null!=(r=null!=(r=null!=t?t.session:t)?r.brsrMember:r)?r.onlySkywards:r,{name:"if",hash:{},fn:e.program(8,i,0,o,l),inverse:e.noop,data:i}))?r:"")+'"> '+(null!=(r=n.each.call(s,null!=(r=null!=(r=null!=t?t.session:t)?r.brsrMember:r)?r.accounts:r,{name:"each",hash:{},fn:e.program(10,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" </div> "},5:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},data:l}),"||",i(n(1)).call(s,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?r:"")+" "},6:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return' <div id="'+s(i(n(22)).call(r,i(n(72)).call(r,null!=t?t.option:t," ","-",{name:"replace",hash:{},data:l}),{name:"toLowerCase",hash:{},data:l}))+'-tab" class="js-account-mobile-tab-panel account-mobile-tabpanel"><div class="js-account-tab-title account-tab-title '+s(i(n(22)).call(r,i(n(72)).call(r,null!=t?t.option:t," ","-",{name:"replace",hash:{},data:l}),{name:"toLowerCase",hash:{},data:l}))+'-tab"><span> '+s(i(n(6)).call(r,"memberType",i(n(72)).call(r,null!=t?t.option:t," ","-",{name:"replace",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+s(i(n(6)).call(r,"memberTypeKey",i(n(36)).call(r,"","Common/Account/member__type__",i(n(22)).call(r,null!=t?t.memberType:t,{name:"toLowerCase",hash:{},data:l}),"__text",{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+s(i(n(0)).call(r,null!=t?t.memberTypeKey:t,{name:"resource",hash:{},data:l}))+' </span><span data-mask="true"> '+s(i(n(62)).call(r,null!=t?t.id:t,{name:"numberFormat",hash:{separator:" "},data:l}))+" </span></div></div> "},8:function(e,t,n,a,i){return" no-btm-border "},10:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.escapeExpression;return" "+(null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},data:l}),"&&",null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.isSkywards:u,{name:"op",hash:{},fn:e.program(11,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' <div id="'+d(i(n(22)).call(c,i(n(72)).call(c,null!=t?t.option:t," ","-",{name:"replace",hash:{},data:l}),{name:"toLowerCase",hash:{},data:l}))+'-section" class="js-ek-account-column ek-account-column '+(null!=(u=a.if.call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.onlyBusinessRewards:u,{name:"if",hash:{},fn:e.program(13,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(15,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'">  <div class="ek-account-user-mobile '+(null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.customerType:u,"!==","ADM",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(17,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'">  <span data-mask="true" class="'+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(19,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'">'+(null!=(u=i(n(29)).call(c,i(n(0)).call(c,"Common/Account/name-order__text",{name:"resource",hash:{},data:l}),null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u,{name:"interpolate",hash:{},data:l}))?u:"")+"</span>  "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(21,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(23,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(25,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div>  "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(27,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(27,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(29,l,0,r,s),inverse:e.noop,data:l}))?u:"")+"  "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"!==","Family Group",{name:"op",hash:{},fn:e.program(31,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'  <div class="account-details-column mobile-hidden-column no-wrap"> '+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(36,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(38,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(40,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' </div>  <div class="account-details-column mobile-hidden-column no-wrap"> '+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(42,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.isAdmin:u,"&&",i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(44,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+d(i(n(6)).call(c,"isFamilyGroup",i(n(1)).call(c,i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},data:l}),"||",i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},data:l}),{name:"op",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.isAdmin:u,"||",null!=t?t.isFamilyGroup:t,{name:"op",hash:{},fn:e.program(46,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' </div>  <div class="account-details-column desktop-hidden-column mobile-points-column '+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(56,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'"> '+(null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},data:l}),"||",i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(58,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.isAdmin:u,"&&",i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(63,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.isAdmin:u,"||",null!=t?t.isFamilyGroup:t,{name:"op",hash:{},fn:e.program(65,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' </div>  <div class="account-details-column account-details-cta-column"> '+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(75,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(84,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=i(n(1)).call(c,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(90,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div></div> "},11:function(e,t,n,a,i){return' <div class="spinner js-family-spinner"><i class="icon icon-loading"></i></div> '},13:function(e,t,n,a,i){return" active-tab "},15:function(e,t,n,a,i){return" active-tab family-group-section hidden"},17:function(e,t,n,a,i){return" no-border "},19:function(e,t,n,a,i){return" hidden "},21:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return" "+s(i(n(6)).call(r,"statusResource",i(n(36)).call(r,"","Common/Account/status__",i(n(22)).call(r,null!=t?t.status:t,{name:"toLowerCase",hash:{},data:l}),"__text",{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+' <span class="ek-account-tier '+s(i(n(22)).call(r,null!=t?t.status:t,{name:"toLowerCase",hash:{},data:l}))+'"> '+s(i(n(0)).call(r,null!=t?t.statusResource:t,{name:"resource",hash:{},data:l}))+" </span> "},23:function(e,t,n,a,i){return' <span data-mask="true" class="ek-account-tier js-family-name"> '+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+" </span> "},25:function(e,t,n,a,i,o,l){var r;return' <span data-mask="true" class="ek-account-tier no-bold"> '+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=l[1]?l[1].session:l[1])?r.brsrMember:r)?r.organisationName:r,t))+" </span> "},27:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return' <span class="account-details-column account-name account-name-tab mobile-hidden-column no-wrap"> '+s(i(n(6)).call(r,"memberType",i(n(72)).call(r,null!=t?t.option:t," ","-",{name:"replace",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+s(i(n(6)).call(r,"memberTypeKey",i(n(36)).call(r,"","Common/Account/member__type__",i(n(22)).call(r,null!=t?t.memberType:t,{name:"toLowerCase",hash:{},data:l}),"__text",{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+s(i(n(0)).call(r,null!=t?t.memberTypeKey:t,{name:"resource",hash:{},data:l}))+" </span> "},29:function(e,t,n,a,i){return' <span data-mask="true" class="account-details-column account-name account-name-tab mobile-hidden-column no-wrap js-family-name"> '+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+" </span> "},31:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <div class="account-details-column mobile-hidden-column no-wrap"> '+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l}))?r:"")+' <span data-mask="true" class="memebership-id"> '+e.escapeExpression(i(n(62)).call(s,null!=t?t.id:t,{name:"numberFormat",hash:{separator:" "},data:l}))+" </span></div> "},32:function(e,t,a,o,l){return" <span>"+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/skywards-id__text",{name:"resource",hash:{},data:l}))+"</span> "},34:function(e,t,a,o,l){return" <span>"+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/ID_text",{name:"resource",hash:{},data:l}))+"</span> "},36:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return" <span>"+s(i(n(0)).call(r,"Common/Account/membership_tier",{name:"resource",hash:{},data:l}))+"</span><span> "+s(i(n(6)).call(r,"statusResource",i(n(36)).call(r,"","Common/Account/status__",i(n(22)).call(r,null!=t?t.status:t,{name:"toLowerCase",hash:{},data:l}),"__text",{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+s(i(n(0)).call(r,null!=t?t.statusResource:t,{name:"resource",hash:{},data:l}))+" </span> "},38:function(e,t,a,o,l,r,s){var u,c=e.escapeExpression;return" <span>"+c(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/company",{name:"resource",hash:{},data:l}))+'</span><span data-mask="true">'+c(e.lambda(null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.organisationName:u,t))+"</span> "},40:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{},s=e.escapeExpression;return" <span> "+s(i(n(0)).call(r,"Common/Account/miles",{name:"resource",hash:{},data:l}))+' </span><span data-mask="true" class="js-family-miles-exp" data-miles-resource-text="'+s(i(n(0)).call(r,"Common/Account/air-miles-expire__text",{name:"resource",hash:{},data:l}))+' {{expiringDate}}" data-date-format="'+s(i(n(598)).call(r,{name:"getDateFormat",hash:{format:"D MMM YY",key:"shortDate"},data:l}))+'"></span> '},42:function(e,t,a,o,l){return" <span> "+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/miles",{name:"resource",hash:{},data:l}))+" </span> "},44:function(e,t,a,o,l){return' <span data-mask="true">'+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/points",{name:"resource",hash:{},data:l}))+"</span> "},46:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return'  <span data-mask="true"> '+(null!=(r=a.if.call(s,i(n(1)).call(s,null!=t?t.option:t,"!==","Family Group",{name:"op",hash:{},data:l}),{name:"if",hash:{},fn:e.program(47,l,0),inverse:e.noop,data:l}))?r:"")+" "+e.escapeExpression(i(n(6)).call(s,"expiringMilesAvailable",i(n(1)).call(s,null!=t?t.expiringMiles:t,">",0,{name:"op",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+(null!=(r=a.if.call(s,null!=t?t.expiringMilesAvailable:t,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?r:"")+" </span> "},47:function(e,t,a,o,l){return" "+e.escapeExpression(i(n(62)).call(null!=t?t:e.nullContext||{},null!=t?t.rewardBalance:t,{name:"numberFormat",hash:{separator:","},data:l}))+" "},49:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(6)).call(s,"expiringMiles",i(n(36)).call(s,"",'{"expiringMiles":"',i(n(62)).call(s,null!=t?t.expiringMiles:t,{name:"numberFormat",hash:{separator:","},data:l}),'"}',{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(50,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(52,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,i(n(1)).call(s,null!=t?t.option:t,"!==","Family Group",{name:"op",hash:{},data:l}),{name:"if",hash:{},fn:e.program(54,l,0),inverse:e.noop,data:l}))?r:"")+" "},50:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{};return" ("+e.escapeExpression(i(n(29)).call(r,i(n(0)).call(r,"Common/Account/air-miles-expire__text",{name:"resource",hash:{},data:l}),null!=t?t.expiringMiles:t,{name:"interpolate",hash:{},data:l}))+" "},52:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{};return" ("+e.escapeExpression(i(n(29)).call(r,i(n(0)).call(r,"Common/Account/air-points-expire__text",{name:"resource",hash:{},data:l}),null!=t?t.expiringMiles:t,{name:"interpolate",hash:{},data:l}))+" "},54:function(e,t,a,o,l){return" "+e.escapeExpression(i(n(20)).call(null!=t?t:e.nullContext||{},null!=t?t.dateOfMilesExpiry:t,{name:"formatResourceDate",hash:{key:"shortDate"},data:l}))+") "},56:function(e,t,n,a,i){return"family-column"},58:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" <span> "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},fn:e.program(59,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(61,l,0),inverse:e.noop,data:l}))?r:"")+" </span> "},59:function(e,t,a,o,l){return' <span data-mask="true" class="miles-family js-family-miles"></span> '+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/skywards-miles__text",{name:"resource",hash:{},data:l}))+" "},61:function(e,t,a,o,l){return" "+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/miles",{name:"resource",hash:{},data:l}))+" "},63:function(e,t,a,o,l){return" <span>"+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/points",{name:"resource",hash:{},data:l}))+"</span> "},65:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <span data-mask="true">'+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"!==","Family Group",{name:"op",hash:{},fn:e.program(47,l,0),inverse:e.noop,data:l}))?r:"")+'</span>  <span data-mask="true"> '+(null!=(r=a.if.call(s,null!=t?t.expiringMilesAvailable:t,{name:"if",hash:{},fn:e.program(66,l,0),inverse:e.noop,data:l}))?r:"")+" </span> "+(null!=(r=a.if.call(s,i(n(1)).call(s,null!=t?t.option:t,"===","Family Group",{name:"op",hash:{},data:l}),{name:"if",hash:{},fn:e.program(73,l,0),inverse:e.noop,data:l}))?r:"")+" "},66:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Skywards",{name:"op",hash:{},fn:e.program(67,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,null!=t?t.option:t,"===","Business Rewards",{name:"op",hash:{},fn:e.program(69,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,i(n(1)).call(s,null!=t?t.option:t,"!==","Family Group",{name:"op",hash:{},data:l}),{name:"if",hash:{},fn:e.program(71,l,0),inverse:e.noop,data:l}))?r:"")+" "},67:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(29)).call(r,i(n(0)).call(r,"Common/Account/air-miles-expire__text",{name:"resource",hash:{},data:l}),null!=t?t.expiringMiles:t,{name:"interpolate",hash:{},data:l}))+" "},69:function(e,t,a,o,l){var r=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(29)).call(r,i(n(0)).call(r,"Common/Account/air-points-expire__text",{name:"resource",hash:{},data:l}),null!=t?t.expiringMiles:t,{name:"interpolate",hash:{},data:l}))+" "},71:function(e,t,a,o,l){return" "+e.escapeExpression(i(n(20)).call(null!=t?t:e.nullContext||{},null!=t?t.dateOfMilesExpiry:t,{name:"formatResourceDate",hash:{key:"shortDate"},data:l}))+" "},73:function(e,t,a,o,l){return' <span data-mask="true"class="js-family-exp-details" data-miles-resource-text="'+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Account/air-miles-expire__text",{name:"resource",hash:{},data:l}))+' {{expiringDate}}"></span> '},75:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <a data-id="header_nav_cta" data-link="Skywards:View Skywards" href="'+(null!=(u=a.with.call(c,i(n(0)).call(c,"Common/Account/view-account__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(76,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'" class="'+(null!=(u=a.if.call(c,i(n(99)).call(c,(u=(u=l&&l.root)&&u.incidents)&&u.incidents,{name:"isIncident",hash:{},data:l}),{name:"if",hash:{},fn:e.program(78,l,0,r,s),inverse:e.program(80,l,0,r,s),data:l}))?u:"")+' view-skywards-button">'+e.escapeExpression(i(n(0)).call(c,"Common/Account/view-skywards__text",{name:"resource",hash:{},data:l}))+'</a><a data-id="header_nav_cta" data-link="Logout" href="#" class="js-account-logout js-skywards-logout account-white-button logout-button '+(null!=(u=a.unless.call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.onlySkywards:u,{name:"unless",hash:{},fn:e.program(82,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'">'+(null!=(u=i(n(0)).call(c,"Common/Account/log-out__text",{name:"resource",hash:{},data:l}))?u:"")+"</a> "},76:function(e,t,n,a,i){var o;return null!=(o=e.lambda(null!=t?t.url:t,t))?o:""},78:function(e,t,n,a,i){return"account-grey-button"},80:function(e,t,n,a,i){return"account-red-button"},82:function(e,t,n,a,i){return"hidden"},84:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <a data-id="header_nav_cta" data-link="Business Rewards:View Business Rewards" href=" '+(null!=(u=a.if.call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.isAdmin:u,{name:"if",hash:{},fn:e.program(85,l,0,r,s),inverse:e.program(88,l,0,r,s),data:l}))?u:"")+'" class="account-red-button view-business-rewards-button">'+e.escapeExpression(i(n(0)).call(c,"Common/Account/view-br-account__text",{name:"resource",hash:{},data:l}))+'</a><a data-id="header_nav_cta" data-link="Logout" href="#" class="js-account-logout account-white-button logout-button '+(null!=(u=a.unless.call(c,null!=(u=null!=(u=null!=s[1]?s[1].session:s[1])?u.brsrMember:u)?u.onlyBusinessRewards:u,{name:"unless",hash:{},fn:e.program(82,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'">'+(null!=(u=i(n(0)).call(c,"Common/Account/log-out__text",{name:"resource",hash:{},data:l}))?u:"")+"</a> "},85:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Account/view-br-account__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(86,l,0),inverse:e.noop,data:l}))?r:"")+'" '},86:function(e,t,n,a,i){var o;return" "+(null!=(o=e.lambda(null!=t?t.url:t,t))?o:"")+" "},88:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Account/view-br-user__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(86,l,0),inverse:e.noop,data:l}))?r:"")+'" '},90:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Account/view-family-group__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(91,l,0),inverse:e.noop,data:l}))?r:"")+" "},91:function(e,t,a,o,l){var r,s=e.lambda,u=null!=t?t:e.nullContext||{},c=e.escapeExpression;return' <a data-id="header_nav_cta" data-link="Family Group:View Family Group" href="'+(null!=(r=s(null!=t?t.url:t,t))?r:"")+'" class="'+(null!=(r=a.if.call(u,i(n(99)).call(u,(r=(r=l&&l.root)&&r.incidents)&&r.incidents,{name:"isIncident",hash:{},data:l}),{name:"if",hash:{},fn:e.program(78,l,0),inverse:e.program(80,l,0),data:l}))?r:"")+' view-skywards-button family-group-link mobile-hidden">'+c(i(n(0)).call(u,"Common/Account/view-family-group__text",{name:"resource",hash:{},data:l}))+'</a><a data-id="header_nav_cta" data-link="Family Group:View Family Group" href="'+(null!=(r=s(null!=t?t.url:t,t))?r:"")+'" class="'+(null!=(r=a.if.call(u,i(n(99)).call(u,(r=(r=l&&l.root)&&r.incidents)&&r.incidents,{name:"isIncident",hash:{},data:l}),{name:"if",hash:{},fn:e.program(78,l,0),inverse:e.program(80,l,0),data:l}))?r:"")+' view-skywards-button family-group-link desktop-hidden"><span>'+c(i(n(0)).call(u,"Common/Account/view-family-group__text",{name:"resource",hash:{},data:l}))+'</span><span class="desktop-hidden no-underline"> ></span></a> '},93:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return' <div class="ek-account-register-section"><i class="icon icon-or-svg"></i><div class="ek-account-register-section--inner"><h2>'+u(i(n(0)).call(s,"Common/Account/not-member__text",{name:"resource",hash:{},data:l}))+"</h2> "+u(i(n(6)).call(s,"registerLinkText",i(n(602)).call(s,i(n(0)).call(s,"Common/Account/register-link__text",{name:"resource",hash:{},data:l}),"\\{{link\\}}",{name:"splitString",hash:{},data:l}),{name:"var",hash:{},data:l}))+" <p>"+(null!=(r=i(n(1)).call(s,null!=(r=null!=t?t.registerLinkText:t)?r.length:r,">",0,{name:"op",hash:{},fn:e.program(94,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,null!=(r=null!=t?t.registerLinkText:t)?r.length:r,">",1,{name:"op",hash:{},fn:e.program(96,l,0),inverse:e.noop,data:l}))?r:"")+" </p> "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Account/register__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(99,l,0),inverse:e.noop,data:l}))?r:"")+" </div></div> "},94:function(e,t,n,a,i){var o;return e.escapeExpression(e.lambda(null!=(o=null!=t?t.registerLinkText:t)?o[0]:o,t))},96:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Account/register__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(97,l,0),inverse:e.noop,data:l}))?r:"")+e.escapeExpression(e.lambda(null!=(r=null!=t?t.registerLinkText:t)?r[1]:r,t))+" "},97:function(e,t,a,o,l){var r;return' <a data-id="header_nav_cta" data-link="Skywards Registration" href="'+(null!=(r=e.lambda(null!=t?t.url:t,t))?r:"")+'"> '+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"loyalty/family-benefit/page-banner-title__text",{name:"resource",hash:{},data:l}))+"</a> "},99:function(e,t,n,a,i){var o,l=e.lambda;return' <a data-id="header_nav_cta" data-link="Skywards Registration" href="'+(null!=(o=l(null!=t?t.url:t,t))?o:"")+'" class="account-white-button register-button">'+e.escapeExpression(l(null!=t?t.title:t,t))+"</a> "},101:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <div class="ek-account-logout-row '+(null!=(r=a.if.call(s,null!=(r=null!=(r=null!=t?t.session:t)?r.brsrMember:r)?r.onlySkywards:r,{name:"if",hash:{},fn:e.program(82,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=a.if.call(s,null!=(r=null!=(r=null!=t?t.session:t)?r.brsrMember:r)?r.BRSRAccount:r,{name:"if",hash:{},fn:e.program(102,l,0),inverse:e.noop,data:l}))?r:"")+'">  <a data-id="header_nav_cta" data-link="Logout" href="#" class="js-account-logout account-white-button logout-button">'+(null!=(r=i(n(0)).call(s,"Common/Account/log-out__text",{name:"resource",hash:{},data:l}))?r:"")+"</a></div> "},102:function(e,t,n,a,i){return"t-pad-0"},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return null!=(u=a.with.call(c,i(n(603)).call(c,null!=t?t.session:t,{name:"my-account",hash:{},data:l}),{name:"with",hash:{},fn:e.program(1,l,0,r,s),inverse:e.noop,data:l}))?u:""},useData:!0,useDepths:!0})},function(e,t,n){"use strict";var a=n(2);e.exports=function(e){var t=e.hash,n=t.key,i=t.format,o=a(e,"data.root.metadata.siteConfigurations")||a(e,"data.root.config")||a(window,"__EK__.config");return a(o,"content.language.metadata.cultureConfigurations.content."+n+".title",i)}},,,,function(e,t,n){"use strict";e.exports=function(e,t){return e&&t?e.split(t.replace(/\\/g,"")):[]}},function(e,t,n){"use strict";var a=n(32),i=n(69),o=n(2),l=n(165),r=n(12);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),n=o(t,"brsrMember.accounts",[]),s=r(o(t,"familyGroup",{}),{option:"Family Group"}),u=n.slice(0,1).concat(s,n.slice(1)).filter(function(e){return"Family Group"===e.option||!a(e.id)&&parseInt(e.id)>0}),c=function(e){return u.filter(function(t){return t.option===e&&!a(t.id)})},d={BRSRAccount:!a(c("Skywards"))&&!a(c("Business Rewards")),onlySkywards:!a(c("Skywards"))&&a(c("Business Rewards")),isSkywards:!a(c("Skywards")),onlyBusinessRewards:a(c("Skywards"))&&!a(c("Business Rewards")),noFamilyGroup:a(c("Family Group")),isAdmin:"ADM"===o(t,"brsrMember.customerType","")};return l(t,"brsrMember.accounts",u),l(t,"brsrMember",r(o(t,"brsrMember",{}),d)),{session:t}}},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return" "+u(i(n(6)).call(s,"statusResource",i(n(36)).call(s,"","Common/Account/status__",i(n(22)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.status:r,{name:"toLowerCase",hash:{},data:l}),"__text",{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+u(i(n(0)).call(s,null!=t?t.statusResource:t,{name:"resource",hash:{},data:l}))+" "+u(i(n(0)).call(s,"Common/Account/tier__text",{name:"resource",hash:{},data:l}))+" "},3:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=i(n(1)).call(s,(r=l&&l.root)&&r.skyPlusActive,"===",!0,{name:"op",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=i(n(1)).call(s,(r=l&&l.root)&&r.isRedirectToDetailsPage,"!==",!0,{name:"op",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l}))?r:"")+" "},4:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},(r=l&&l.root)&&r.isRedirectToDetailsPage,"===",!0,{name:"op",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?r:"")+" "},5:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Skywards-Plus/skywards-details-page-link",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l}))?r:"")+" "},6:function(e,t,n,a,i){var o=e.lambda,l=e.escapeExpression;return' <div class="skywards-plus"><a href="'+l(o(null!=t?t.url:t,t))+'" class="js-skywards-plus-link" data-id="pagebody_link" data-link="Skywards Dashboard:Skywards Plus"> '+l(o(null!=t?t.title:t,t))+" </a></div> "},8:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return" "+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Skywards-Plus/skywards-plus-subscription__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")+" "},9:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <div class="skywards-plus"><a href="'+e.escapeExpression(e.lambda(null!=t?t.url:t,t))+'" class="js-skywards-plus-link" data-id="pagebody_link" data-link="Skywards Dashboard:Skywards Plus"> '+(null!=(r=a.if.call(s,i(n(1)).call(s,(r=l&&l.root)&&r.skyPlusActive,"===",!0,{name:"op",hash:{},data:l}),{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.program(12,l,0),data:l}))?r:"")+" </a></div> "},10:function(e,t,n,a,i){return" "+e.escapeExpression(e.lambda(null!=t?t.title:t,t))+" "},12:function(e,t,a,o,l){return" "+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Common/Skywards-Plus/subscribe-to-skywards-plus__text",{name:"resource",hash:{},data:l}))+" "},14:function(e,t,a,o,l){var r;return" "+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},(r=l&&l.root)&&r.skyPlusActive,"===",!0,{name:"op",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?r:"")+" "},16:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return' <div class="row__item row__item--expiry"><i class="icon icon-flight-status icon--skywards-expiring-miles" aria-hidden="true"></i><div data-mask="true" class="heading">'+u(i(n(62)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.expiringMiles:r,{name:"numberFormat",hash:{separator:","},data:l}))+'</div><div data-mask="true"> '+u(i(n(6)).call(s,"milesExpiryDate",i(n(36)).call(s,"",'{"expiryDate":"',i(n(20)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.dateOfMilesExpiry:r,{name:"formatResourceDate",hash:{key:"shortDateFullYear"},data:l}),'"}',{name:"concat",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+u(i(n(29)).call(s,i(n(0)).call(s,"Common/Account/air-miles-expiring__text",{name:"resource",hash:{},data:l}),null!=t?t.milesExpiryDate:t,{name:"interpolate",hash:{},data:l}))+" </div>  "+(null!=(r=i(n(1)).call(s,(r=(r=l&&l.root)&&r.env)&&r.ENABLE_SHOW_EXTEND_MILES,"===","true",{name:"op",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?r:"")+" </div> "},17:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return"  "+(null!=(r=i(n(1)).call(s,i(n(605)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.dateOfMilesExpiry:r,"","months",{name:"date-diff",hash:{},data:l}),"<=",3,{name:"op",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?r:"")+" "},18:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <div class="links-row-item"> '+(null!=(r=a.with.call(s,i(n(0)).call(s,"Common/Account/extend-miles__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l}))?r:"")+" </div> "},19:function(e,t,n,a,i){var o=e.lambda,l=e.escapeExpression;return' <div><a href="'+l(o(null!=t?t.url:t,t))+'" data-id="pagebody_link" data-link="Skywards Homepage:Extend Miles">'+l(o(null!=t?t.title:t,t))+"</a></div> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return' <div class="row__item">  <i class="icon icon-fares icon--account-tier" aria-hidden="true"></i><div class="heading"> '+(null!=(r=a.if.call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.status:r,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+' </div>  <div data-mask="true">EK '+u(i(n(62)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.id:r,{name:"numberFormat",hash:{separator:" "},data:l}))+"</div>  "+(null!=(r=a.if.call(s,i(n(1)).call(s,(r=l&&l.root)&&r.skyPlusOpenToAll,"===","true",{name:"op",hash:{},data:l}),{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.program(14,l,0),data:l}))?r:"")+' </div>  <div class="row__item"><i class="icon icon-id icon--skywards-miles" aria-hidden="true"></i><div data-mask="true" class="heading">'+u(i(n(62)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.rewardBalance:r,{name:"numberFormat",hash:{separator:","},data:l}))+"</div><div>"+u(i(n(0)).call(s,"Common/Account/skywards-miles__text",{name:"resource",hash:{},data:l}))+"</div></div>  "+(null!=(r=i(n(1)).call(s,null!=(r=null!=t?t.skywardsDetails:t)?r.expiringMiles:r,">",0,{name:"op",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?r:"")},useData:!0})},function(e,t,n){"use strict";var a=n(10),i=n(32);e.exports=function(e,t,n){var o=a(new Date),l=i(e)?o:a(e),r=i(t)?o:a(t);return i(n)?l.diff(r):l.diff(r,n)}},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return e.escapeExpression(i(n(0)).call(s,"Common/Account/welcome__text",{name:"resource",hash:{},data:l}))+', <br><span data-mask="true" class="heading span16">'+(null!=(r=i(n(29)).call(s,i(n(0)).call(s,"Common/Account/name-order__text",{name:"resource",hash:{},data:l}),null!=t?t.brsrMember:t,{name:"interpolate",hash:{},data:l}))?r:"")+"</span>"},useData:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return fetch((0,a.getConfig)("SSO_OKTA_API_ENDPOINT")+"/sessions/me",{credentials:"include",headers:{Accept:"application/json"},method:"DELETE"}).then(function(e){return[204,404].indexOf(e.status)<0?Promise.reject("Okta logout failed! status: "+e.status):fetch("/service/logout",{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",cache:"no-store",method:"POST"})})};var a=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(609);a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.$helpContainers=i.$el.find(".contextual-help-dropdown__passenger-content"),i.$helpText=i.$el.find(".js-help-text"),i.$helpTeenagerText=i.$el.find(".js-help-teenager-text"),i.$helpOFWText=i.$el.find(".js-help-ofw-text"),i.$helpTeenagerOFWText=i.$el.find(".js-help-teenager-ofw-text"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateHelpContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isTeenageInput:!1,isOFWInput:!1};this.$helpContainers.removeClass("active"),t.isTeenageInput&&t.isOFWInput?this.$helpTeenagerOFWText.addClass("active"):t.isTeenageInput?this.$helpTeenagerText.addClass("active"):t.isOFWInput?this.$helpOFWText.addClass("active"):this.$helpText.addClass("active")},t}(a(n(4)).default);i.selector=".js-passenger-contextual-help-dropdown",i.events={"passengers.display":"updateHelpContent"},t.default=i},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(4));i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}n(611);var o=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.$el=i.$el||a,i.$readMoreIcon=i.$el.find(".icon-chevron-down"),i.$seoLinksUL=i.$el.find(".hp-seo-block-links ul"),i.$seoDescription=i.$el.find(".hp-seo-block__subtext"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleLinks=function(){this.$seoDescription.toggleClass("expanded"),this.$seoLinksUL.toggleClass("collapsed"),this.$readMoreIcon.toggleClass("icon-chevron-down icon-chevron-up")},t}(a.default);o.selector=".hp-seo-block",o.events={"click .read-more-btn":"toggleLinks"},t.default=o},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(613);var a,i=n(4),o=(a=i)&&a.__esModule?a:{default:a},l=n(5),r=n(133),s=n(13),u=n(50);var c=n(2),d=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));i.$el=i.$el||a,i.$el.find(".video").length&&((0,r.loadStyle)(__EK__.videojsPaths["video.css"]),(0,l.loadScript)(__EK__.videojsPaths["video.js"]));var o=i.$el&&i.$el.find(".hero__cta"),d=o&&o.attr("data-link"),h=i.$el&&i.$el.attr("analytic-text"),p=i.$el&&i.$el.attr("data-tcm-id"),f=c(window,"__EK__.env.EK_BARCLAYS_CONFIG"),m=c(window,"__EK__.env.EK_BARCLAYS_PROMOSHOW_ENABLED",!1);if(f){var g=p&&(0,u.getReferrerId)(JSON.parse(f),p.split("-")[1]);g&&g.length>0&&o.attr("href",o.attr("href")+"?referrerid="+g),m&&(0,u.getConfigServerData)(p,f).then(function(e){if(Object.keys(e).length>0){var t=c(e,"category")+":"+(h||"")+"|"+c(e,"tcmId")+"_n/a|"+d+"|"+c(e,"details.location")+"~"+c(e,"details.slot");(0,s.promoShowEvent)({label:t})}})}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.widgetOpen=function(){this.$el.addClass("widget-open")},t.prototype.widgetClose=function(){this.$el.removeClass("widget-open")},t}(o.default);d.selector=".hero",d.events={"widget.open":"widgetOpen","widget.close":"widgetClose"},t.default=d},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(4)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(615);var r=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=a=l(this,e.call.apply(e,[this].concat(o))),a.options={isMobile:!0,sectionExpandedClass:"section--is--expanded",expandedClass:"is--expanded"},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.stopProp=function(e){e.stopPropagation()},t.prototype.toggleSectionExpansion=function(e){e.preventDefault(),e.stopPropagation(),this.options.isMobile&&this.toggleListExpansion((0,i.default)(e.currentTarget).parent(".js-sectionAccordion")[0],!0)},t.prototype.toggleListExpansion=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0===t?this.options.sectionExpandedClass:this.options.expandedClass,a=!0===t?e:e.currentTarget;e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),(0,i.default)(a).toggleClass(n),this.toggleAria(a,t)},t.prototype.toggleAria=function(e){var t=!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?".footer__section-link--accordion":".footer__list-link--accordion";(0,i.default)(e).find(t).attr("aria-expanded",function(e,t){return"true"===t?"false":"true"})},t.prototype.submitEmail=function(e){e.preventDefault(),(0,i.default)(".subscribe").submit()},t.prototype.respondToMedium=function(){this.options.isMobile=!1},t.prototype.respondToMobile=function(){this.options.isMobile=!0},t}(a.default);r.selector=".js-footer",r.events={"breakpoint.medium":"respondToMedium","breakpoint.mobile":"respondToMobile","click .js-sectionHeading":"toggleSectionExpansion","click .js-listAccordion":"toggleListExpansion","click .js-subscribe-input":"submitEmail","click .js-no-prop":"stopProp"},t.default=r},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(3)),i=l(n(4)),o=l(n(97));function l(e){return e&&e.__esModule?e:{default:e}}var r="EK_",s=(0,n(7).getConfig)("OPERATIONAL_UPDATE_DISMISS_ENABLED"),u=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.store=new o.default({prefix:r,type:o.default.getStorageTypes().COOKIE}),i.initOperationalUpdates(),i.expanded=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initOperationalUpdates=function(){if("true"===s){var e=0,t=String(this.store.get("operational-update-dismissed","",{json:!1})).split("|");this.$el.find(".operational-update").each(function(){var n=String((0,a.default)(this).data("id"));-1===t.indexOf(n)&&((0,a.default)(this).addClass("operational-update--not-dismissed"),e++)}),(0,a.default)(".operational-updates").toggleClass("operational-updates--multiple",e>1);var n=this.$el.find(".operational-update--not-dismissed").first();n.addClass("operational-update--main"),n.find(".operational-update__extras").show(),n.find(".operational-update__expander").toggleClass("hidden",e<2)}var i=this.$el.find(".operational-updates-ticker__wrapper .operational-update--not-dismissed");i.length>0&&(0,a.default)(".operational-updates-ticker").show(),i.length>1&&(this.$el.find(".operational-updates-ticker__wrapper").css("animation-duration",4*i.length+"s"),this.generateKeyFrame(i.length),this.$el.find(".operational-updates-ticker__wrapper").addClass("operational-updates-ticker--enable"))},t.prototype.closeOperationalUpdate=function(){var e=[];this.$el.find(".operational-update--not-dismissed").each(function(){e.push((0,a.default)(this).data("id")),(0,a.default)(this).removeClass("operational-update--not-dismissed operational-update--displayed")}),(0,a.default)(".operational-updates").hide();var t=this.store.get("operational-update-dismissed",null,{json:!1}),n=void 0!==t&&null!=t?t+"|"+e.join("|"):e.join("|");this.store.set("operational-update-dismissed",n),this.publish("operational.update.close",{from:"OPERATIONAL-UPDATE"})},t.prototype.toggleDisplayOperationalUpdates=function(e){var t=(0,a.default)(e.target).parents(".operational-update");t.siblings(".operational-update--not-dismissed").toggleClass("operational-update--displayed",!this.expanded),t.find(".operational-update__expander--closed").toggleClass("hidden",!this.expanded),t.find(".operational-update__expander--opened").toggleClass("hidden",this.expanded),this.expanded=!this.expanded,this.publish("operational.update.toggle",{from:"OPERATIONAL-UPDATE"})},t.prototype.generateKeyFrame=function(e){for(var t="",n=0,a=0,i=1;i<e;i++)t+=(n+=100/e)+"% {margin-top: -"+(a+=44)+"px} ";var o="@keyframes ticker {\t0%   {margin-top: 0;}"+t+"100% {margin-top: 0;}}";document.styleSheets[0].insertRule(o,0)},t}(i.default);u.selector=".operational-updates",u.events={"click .js-dismiss-operational-update":"closeOperationalUpdate","click .js-expand-operational-updates":"toggleDisplayOperationalUpdates"},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(618);var a=o(n(4)),i=o(n(3));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={isMobile:!0,activeClass:"active"},i.$el.find(".product-block__list-item .product-block__link").ready(function(){i.setDefaultActive()}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setDefaultActive=function(){var e="ul.product-block__list a:first";(0,i.default)(e).addClass("block-is-active"),this.$el.find(e).trigger("click"),(0,i.default)(".product-block").mouseenter(function(){return(0,i.default)(e).removeClass("block-is-active")}),(0,i.default)(".product-block").mouseleave(function(){return(0,i.default)(e).addClass("block-is-active")})},t.prototype.isExternalUrl=function(e){if(e)return new RegExp("^(http|https)://","i").test(e)},t.prototype.respondToMedium=function(){this.options.isMobile=!1},t.prototype.respondToMobile=function(){this.options.isMobile=!0},t}(a.default);l.selector=".product-block",l.events={"breakpoint.medium":"respondToMedium","breakpoint.mobile":"respondToMobile"},t.default=l},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(4));n(620);var i=l(n(189)),o=n(13);function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));o.options={cookieName:"ekCookieBar",cookiePolicyVersion:o.$el.data("cookieValue"),cookieExpirationDate:o.$el.data("cookieExpiry")};var l=o.options,r=l.cookieName,s=l.cookiePolicyVersion,u=i.default.get(r);return(!u||u<s)&&(i.default.remove(r),o.$el.addClass("show"),document.body.style.paddingBottom=o.$el.height()+"px"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.dismissCookiePolicy=function(){this.pushAnalyticsData();var e=this.options,t=e.cookieName,n=e.cookiePolicyVersion,a=e.cookieExpirationDate;try{i.default.set(t,n,{expires:a})}catch(e){console.error(e)}document.body.style.paddingBottom=0,this.$el.removeClass("show"),this.publish("cookie.policy.close",{from:"COOKIE-POLICY"})},t.prototype.pushAnalyticsData=function(){(0,o.pushEvent)({event:"EventTrigger.Common_pageBodyWidget_CTAClick",category:"Page Body Interaction",action:"CTA Clicked",label:"Cookie Bar:OK"})},t}(a.default);r.selector=".js-cookie",r.events={"click .js-dismissPolicy":"dismissCookiePolicy"},t.default=r},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(622);var i=C(n(4)),o=C(n(3)),l=C(n(10)),r=C(n(55)),s=C(n(623)),u=C(n(2)),c=C(n(44)),d=C(n(34)),h=C(n(12)),p=C(n(69)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(624)),m=n(5),g=n(11),v=n(13),_=n(7),y=C(n(97)),b=n(134),w=n(298);function C(e){return e&&e.__esModule?e:{default:e}}var k=(0,_.getConfig)("EK_BOOKING_REDIRECT_COUNTRY_LIST"),x=(0,_.getConfig)("country"),E=(0,u.default)(window,"__EK__.env.OXYGEN_FLIGHT_SEARCH_ENABLED"),$=E&&"true"===String(E).toLocaleLowerCase(),S=f.checkLocalOriginCountrySite(),T=x?x.toUpperCase():"",D=(0,u.default)(window,"__EK__.env.BOOKING_SOURCE"),O=(0,u.default)(window,"__EK__.env.ENABLE_NEW_SRP"),j="true"===__EK__.resources["BookManage/search-flight/enable-new-SRP__text"],M=O&&j,L=(0,u.default)(window,"__EK__.env.IS_PY_ENABLED"),I=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={outage:!1},i.store=new y.default({type:y.default.getStorageTypes().COOKIE}),i.refs={adults:"adults",OFW:"OFW",teenagers:"teenagers",children:"children",infants:"infants"},i.state={flightClass:"economy",flightClassMaxPassengers:f.maxPassengersForClass(),origin:null,destination:null,departureDate:null,returnDate:null,isReturn:!0,seats:{adults:0,OFW:0,teenagers:0,children:0,infants:0},isReward:!1},i.passengerAdvice=i.$el.find(".passenger__information-text"),i.options.outage=i.$el.hasClass("js-outage"),i.$errorWrapper=i.$el.find(".error-wrapper"),i.$errorFieldCollection=i.$el.find(".js-field-input,.textfield__controls"),i.$departAirport=i.$el.find('input[name="Departure airport"]'),i.$arrivalAirport=i.$el.find('input[name="Arrival airport"]'),i.$searchFlightDate=i.$el.find(".textfield__controls"),i.$errorSummary=i.$el.find(".js-error-summary"),i.$errorMessages=i.$el.find(".js-error-message"),i.$bookingNotification=i.$el.find(".js-notification-block"),i.$notificationTextWrapper=i.$bookingNotification.find("span"),i.$localOriginBookingNotification=i.$el.find(".local-origin-notification-block"),i.$localOriginNotificationTextWrapper=i.$localOriginBookingNotification.find("span"),i.$dateField=i.$el.find("eol-datefield"),i.$calendar=i.$el.find("eol-calendar"),i.$flightDepartInput=i.$el.find(".textfield__input--start"),i.$continueFocus=i.$el.find(".js-continue-focus"),i.$destAirportInput=i.$el.find('[data-data-type="destinations"]').find(".field__input"),i.$el.find(".class-dropdown").find('[data-dropdown-id="0"]').trigger("click"),Promise.all([$?(0,g.getStationPairs)({isRewards:!1}):(0,g.getOrigins)(),$?(0,g.getClosestOriginStation)(b.SF_MODULE_KEY).catch(function(){return[]}):(0,g.getClosestOrigin)(b.SF_MODULE_KEY).catch(function(){return[]})]).then(function(e){var t=e[0],n=e[1],a=i.getRecentSearchCookieValue(),o=n&&(n.iataCode||n.stationCode);a&&a.From&&(o=!1);var l=null,r=null,s=(0,p.default)(n);return S?(i.$localOriginNotificationTextWrapper.html(i.$localOriginNotificationTextWrapper.attr("local-origin-notificationText")),i.$localOriginBookingNotification.show(),$?(r=f.filterLocalOriginStations((0,p.default)(t)))&&r.stations&&(o=!(!(s=s&&r.stations.some(function(e){return e.stationCode===s.stationCode})?s:null)||!o)&&s.stationCode,l=1===r.stations.length?r.stations[0].stationCode:o):(r=f.filterLocalOrigins((0,p.default)(t)))&&(o=!(!(s=s&&r.some(function(e){return e.iataCode===s.iataCode})?s:null)||!o)&&s.iataCode,l=1===r.length?r[0].iataCode:o)):(i.$localOriginNotificationTextWrapper.html(""),i.$localOriginBookingNotification.hide()),{items:$?t.stations:t,searchTemplate:$?t.templates:"",closest:n,closestLocalOrigin:s,preselectFirstOption:n&&(n.iataCode||n.stationCode),preselectFirstOptionSearchFlight:o||l}}).then(function(e){return i.publish("origin-flight.refresh",e)}),$?(0,g.getStationsDetails)().then(function(e){var t=e.stations;i.airportsByIataCodeCache=t,i.initStateFromLocalStore(t),i.initBoxever(t)}):(0,g.getAirports)().then(function(e){var t=e.airportsByIataCode;i.airportsByIataCodeCache=t,i.initStateFromLocalStore(t),i.initBoxever(t)}),(0,o.default)(window).on("pageshow.search-flight",function(e){e.originalEvent.persisted&&i.airportsByIataCodeCache&&i.initStateFromLocalStore(i.airportsByIataCodeCache)}),(0,m.queryStringParams)().login&&i.$el.find(".js-login-link").trigger("click"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.action=function(e){var t=f.validate(this.state);this.publish("search-flight.update",{validity:t,data:this.state,refs:this.refs,recentSearch:e}),this.setFormdata(),this.setCabinClassValue(),this.handleSubmission()},t.prototype.handleOneWay=function(e){var t=this.$el.find(".js-return");this.state.returnDate=null,this.state.isReturn=!e.currentTarget.checked,t.hide(),!this.state.isReturn&&this.state.departureDate&&this.$searchFlightDate&&this.$searchFlightDate[0]&&this.$searchFlightDate[0].classList.contains("error-highlighter")&&this.$searchFlightDate[0].classList.remove("error-highlighter"),this.action()},t.prototype.rewardsHandler=function(e){var t=e.target.checked;this.state.isReward=t,$?this.updateStationOriginsDestinations():this.updateOriginsDestinations(),this.action(e)},t.prototype.updateOriginsDestinations=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,g.getOrigins)(this.state.isReward).then(function(n){e.publish("origin-flight.refresh",{items:n,preselectFirstOption:!1});var a=(0,u.default)(e,"state.origin.iataCode",""),i=!(0,d.default)(n,function(e){return e.iataCode===a}),o=i?"":a;(0,g.getDestinations)(o,e.state.isReward).then(function(n){e.publish("destinations.loaded",{destinations:n,focusDestinations:t,clearDestination:i,section:"flight"})})})},t.prototype.updateStationOriginsDestinations=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,g.getStationPairs)({isRewards:this.state.isReward}).then(function(n){e.publish("origin-flight.refresh",{items:n.stations,searchTemplate:n.templates,preselectFirstOption:!1});var a=(0,u.default)(e,"state.origin.stationCode",""),i=!(0,d.default)(n.stations,function(e){return e.stationCode===a}),o=i?"":a;(0,g.getStationPairs)({stationCode:o,isRewards:e.state.isReward,requestedPoint:"DESTINATION"}).then(function(n){e.publish("destinations.loaded",{destinations:n.stations,searchTemplate:n.templates,focusDestinations:t,clearDestination:i,section:"flight"})})})},t.prototype.updateCalendarDates=function(){var e=!1;this.state.departureDate&&this.state.departureDate>=this.$dateField[0].calendar.firstActiveDate&&(this.$dateField[0].initialStartDate=this.state.departureDate,this.$dateField[0].$inputStart.closest(".textfield__date").toggleClass("textfield__date--active",!0),this.$calendar[0].currentMonth=this.state.departureDate.getMonth(),this.$calendar[0].currentYear=this.state.departureDate.getFullYear(),e=!0),this.state.returnDate&&this.state.returnDate>=this.$dateField[0].calendar.firstActiveDate?(this.$dateField[0].initialEndDate=this.state.returnDate,this.$dateField[0].$inputEnd.closest(".textfield__date").toggleClass("textfield__date--active",!0)):e&&(this.$dateField[0].type=1),this.state.flexible_dates>0&&(this.$dateField[0].flexible=!0)},t.prototype.originSelectedHandler=function(e,t){var n=t.iataCode,a=t.focusDestinations,i=t.originCountry;k&&this.updateBookingNotification(i),this.updateDestinations(n,a)},t.prototype.updateDestinations=function(e,t){var n=this;return $?(0,g.getStationPairs)({stationCode:e,isRewards:this.state.isReward,requestedPoint:"DESTINATION"}).then(function(a){n.publish("destinations.loaded",{destinations:a.stations,searchTemplate:a.templates,focusDestinations:t,iataCode:e,section:"flight"})}):(0,g.getDestinations)(e,this.state.isReward).then(function(a){n.publish("destinations.loaded",{destinations:a,focusDestinations:t,iataCode:e,section:"flight"})})},t.prototype.searchSelection=function(e,t){var n=this,a=t.type,i=t.value,o=(t.display,t.section),l=this.$el.find(".js-origin"),s=this.$el.find(".js-destination");a&&("origin"!==a&&"destination"!==a||(i&&(i.iataCode||i.stationCode)?(this.state[a]=i,"origin"===a&&(this.$departAirport&&this.$departAirport[0]&&this.$departAirport[0].classList.contains("error-highlighter")&&this.$departAirport[0].classList.remove("error-highlighter"),l.hide()),"destination"===a&&(this.$arrivalAirport&&this.$arrivalAirport[0]&&this.$arrivalAirport[0].classList.contains("error-highlighter")&&this.$arrivalAirport[0].classList.remove("error-highlighter"),this.continueSearchFlight(),this.$flightDepartInput.focus(),s.hide())):i&&""!==i||(this.state[a]=null)),"from"===a&&(this.state.departureDate=i),"to"===a&&(this.state.returnDate=i)),"class-flight"===o&&(this.state.flightClass=f.toFlightClassText(i),this.state.flightClassMaxPassengers=f.maxPassengersForClass(this.state.flightClass),this.setPassengerAdvice()),this.removeOuterErrorBox(),(0,r.default)(function(){return n.action()},250)()},t.prototype.removeOuterErrorBox=function(){var e=this.$el.find(".js-origin"),t=this.$el.find(".js-destination"),n=this.$el.find(".js-departure"),a=this.$el.find(".js-return");t.is(":visible")||e.is(":visible")||n.is(":visible")||a.is(":visible")||this.$errorWrapper&&this.$errorWrapper[0]&&this.$errorWrapper[0].classList.contains("visible")&&this.$errorWrapper[0].classList.remove("visible")},t.prototype.recentSearchSelection=function(e,t){var n=t.origins,a=t.item,i=t.isTrack,o=this.$el.find(".js-origin"),l=this.$el.find(".js-destination"),r=this.$el.find(".js-departure"),s=this.$el.find(".js-return");this.state.origin=a.origin,this.state.destination=a.destination,this.state.departureDate=new Date(a.depart_date),this.state.returnDate=a.return_date?new Date(a.return_date):null,this.state.isReturn=!!a.return_date,this.state.flightClass=a.booking_class.toLowerCase(),this.state.flightClassMaxPassengers=f.maxPassengersForClass(a.booking_class.toLowerCase()),this.state.flexible_dates=a.flexible_dates,this.state.seats={adults:+a.adults||0,OFW:+a.OFW||0,children:+a.children||0,infants:+a.infants||0,teenagers:+a.youths||0};var u=this.$el.find(".control__one-way");this.state.isReturn?u.removeAttr("checked"):u.attr("checked","checked");var c=$?a.origin.cityLongName+" ("+a.origin.stationCode+")":a.origin.city.longName+" ("+a.origin.iataCode+")",d=a.origin.iataCode||a.origin.stationCode,h=$?a.destination.cityLongName+" ("+a.destination.stationCode+")":a.destination.city.longName+" ("+a.destination.iataCode+")",p=a.destination.iataCode||a.destination.stationCode;this.publish("recent.search.origin",{origins:n,display:c,value:d,isTrack:i}),this.publish("recent.search.destination",{display:h,value:p}),$?this.updateStationOriginsDestinations():this.updateOriginsDestinations(),this.updateCalendarDates(),this.$el.find(".class-dropdown").find('[data-dropdown-id="'+f.toFlightClassValue(this.state.flightClass)+'"]').trigger("click"),this.continueSearchFlight(),this.action("recent_search"),a.origin&&(this.$departAirport&&this.$departAirport[0]&&this.$departAirport[0].classList.contains("error-highlighter")&&this.$departAirport[0].classList.remove("error-highlighter"),o.hide()),a.destination&&(this.$arrivalAirport&&this.$arrivalAirport[0]&&this.$arrivalAirport[0].classList.contains("error-highlighter")&&this.$arrivalAirport[0].classList.remove("error-highlighter"),l.hide()),this.state.isReturn?this.state.departureDate&&r.hide():(this.$searchFlightDate&&this.$searchFlightDate[0]&&this.$searchFlightDate[0].classList.contains("error-highlighter")&&this.$searchFlightDate[0].classList.remove("error-highlighter"),r.hide(),s.hide()),this.state.returnDate&&this.state.departureDate&&(this.$searchFlightDate&&this.$searchFlightDate[0]&&this.$searchFlightDate[0].classList.contains("error-highlighter")&&this.$searchFlightDate[0].classList.remove("error-highlighter"),s.hide()),this.removeOuterErrorBox()},t.prototype.handleStartDateSelection=function(e){var t=this.$el.find(".js-departure"),n=this.$el.find(".js-return");this.state.departureDate=e.detail,this.state.returnDate=this.$calendar[0].arrivalDate,!this.state.isReturn||this.state.departureDate&&this.state.returnDate?(this.$searchFlightDate&&this.$searchFlightDate[0]&&this.$searchFlightDate[0].classList.contains("error-highlighter")&&this.$searchFlightDate[0].classList.remove("error-highlighter"),t.hide(),n.hide()):this.state.departureDate&&t.hide(),this.setFormdata(),this.removeOuterErrorBox(),this.publish("product.showcase.update")},t.prototype.handleEndDateSelection=function(e){var t=this.$el.find(".js-return");this.state.returnDate=e.detail,this.state.returnDate&&this.state.departureDate?(this.$searchFlightDate&&this.$searchFlightDate[0]&&this.$searchFlightDate[0].classList.contains("error-highlighter")&&this.$searchFlightDate[0].classList.remove("error-highlighter"),t.hide()):this.state.returnDate&&t.hide(),this.setOneWayValue(!1),this.state.isReturn=!0,this.setFormdata(),this.removeOuterErrorBox(),this.publish("calendar.update",{data:this.state,refs:this.refs}),this.publish("product.showcase.update")},t.prototype.assembleSelectedSeats=function(e){var t=this,n=e.type,a=e.value;(0,s.default)(this.refs,function(e,i){e===n&&(t.state.seats[i]=a)}),this.action()},t.prototype.handlePassengerChange=function(e,t){this.assembleSelectedSeats(t)},t.prototype.continueSearchFlight=function(){this.$el.addClass("search-flight--continue"),this.$continueFocus.focus()},t.prototype.triggerLogin=function(){(0,o.default)(".main-navigation").trigger("openLogin")},t.prototype.setPassengerAdvice=function(){var e=this.passengerAdvice[0].innerText,t=parseInt(e.replace(/[^0-9.]/g,""),10);this.passengerAdvice[0].innerText=e.replace(t,this.state.flightClassMaxPassengers)},t.prototype.setOneWayValue=function(e){this.$el.find(".control__one-way").toArray().forEach(function(t){t.checked=e})},t.prototype.setFormdata=function(){var e=this.$el.find(".control__one-way");this.state.isReturn===(e[0].checked||e[1].checked)&&this.setOneWayValue(!this.state.isReturn),M?this.setNewFormValues():this.setFormValues()},t.prototype.setFormValues=function(){var e=this.$el.find('[name="seldcity1"]'),t=this.$el.find('[name="selacity1"]'),n=this.$el.find('[name="selddate1"]'),a=this.$el.find('[name="departDate"]'),i=this.$el.find('[name="depShortDate"]'),o=this.$el.find('[name="seladate1"]'),r=this.$el.find('[name="retShortDate"]'),s=this.$el.find('[name="seladults"]'),c=this.$el.find('[name="selteenager"]'),d=this.$el.find('[name="selofw"]'),h=this.$el.find('[name="selchildren"]'),p=this.$el.find('[name="selinfants"]'),m=this.$el.find('[name="selcabinclass"]'),g=this.$el.find('[name="selcabinclass1"]'),v=this.$el.find('[name="TID"]'),_=document.getElementById("search-flight__rewards_checkbox"),y=this.$el.find('[name="chkFlexibleDates"]'),b=this.$el.find(".control__flexible-date"),w=b[0].checked,C=this.$el.find(".checkbox.flexible-date"),k=this.$el.find('[name="showTeenager"]'),x=this.$el.find('[name="showOFW"]'),E=this.$el.find('[name="resultby"]'),$="SB",S="OW",T="RM",D=this.$el.find(".control__one-way"),O=D.length>0&&D[0].checked,j=w?2:0;this.state.origin&&e.val(this.state.origin.iataCode||this.state.origin.stationCode),this.state.destination&&t.val(this.state.destination.iataCode||this.state.destination.stationCode),s.val(this.state.seats.adults),c.val(this.state.seats.teenagers),d.val(this.state.seats.OFW),h.val(this.state.seats.children),p.val(this.state.seats.infants),y.val(w),E.val(j),C.show(),!0!==(0,u.default)(this.state,"origin.isInterlineOperated")&&!0!==(0,u.default)(this.state,"destination.isInterlineOperated")&&!0!==(0,u.default)(this.state,"origin.interlineOperated")&&!0!==(0,u.default)(this.state,"destination.interlineOperated")||(C.hide(),b.attr("checked",!1),y.val(!1)),k.val(this.state.seats.teenagers>0?"true":"false"),x.val(this.state.seats.OFW>0?"true":"false");var M=f.toFlightClassValue(this.state.flightClass);m.val(M);var L=O?"":M;g.val(L);var I=null;I=_&&_.checked?T:O?S:$,v.val(I);var A=this.state.departureDate?(0,l.default)(this.state.departureDate).format("DD-MMM-YY"):"";n.val(A);var N=this.state.departureDate?(0,l.default)(this.state.departureDate).format("DDMMYYYY"):"";a.val(N);var R=this.state.departureDate?(0,l.default)(this.state.departureDate).format(f.EXISTING_RECENT_SEARCH_DATE_FORMAT):"";i.val(R);var P=this.state.returnDate?(0,l.default)(this.state.returnDate).format("DD-MMM-YY"):"";o.val(P);var F=this.state.returnDate?(0,l.default)(this.state.returnDate).format(f.EXISTING_RECENT_SEARCH_DATE_FORMAT):"";r.val(F)},t.prototype.generateCorrelationId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.prototype.setNewFormValues=function(){var e=this.$el.find('[name="originDestinations"]'),t=this.$el.find('[name="persons"]'),n=this.$el.find('[name="chkFlexibleDates"]'),a=this.$el.find(".control__flexible-date"),i=a[0].checked,o=this.$el.find(".checkbox.flexible-date"),r=document.getElementById("search-flight__rewards_checkbox"),s=this.$el.find('[name="country"]'),c=this.$el.find('[name="language"]'),d=this.$el.find('[name="correlationId"]'),h=this.$el.find('[name="bookingType"]'),p=this.$el.find('[name="searchType"]'),m=this.$el.find('[name="resultsBy"]'),g=this.$el.find('[name="bookingSource"]'),v="ROUNDTRIP",_="ONEWAY",y="REVENUE",b="REDEMPTION",w="FLEXIBLE_DATES",C="PRICE",k=this.$el.find(".control__one-way"),x=k.length>0&&k[0].checked,E=i?w:C;s.val(T.toLowerCase()),c.val(__EK__.urlparser.language.toLowerCase());var $=null,S=null;this.state.origin&&($=this.state.origin.iataCode||this.state.origin.stationCode),this.state.destination&&(S=this.state.destination.iataCode||this.state.destination.stationCode);var O=[],j=f.toFlightClassValues(this.state.flightClass),M={origin:$,departureDate:this.state.departureDate?(0,l.default)(this.state.departureDate).format("DD-MMM-YY"):"",destination:S,cabinClass:j};if(O.push(M),!x){var L={origin:S,departureDate:this.state.returnDate?(0,l.default)(this.state.returnDate).format("DD-MMM-YY"):"",destination:$,cabinClass:j};O.push(L)}n.val(i),o.show(),!0!==(0,u.default)(this.state,"origin.isInterlineOperated")&&!0!==(0,u.default)(this.state,"destination.isInterlineOperated")&&!0!==(0,u.default)(this.state,"origin.interlineOperated")&&!0!==(0,u.default)(this.state,"destination.interlineOperated")||(o.hide(),a.attr("checked",!1),n.val(!1));var I,A=y;r&&r.checked&&(A=b),I=x?_:v,h.val(A),p.val(I);var N="ADT",R="CHD",P="INF",F="OFW",B="GBE",K=[];if(this.state.seats.adults){var W={personType:N,count:this.state.seats.adults};K.push(W)}if(this.state.seats.children){var H={personType:R,count:this.state.seats.children};K.push(H)}if(this.state.seats.infants){var Y={personType:P,count:this.state.seats.infants};K.push(Y)}if(this.state.seats.OFW){var U={personType:F,count:this.state.seats.OFW};K.push(U)}if(this.state.seats.teenagers){var V={personType:B,count:this.state.seats.teenagers};K.push(V)}e.val(JSON.stringify(O)),t.val(JSON.stringify(K)),m.val(E),g.val(D),d.val(this.generateCorrelationId())},t.prototype.removeOldFormData=function(){M?(this.$el.find('[name="j"]').remove(),this.$el.find('[name="seldcity1"]').remove(),this.$el.find('[name="selacity1"]').remove(),this.$el.find('[name="selddate1"]').remove(),this.$el.find('[name="departDate"]').remove(),this.$el.find('[name="depShortDate"]').remove(),this.$el.find('[name="seladate1"]').remove(),this.$el.find('[name="retShortDate"]').remove(),this.$el.find('[name="seladults"]').remove(),this.$el.find('[name="selofw"]').remove(),this.$el.find('[name="selteenager"]').remove(),this.$el.find('[name="selchildren"]').remove(),this.$el.find('[name="selinfants"]').remove(),this.$el.find('[name="selcabinclass"]').remove(),this.$el.find('[name="selcabinclass1"]').remove(),this.$el.find('[name="showsearch"]').remove(),this.$el.find('[name="showTeenager"]').remove(),this.$el.find('[name="showOFW"]').remove(),this.$el.find('[name="resultby"]').remove(),this.$el.find('[name="TID"]').remove(),this.$el.find('[name="chkFlexibleDates"]').remove(),this.$el.find('[name="multiCity"]').remove()):(this.$el.find('[name="originDestinations"]').remove(),this.$el.find('[name="persons"]').remove(),this.$el.find('[name="country"]').remove(),this.$el.find('[name="language"]').remove(),this.$el.find('[name="correlationId"]').remove(),this.$el.find('[name="bookingType"]').remove(),this.$el.find('[name="searchType"]').remove(),this.$el.find('[name="resultsBy"]').remove(),this.$el.find('[name="bookingSource"]').remove(),this.$el.find("form").attr("action",__EK__.resources["BookManage/search-flight/form-endpoint__url"].url))},t.prototype.getRecentSearchCookieValue=function(){var e=this.store.get("ps");return e&&"object"===(void 0===e?"undefined":a(e))?e:null},t.prototype.initStateFromLocalStore=function(e){var t=this,n=this.getRecentSearchCookieValue();if(n&&n.From&&n.To){var a=e[n.From]||(0,d.default)(e,function(e){return e.stationCode===n.From}),i=e[n.To]||(0,d.default)(e,function(e){return e.stationCode===n.To});if(S&&a.country.code!==T&&a.countryCode!==T&&(a=null),a&&i){var o={adults:n.Adults,booking_class:f.toFlightClassText(parseInt(n.DepClass)),children:n.Child,depart_date:n.DepDate?(0,l.default)(n.DepDate,f.EXISTING_RECENT_SEARCH_DATE_FORMAT).format("YYYY-MM-DD"):null,destination_iata:n.To,destination_name:$?i.cityLongName:i.city.shortName,flight_type:f.toFlightTypeText(parseInt(n.Type)),infants:n.Infants,origin_iata:n.From,origin_name:$?a.cityLongName:a.city.shortName,return_date:n.RetDate?(0,l.default)(n.RetDate,f.EXISTING_RECENT_SEARCH_DATE_FORMAT).format("YYYY-MM-DD"):null,youths:n.Teenager,origin:a,destination:i,OFW:n.OFWs,flexible_dates:n.By,is_reward:[1,"1",!0,"true"].indexOf(n.Reward)>-1},r=this.$el.find('[name="search-flight__rewards_checkbox"]');return r.length&&o&&o.is_reward&&(this.state.isReward=!0,r.attr("checked",!0)),$?(0,g.getStationPairs)({isRewards:this.state.isReward}).then(function(e){S&&(e=f.filterLocalOriginStations(e)),t.publish("recent.search.product.update",{origin:o.origin_iata,destination:o.destination_iata,departureDate:o.depart_date,returnDate:o.return_date}),setTimeout(function(){return t.publish("recent.search.selection",{origins:e.stations,item:o,isTrack:!1})},400)}):(0,g.getOrigins)(this.state.isReward).then(function(e){S&&(e=f.filterLocalOrigins(e)),t.publish("recent.search.product.update",{origin:o.origin_iata,destination:o.destination_iata,departureDate:o.depart_date,returnDate:o.return_date}),setTimeout(function(){return t.publish("recent.search.selection",{origins:e,item:o,isTrack:!1})},400)})}}},t.prototype.initBoxever=function(e){this.initiateRecentSearches(e)},t.prototype.findOriginAndDestination=function(e,t){if(!t)return null;var n=e.find(function(e){return e.stationCode===t});return Object.assign({},n,{shortName:n.station})},t.prototype.initiateRecentSearches=function(e){var t=this;if("undefined"!=typeof Boxever){var n=location.pathname.split("/");n.shift();var a=location.host.replace("www.","")+"/"+n[0];window._boxeverq.push(function(){var n={context:{clientKey:Boxever.client_key,channel:"WEB",language:__EK__.urlparser.langCode,currencyCode:(0,_.getConfig)("content.dataLayer.posSiteCurrencyCode"),uri:(0,_.getConfig)("BOXEVER_RECENT_SEARCHES_URI"),pointOfSale:a,browserId:Boxever.getID(),friendlyId:"recent_searches"}};Boxever.callFlows(n,function(n){if(n&&n.recent_searches){var a=n.recent_searches.slice(0,(0,_.getConfig)("BOXEVER_RECENT_SEARCHES_MAX")).map(function(n,a){var i=$?t.findOriginAndDestination(e,n.origin_iata):(0,u.default)(e,n.origin_iata);return S&&i.country.code!==T&&i.countryCode!==T?null:(0,h.default)({},n,{origin:i,destination:$?t.findOriginAndDestination(e,n.destination_iata):(0,u.default)(e,n.destination_iata),search_id:n.origin_iata+" "+n.destination_iata+" "+a,booking_class:n.booking_class?(0,u.default)(f,["boxeverFlightClasses",n.booking_class.toUpperCase()],"economy"):"economy"})});t.publish("searches.loaded",a.filter(function(e){return e}))}},"json")})}},t.prototype.handleSubmission=function(e){this.handleNullDestinationIssue(e);var t=f.validate(this.state);if(e&&(e.preventDefault(),e.stopPropagation(),this.state.submitted=!0,this.trackCTAClick()),t.valid)this.$errorWrapper.removeClass("visible"),e&&(this.removeOldFormData(),this.$el.find("form")[0].submit());else if(this.state.submitted){this.$errorWrapper.removeClass("visible"),this.$errorWrapper.removeAttr("role","alert");var n=this.$el.find(".js-origin"),a=this.$el.find(".js-destination"),i=this.$el.find(".js-departure"),o=this.$el.find(".js-return"),l=t.results.filter(function(e){return"origin"===e.term})[0],r=t.results.filter(function(e){return"destination"===e.term})[0];l.valid?n.hide():(n.show(),(0,v.pushClientErrorEvent)("Flight Search","Origin Error"),this.$departAirport&&this.$departAirport[0]&&this.$departAirport[0].classList.add("error-highlighter")),r.valid?a.hide():(a.show(),(0,v.pushClientErrorEvent)("Flight Search","Destination Error"),this.$arrivalAirport&&this.$arrivalAirport[0]&&this.$arrivalAirport[0].classList.add("error-highlighter")),this.state.departureDate?i.hide():(i.show(),(0,v.pushClientErrorEvent)("Flight Search","Departure Date Error"),this.$searchFlightDate&&this.$searchFlightDate[0]&&this.$searchFlightDate[0].classList.add("error-highlighter")),this.state.returnDate||!this.state.isReturn?o.hide():(o.show(),(0,v.pushClientErrorEvent)("Flight Search","Return Date Error"),this.$searchFlightDate&&this.$searchFlightDate[0]&&!this.$searchFlightDate[0].classList.contains("error-highlighter")&&this.$searchFlightDate[0].classList.add("error-highlighter")),this.$errorWrapper.addClass("visible"),this.$errorWrapper.attr("role","alert"),this.$errorSummary.focus(),this.state.submitted=!1}},t.prototype.setCabinClassValue=function(){"true"===L&&"3"===this.$el.find('[name="selcabinclass"]').val()?("3"!==this.$el.find('[name="gacabinclass"]').val()&&this.$el.find('[name="gacabinclass"]').val(this.$el.find('[name="selcabinclass"]').val()),this.$el.find('[name="selcabinclass"]').val("0")):this.$el.find('[name="gacabinclass"]').val(this.$el.find('[name="selcabinclass"]').val()),"true"===L&&"3"===this.$el.find('[name="selcabinclass1"]').val()&&this.$el.find('[name="selcabinclass1"]').val("0")},t.prototype.handleAdvanceSearch=function(e){e.preventDefault(),this.setFormValues(),this.$el.find('[name="originDestinations"]').remove(),this.$el.find('[name="persons"]').remove(),this.$el.find('[name="country"]').remove(),this.$el.find('[name="language"]').remove(),this.$el.find('[name="correlationId"]').remove(),this.$el.find('[name="bookingType"]').remove(),this.$el.find('[name="searchType"]').remove(),this.$el.find('[name="resultsBy"]').remove(),this.$el.find('[name="bookingSource"]').remove();var t=this.$el.find('[name="multiCity"]'),n=this.$el.find('[name="TID"]');t.val(1),n.val("AS"),this.$el.find("form").attr("action",__EK__.resources["BookManage/search-flight/form-endpoint__url"].url),this.$el.find("form")[0].submit()},t.prototype.trackCTAClick=function(){var e=this.$el.find('[name="gacabinclass"]'),t={event:"EventTrigger.Common_pageBodyWidget_CTAClick",category:"Page Body Interaction",action:"CTA Clicked",label:"Widget:Search flights:Search flights",cabinClassflightRoute:f.toFlightClassValues(f.toFlightClassText(parseInt(e.val())))};(0,v.pushEvent)(t)},t.prototype.handlePassengerFocus=function(){this.$el.find(".js-passenger .dropdown__input-container .js-field-input").attr("aria-expanded","true")},t.prototype.handleNullDestinationIssue=function(e){if(!this.state.destination&&e){var t=this.$destAirportInput.val();if(t&&t.length>3){var n=t.match(/\(([^)]*)\)[^(]*$/)[1];if(n){var a=this.$el.find('[name="selacity1"]');this.state.destination={iataCode:n},a.val(this.state.destination.iataCode)}}}},t.prototype.updateBookingNotification=function(e){var t=this,n=k.split(",");if((0,c.default)(n,x)&&e&&e.code)if(e.code.toLowerCase()===x)this.$notificationTextWrapper.html(""),this.$bookingNotification.hide();else{var a=this.$notificationTextWrapper.attr("data-notificationText");a&&(0,w.getPublication)(e).then(function(n){var i=n?e.longName:__EK__.resources["BookManage/search-flight/booking-redirection-global__text"];t.$notificationTextWrapper.html(a.replace("{{country}}",i)),t.$bookingNotification.show()})}else this.$notificationTextWrapper.html(""),this.$bookingNotification.hide()},t}(i.default);I.selector=".search-flight",I.events={"passenger.increase":"handlePassengerChange","passenger.decrease":"handlePassengerChange","click .js-continue-search-flight":"continueSearchFlight","click .js-login-link":"triggerLogin","click .js-widget-submit":"handleSubmission",'change [name="search-flight__rewards_checkbox"]':"rewardsHandler","change .js-flexible-dates":"action","change .js-one-way":"handleOneWay","search.selection.flight":"searchSelection","startselect eol-calendar":"handleStartDateSelection","endselect eol-calendar":"handleEndDateSelection","dropdown.selection":"searchSelection","origin.selected.flight":"originSelectedHandler","recent.search.selection":"recentSearchSelection","click .search-flight__inline-link--advanced-search":"handleAdvanceSearch","focus .js-passenger .js-field-input":"handlePassengerFocus"},t.default=I},function(e,t,n){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXISTING_RECENT_SEARCH_DATE_FORMAT=t.boxeverFlightClasses=void 0,t.validate=function(e){var t=e.flightClass,n=void 0===t?null:t,a=e.seats,i=void 0===a?c:a,o=e.origin,l=void 0===o?null:o,r=e.destination,s=void 0===r?null:r,u=e.departureDate,d=void 0===u?null:u,h=e.returnDate,p=void 0===h?null:h,b=e.isReturn,k=void 0===b||b,x=[f(l),m(s),g(i),v(i),_(i),y(n,i),w(d,p,k),C(d,p)];return{valid:x.every(function(e){return!0===e.valid}),results:x}},t.hasOrigin=f,t.hasDestination=m,t.minimumPassengers=g,t.infantHasAccompanyingAdult=v,t.childHasAccompanyingAdult=_,t.exceedsStandardSearch=y,t.maxPassengersForClass=b,t.hasDates=w,t.exceedsAllowedDates=C,t.toFlightClassText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,i.default)(d,function(t){return t===e})},t.toFlightClassValue=x,t.toFlightClassValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"economy";return h[e]},t.toFlightTypeText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,i.default)(p,function(t){return t===e})},t.toFlightTypeValue=E,t.getRecentSearchCookieObj=function(e){return{From:e.origin.iataCode,To:e.destination.iataCode,DepDate:(0,a.default)(e.departureDate).format(k),RetDate:(0,a.default)(e.returnDate).format(k),DepClass:x(e.flightClass),Adults:e.seats.adults,OFWs:e.seats.OFW,Child:e.seats.children,Infants:e.seats.infants,Teenager:e.seats.teenagers,By:"0",Type:e.isReturn?E("RT"):E("OW")}},t.checkLocalOriginCountrySite=function(){var e=(0,o.default)(window,"__EK__.env.LOCAL_ORIGINS_COUNTRY_LIST"),t=(0,o.default)(window,"__EK__.env.ENABLE_BOOKING_WIDGET_LOCAL_ORIGIN");if(t&&"true"===String(t).toLocaleLowerCase()){var n=e?e.toUpperCase().split(","):"";return(0,l.default)(n,u)}return!1},t.filterLocalOriginStations=function(e){var t=e;return t.stations=e.stations.filter(function(e){return e.countryCode===u}),t},t.filterLocalOrigins=function(e){return e.filter(function(e){return e.country.code===u})};var a=r(n(10)),i=r(n(301)),o=r(n(2)),l=r(n(44));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,n(7).getConfig)("country"),u=s?s.toUpperCase():"",c={adults:0,teenagers:0,children:0,infants:0},d={economy:0,premiumeconomy:3,business:1,first:2},h=(t.boxeverFlightClasses={Y:"economy",W:"premiumeconomy",J:"business",F:"first"},{economy:"Y",premiumeconomy:"W",business:"J",first:"F"}),p={OW:0,RT:1};function f(e){return e&&(e.iataCode||e.stationCode)?{term:"origin",valid:!0}:{term:"origin",valid:!1}}function m(e){return e&&(e.iataCode||e.stationCode)?{term:"destination",valid:!0}:{term:"destination",valid:!1}}function g(e){var t=e.adults,n=void 0===t?0:t,a=e.teenagers,i=void 0===a?0:a,o=e.OFW;return n>0||i>0||(void 0===o?0:o)>0?{term:"min_adult_or_teenager",valid:!0}:{term:"min_adult_or_teenager",valid:!1}}function v(e){var t=e.adults,n=void 0===t?0:t,a=e.infants,i=void 0===a?0:a,o=e.OFW;return 0===i||i>0&&n+(void 0===o?0:o)>=i?{term:"adult_accompany_infant",valid:!0}:{term:"adult_accompany_infant",valid:!1}}function _(e){var t=e.adults,n=void 0===t?0:t,a=e.children,i=void 0===a?0:a,o=e.OFW;return 0===i||i>0&&n+(void 0===o?0:o)>0?{term:"adult_accompany_child",valid:!0}:{term:"adult_accompany_child",valid:!1}}function y(e,t){var n=t.adults,a=void 0===n?0:n,i=t.teenagers,o=void 0===i?0:i,l=t.children,r=void 0===l?0:l,s=t.OFW;return a+o+r+(void 0===s?0:s)>b(e)?{term:"exceeds_standard_search",valid:!1}:{term:"exceeds_standard_search",valid:!0}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"economy",t=__EK__.resources["BookManage/search-flight/class-"+e+"-max__text"];return t?+t:"economy"===e?+(0,o.default)(window,"__EK__.env.MAX_PASSENGER_COUNT_ECONOMY",9):"premiumeconomy"===e?+(0,o.default)(window,"__EK__.env.MAX_PASSENGER_COUNT_PREMIUM_ECONOMY",9):"business"===e?+(0,o.default)(window,"__EK__.env.MAX_PASSENGER_COUNT_BUSINESS",7):"first"===e?+(0,o.default)(window,"__EK__.env.MAX_PASSENGER_COUNT_FIRST",4):void 0}function w(e,t,n){return{term:"allowed_departure_and_return",valid:!(!e||!!(n&&!t))}}function C(e,t){if(e&&!t)return{term:"allowed_departure_and_return",valid:!0};var n=__EK__.resources["BookManage/search-flight/max-future-departure__text"]?$(new Date,+__EK__.resources["BookManage/search-flight/max-future-departure__text"]):$(new Date,329),a=__EK__.resources["BookManage/search-flight/max-future-return__text"]?$(new Date,+__EK__.resources["BookManage/search-flight/max-future-return__text"]):$(new Date,329);return{term:"allowed_departure_and_return",valid:t>=e&&n>e&&a>t}}var k=t.EXISTING_RECENT_SEARCH_DATE_FORMAT="DDMMYY";function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"economy";return d[e]}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OW";return p[e]}function $(e,t){return e.setDate(e.getDate()+t),e}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(627);var i=p(n(3)),o=p(n(10)),l=p(n(2)),r=p(n(32)),s=p(n(14)),u=n(11),c=n(628),d=n(7),h=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var f=(0,d.getConfig)("MEDIA_URL"),m=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={outage:!1},i.flightData={origin:"",destination:"",departureDate:"",returnDate:"",isEKRoute:null},i.isCookieAvailable=null,i.productShowcaseResult=null,i.isProductShowcase=(0,l.default)(__EK__,"isProductShowcase",null),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleDateChange=function(){!(0,s.default)(this.isProductShowcase)&&this.isProductShowcase&&this.handleProductShowcaseView()},t.prototype.handleSelectionChange=function(e,t){var n=t.type,a=t.value;n&&("origin"!==n&&"destination"!==n||("origin"===n&&(a&&null!=a||(0,i.default)("[name='seldcity1']").attr("value","")),"destination"===n&&(a&&null!=a||(!this.isCookieAvailable&&(0,i.default)("[name='selacity1']").attr("value",""),this.isCookieAvailable=null)))),!(0,s.default)(this.isProductShowcase)&&this.isProductShowcase&&this.handleProductShowcaseView()},t.prototype.handlePassengerChange=function(){!(0,s.default)(this.isProductShowcase)&&this.isProductShowcase&&this.flightData.isEKRoute&&this.productShowcaseResult&&this.checkAndUpdateUI(this.productShowcaseResult)},t.prototype.handleCookieUpdate=function(e,t){var n=t.origin,a=t.destination,l=t.departureDate,r=t.returnDate;if(n&&a&&l){var u=(0,o.default)(l,"YYYY-MM-DD").format("DDMMYYYY"),c=r&&(0,o.default)(r,"YYYY-MM-DD").format("DDMMYYYY");(0,i.default)("[name='seldcity1']").attr("value",n),(0,i.default)("[name='selacity1']").attr("value",a),this.isCookieAvailable=!0,!(0,s.default)(this.isProductShowcase)&&this.isProductShowcase&&this.handleProductShowcaseView(n,a,u,c)}},t.prototype.handleProductShowcaseView=function(e,t,n,a){var r=this,s=(0,i.default)("[name='seldcity1']").val()||e,d=(0,i.default)("[name='selacity1']").val()||t;s&&d&&s!=d?Promise.all([(0,u.isEk)(s),(0,u.isEk)(d)]).then(function(e){var t=e[0],u=e[1],h=t&&u,p=(0,i.default)("[name='departDate']").val()||n,f=(0,i.default)("[name='retShortDate']").val()||a;s&&d&&h&&p?((0,i.default)(".products-showcase-loading").css("display","block"),(0,i.default)(".products-showcase").css("display","none"),p=(0,o.default)(p,"DDMMYYYY").format("YYYY-MM-DD"),f=f&&(0,o.default)(f,"DDMMYYYY").format("YYYY-MM-DD"),s===r.flightData.origin&&d===r.flightData.destination&&p===r.flightData.departureDate&&f===r.flightData.returnDate?(r.flightData.isEKRoute=h,r.checkAndUpdateUI(r.productShowcaseResult)):(r.showProductLoading(),r.productShowcaseResult=null,(0,c.getProductShowcase)(s,d,p,f).then(function(e){r.flightData={origin:s,destination:d,departureDate:p,returnDate:f},r.flightData={origin:s,destination:d,departureDate:p,returnDate:f,isEKRoute:h},r.productShowcaseResult=(0,l.default)(e,"results",null),r.checkAndUpdateUI(r.productShowcaseResult)}))):(r.flightData.isEKRoute=!1,(0,i.default)(".products-showcase-loading").css("display","none"),(0,i.default)(".products-showcase").css("display","none"))}):((0,i.default)(".products-showcase-loading").css("display","none"),(0,i.default)(".products-showcase").css("display","none"))},t.prototype.checkAndUpdateUI=function(e){var t=this,n=(0,i.default)("[name='seldcity1']").val(),o=(0,i.default)("[name='selacity1']").val(),s=(0,l.default)(e,"flight-amenities.results",[]),u=(0,l.default)(e,"fleet-data.results",{}),d=(0,l.default)(e,"chauffeur-drive.results",{}),h=(0,l.default)(e,"flights.results",[]),p=(0,i.default)("[name='selchildren']").val()>0?"child":"adult",m=!!Object.keys(d).length&&(Object.keys(d).indexOf(n)>=0&&Object.keys(d).indexOf(o)>=0);if(!(0,r.default)(s)&&n&&o&&n!=o){var g=(0,i.default)(".products-showcase-loading"),v=(0,i.default)(".products-showcase"),_=(0,i.default)(".products-showcase h2"),y=(0,i.default)(".products-showcase p"),b=(0,i.default)("#product_images"),w=__EK__.resources;this.showProductLoading();var C=(0,i.default)("[name='selcabinclass']").val(),k="",x="",E="";switch(C){case"0":k="economyclass";break;case"1":k="businessclass";break;case"2":k="firstclass"}var $='\n      <li class="grid__item medium--one-quarter">\n      <div class="products-showcase__product-image" style="background-image:{{ productImage }};">\n        <div class="products-showcase__overlay">\n          <div class="products-showcase__product-icon">\n            <i class="icon icon-{{ iconTitle }}" aria-hidden="true"></i>\n          </div>\n          <div class="products-showcase__product-header" title="{{ productHeader }}">\n            {{ productHeader }}\n            <span class="visually-hidden">\n              '+w["Common/Accessibility/background-image__text"]+'\n            </span>\n          </div>\n          <div class="products-showcase__product-subheader" title="{{ productSubHeader }}">\n            {{ productSubHeader }}\n          </div>\n        </div>\n      </div>\n    </li>    \n        ',S="",T=!1,D=!1,O="",j=new Set;h.forEach(function(e){(0,l.default)(e,"legs",[]).forEach(function(e){j.add((0,l.default)(e,"UID",""))})}),j.forEach(function(e){u["Airbus 380"]&&u["Airbus 380"].indexOf(e)>=0&&(T=!0),u["Boeing 777"]&&u["Boeing 777"].indexOf(e)>=0&&(D=!0)});var M=[],L=[];switch(T&&!D?(O="a380-",M=(0,c.filterFleetAmenities)(s,"airbus-380",k,p,m)):!T&&D?(O="b777-",M=(0,c.filterFleetAmenities)(s,"boeing-777",k,p,m)):T&&D?(O="a380-b777-",M=(0,c.filterFleetAmenities)(s,["airbus-380","boeing-777"],k,p,m)):(!T&&!D||(0,r.default)(u)||(0,r.default)(h))&&(M=(0,c.filterFleetAmenities)(s,O,k,p,m)),C){case"0":x="BookManage/search-flight/product-showcase-economy-"+O+"heading__text",E="BookManage/search-flight/product-showcase-economy-"+O+"sub-heading__text";break;case"1":x="BookManage/search-flight/product-showcase-business-"+O+"heading__text",E="BookManage/search-flight/product-showcase-business-"+O+"sub-heading__text";break;case"2":x="BookManage/search-flight/product-showcase-first-"+O+"heading__text",E="BookManage/search-flight/product-showcase-first-"+O+"sub-heading__text"}_.text(w[x]),y.text(w[E]),M.length>0?(M.forEach(function(e){var t=function(e){if("object"!==(void 0===e?"undefined":a(e))||e.error)return log.error("Multimedia object is not valid. "+e),"";var t=e.url,n=e.contentHash,i=void 0===n?"":n,o=""!==i?/\?/.test(t)?"&h="+i:"?h="+i:"";return/^(https?:\/\/)/.test(t)?""+t+o:""+f+t+o}(e.imageUrl),n=$.replace("{{ iconTitle }}",e.icon).replace(/{{ productHeader }}/g,e.headerText).replace(/{{ productSubHeader }}/g,e.subHeader).replace("{{ productImage }}","url("+t+")");S+=n,L.push({image:t,loaded:!1})}),b.html(S),b.find(".products-showcase__product-image").each(function(){var e=(0,i.default)(this),t=e.find(".products-showcase__product-icon"),n=e.find(".products-showcase__product-subheader"),a=t.css("padding-top");e.hover(function(){var a=e[0].getBoundingClientRect().bottom,i=n[0].getBoundingClientRect().bottom;if(a-i<2){var o=parseInt(t.css("padding-top"))+(a-i);t.css("padding-top",(o>0?o:5)+"px")}},function(){return t.css("padding-top",a)})}),L.forEach(function(e){var n=new Image;n.onload=function(){e.loaded=!0,t.showProductDiv(L)},n.src=e.image})):(g.css("display","none"),v.css("display","none"))}else(0,i.default)(".products-showcase-loading").css("display","none"),(0,i.default)(".products-showcase").css("display","none")},t.prototype.showProductDiv=function(e){0===e.filter(function(e){return!1===e.loaded}).length&&((0,i.default)(".products-showcase-loading").css("display","none"),(0,i.default)(".products-showcase").css("display","block"))},t.prototype.showProductLoading=function(){(0,i.default)(".products-showcase-loading").css("display","block"),(0,i.default)(".products-showcase").css("display","none")},t}(h.default);m.selector=".products-showcase",m.events={"search.selection.flight":"handleSelectionChange","passengers.display":"handlePassengerChange","product.showcase.update":"handleDateChange","dropdown.selection":"handleSelectionChange","recent.search.product.update":"handleCookieUpdate"},t.default=m},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterFleetAmenities=function(e,t,n,l,r){var s=(0,i.default)(function(e,t){if(!t){var n=(0,a.default)(e,function(e){return e.isChauffeurDrive.indexOf("Yes")>=0}),i=(0,o.default)(n,function(e){return e.order});return(0,a.default)(e,function(e){return i.indexOf(e.order)<0})}return e}(function(e,t){var n=(0,a.default)(e,function(e){return e.passengerType.indexOf(t)>=0});if("adult"===t)return n;if("child"===t){var i=(0,o.default)(n,function(e){return e.order});return n.concat((0,a.default)(e,function(e){return i.indexOf(e.order)<0}))}return e}(function(e,t){return(0,a.default)(e,function(e){return e.travelClass.indexOf(t)>=0})}(function(e,t){if(t&&!Array.isArray(t))return(0,a.default)(e,function(e){return 1==e.aircraft.length&&e.aircraft.indexOf(t)>=0});if(Array.isArray(t)&&2==t.length)return(0,a.default)(e,function(e){return e.aircraft.indexOf(t[0])>=0&&e.aircraft.indexOf(t[1])>=0});return(0,a.default)(e,function(e){return 0==e.aircraft.length})}(e,t),n),l),r),"order","asc");return Array.isArray(s)?s.slice(0,4):s},t.getProductShowcase=function(e,t,n,a){var i=a?","+a:"";return fetch(""+r.PRODUCT_SHOWCASE_URL+n+i+"&origin="+e+"&destination="+t+"&lang="+__EK__.contentKey,s).then(u).then(function(e){return e})};var a=l(n(96)),i=l(n(122)),o=l(n(181));function l(e){return e&&e.__esModule?e:{default:e}}var r={PRODUCT_SHOWCASE_URL:"/service/product-showcase?date="},s={credentials:"same-origin"};var u=function(e){return e.ok?e.json():e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(630);var a=n(4),i=s(a),o=n(13),l=n(5),r=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.options={searchFlightRadioClass:"js-activate-search-flight",searchHolidayRadioClass:"js-activate-search-holiday",searchFlightContainerClass:"js-search-flight",searchHolidayContainerClass:"js-search-holiday"},o.$searchFlightRadio=o.$el.find((0,a.toSel)(o.options.searchFlightRadioClass)),o.$searchHolidayRadio=o.$el.find((0,a.toSel)(o.options.searchHolidayRadioClass)),o.$searchFlightContainer=o.$el.find((0,a.toSel)(o.options.searchFlightContainerClass)),o.$searchHolidayContainer=o.$el.find((0,a.toSel)(o.options.searchHolidayContainerClass)),o.setDefaultContainer(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setDefaultContainer=function(){"true"===(0,r.default)(__EK__,"resources.BookManage/search-holiday/default-option-flight__text","true")?this.showFlightContainer():this.showHolidayContainer()},t.prototype.showFlightContainer=function(){0===this.isInitial&&this.trackTabClick("Flight Toggle"),this.$searchFlightContainer.removeClass("hidden"),this.$searchHolidayContainer.addClass("hidden"),(0,l.setCheckedStatus)(!0,this.$searchFlightRadio),(0,l.setCheckedStatus)(!1,this.$searchHolidayRadio)},t.prototype.showHolidayContainer=function(){this.isInitial=0,this.trackTabClick("Flight + Hotel Toggle"),this.$searchHolidayContainer.removeClass("hidden"),this.$searchFlightContainer.addClass("hidden"),(0,l.setCheckedStatus)(!1,this.$searchFlightRadio),(0,l.setCheckedStatus)(!0,this.$searchHolidayRadio)},t.prototype.trackTabClick=function(e){var t={event:"EventTrigger.Common_pageBodyWidget_TabClick",category:"Page Body Interaction",action:"Tab Clicked",label:e};(0,o.pushEvent)(t)},t}(i.default);u.selector=".js-search-flight-container",u.isInitial=1,u.events={"click .js-activate-search-flight":"showFlightContainer","click .js-activate-search-holiday":"showHolidayContainer"},t.default=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(632);var a=g(n(4)),i=(g(n(3)),g(n(10))),o=g(n(55)),l=g(n(2)),r=g(n(34)),s=g(n(67)),u=g(n(68)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(633)),d=n(5),h=n(11),p=n(13),f=(n(7),g(n(97))),m=n(134);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.options={outage:!1},i.registerResources(),i.store=new f.default({type:f.default.getStorageTypes().COOKIE}),i.refs={adults:"adults",children:"children"},i.state={flightClass:"economy",origin:null,destination:null,departureDate:null,returnDate:null,rooms:[]},i.options.outage=i.$el.hasClass("js-outage"),i.$errorWrapper=i.$el.find(".error-wrapper"),i.$errorSummary=i.$el.find(".js-error-summary"),i.$errorMessages=i.$el.find(".js-error-message"),i.$dateField=i.$el.find("eol-datefield"),i.$calendar=i.$el.find("eol-calendar"),i.$flightDepartInput=i.$el.find(".textfield__input--start"),i.$continueFocus=i.$el.find(".js-continue-focus"),i.$destAirportInput=i.$el.find('[data-data-type="destinations"]').find(".field__input"),i.$errorFieldCollection=i.$el.find(".js-field-input,.textfield__controls"),i.$leavingFrom=i.$el.find('input[name="Leaving from"]'),i.$goingTo=i.$el.find('input[name="Going to"]'),i.$searchHolidayDate=i.$el.find(".textfield__controls"),i.$rooms=i.$el.find('input[name="Rooms"]'),i.$el.find(".class-dropdown").find('[data-dropdown-id="0"]').trigger("click"),i.updateCalendarDates(),i.loadOrigins(),(0,h.getAirports)().then(function(e){var t=e.airportsByIataCode;i.airportsByIataCodeCache=t}),(0,d.queryStringParams)().login&&i.$el.find(".js-login-link").trigger("click"),i.setFormUrl(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.registerResources=function(){this.initialDepartureDateOffset=parseInt((0,l.default)(__EK__,"env.EKH_CALENDAR_INITIAL_DEPARTURE_DATE_OFFSET",0))||0,this.initialReturnDateOffset=parseInt((0,l.default)(__EK__,"env.EKH_CALENDAR_INITIAL_RETURN_DATE_OFFSET",0))||0,this.formUrlUs=(0,l.default)(__EK__.resources,"BookManage/search-holiday/form-endpoint-us__url.url",""),this.formUrlNonUs=(0,l.default)(__EK__.resources,"BookManage/search-holiday/form-endpoint-non-us__url.url","")},t.prototype.setFormUrl=function(){var e=this,t=this.getLocale(),n="us"===t.split("_")[0]?this.formUrlUs:this.formUrlNonUs,a=-1!==n.indexOf("?")?n.split("?")[1]:null;a&&a.split("&").map(function(t){return e.$el.find("form").append('<input type="hidden" name="'+(0,l.default)(t.split("="),"0")+'" value="'+(0,l.default)(t.split("="),"1")+'"/>')});var i=n.split("?")[0],o=i.indexOf("{{locale}}")>=0?i.replace("{{locale}}",t):i+"/"+t;this.$el.find("form")[0].action=""+o},t.prototype.handleDestData=function(e,t){this.loadDestinations(t)},t.prototype.loadOrigins=function(){var e=this;Promise.all([(0,h.getOriginsHoliday)(),(0,h.getClosestOrigin)(m.SH_MODULE_KEY).catch(function(){return[]})]).then(function(e){var t=e[0],n=e[1],a=t[0];n.iataCode&&(!!(0,r.default)(a,function(e){return e.iataCode===n.iataCode})||(n=[]));var i=!!n.iataCode||1===a.length;return{items:a,closest:n,preselectFirstOption:i}}).then(function(t){return e.publish("origin-holiday.refresh",t)})},t.prototype.loadDestinations=function(e){var t=this;Promise.all([(0,h.getDestinationsHoliday)(e)]).then(function(e){return{items:e[0][0]}}).then(function(e){return t.publish("dest-holiday.refresh",e)})},t.prototype.action=function(){this.setFormValues(),this.handleSubmission()},t.prototype.updateCalendarDates=function(){this.state.departureDate=new Date((0,i.default)().add(this.initialDepartureDateOffset,"days")),this.$dateField[0].initialStartDate=this.state.departureDate,this.$dateField[0].$inputStart.closest(".textfield__date").toggleClass("textfield__date--active",!0),this.state.returnDate=new Date((0,i.default)().add(this.initialReturnDateOffset,"days")),this.$dateField[0].initialEndDate=this.state.returnDate,this.$dateField[0].$inputEnd.closest(".textfield__date").toggleClass("textfield__date--active",!0)},t.prototype.updateDestinations=function(e,t){var n=this;return(0,h.getDestinations)(e,!1).then(function(a){n.publish("destinations.loaded",{destinations:a,focusDestinations:t,iataCode:e,section:"holiday"})})},t.prototype.searchSelection=function(e,t){var n=this,a=t.type,i=t.value,l=(t.display,t.section),r=this.$el.find(".js-origin"),s=this.$el.find(".js-destination");a&&("origin"!==a&&"destination"!==a||(i&&i.iataCode?(this.state[a]=i,"origin"===a&&(this.$leavingFrom&&this.$leavingFrom[0]&&this.$leavingFrom[0].classList.contains("error-highlighter")&&this.$leavingFrom[0].classList.remove("error-highlighter"),r.hide()),"destination"===a&&(this.$goingTo&&this.$goingTo[0]&&this.$goingTo[0].classList.contains("error-highlighter")&&this.$goingTo[0].classList.remove("error-highlighter"),this.continueSearch(),this.$flightDepartInput.focus(),s.hide())):i&&""!==i||(this.state[a]=null)),"from"===a&&(this.state.departureDate=i),"to"===a&&(this.state.returnDate=i),this.removeOuterErrorBox()),"class-holiday"===l&&(this.state.flightClass=c.toFlightClassText(i)),(0,o.default)(function(){return n.action()},250)()},t.prototype.removeOuterErrorBox=function(){var e=this.$el.find(".js-origin");this.$el.find(".js-destination").is(":visible")||e.is(":visible")||this.$errorWrapper&&this.$errorWrapper[0]&&this.$errorWrapper[0].classList.contains("visible")&&this.$errorWrapper[0].classList.remove("visible")},t.prototype.handleStartDateSelection=function(e){this.state.departureDate=e.detail,this.state.returnDate=this.$calendar[0].arrivalDate,this.setFormValues()},t.prototype.handleEndDateSelection=function(e){this.state.returnDate=e.detail,this.setFormValues()},t.prototype.handleRoomsUpdated=function(e,t){this.state.rooms=t.rooms.map(function(e){return e.details}),this.action()},t.prototype.continueSearch=function(){this.$el.addClass("search-holiday--continue"),this.$continueFocus.focus()},t.prototype.setFormValues=function(){var e=this.$el.find('[name="depAir"]'),t=this.$el.find('[name="dest"]'),n=this.$el.find('[name="startDate"]'),a=this.$el.find('[name="endDate"]'),o=this.$el.find('[name="cabin"]'),r=this.$el.find('[name="occ"]');this.state.origin&&("true"===(0,l.default)(__EK__,"env.EKH_ENABLE_GROUP_CODE",!1)&&this.state.origin.groupcode?e.val(this.state.origin.groupcode):e.val(this.state.origin.iataCode)),this.state.destination&&t.val(this.state.destination.iataCode);var s=this.state.rooms.map(function(e){return""+("A"+e.adults)+(e.children?"C"+e.childrenAges.join("C"):"")});r.val(s.join(""));var u=c.toFlightClassValue(this.state.flightClass);o.val(u);var d=this.state.departureDate?(0,i.default)(this.state.departureDate).format("YYYY-MM-DD"):"";n.val(d);var h=this.state.returnDate?(0,i.default)(this.state.returnDate).format("YYYY-MM-DD"):"";a.val(h)},t.prototype.getHolidayLanguageCode=function(e){return(0,u.default)((0,s.default)((0,l.default)(__EK__,"config.content.language.taxonomyKey",e).toLowerCase(),"-",1))},t.prototype.getLocale=function(){var e=(0,l.default)(__EK__,"config.content.country.taxonomyKey","gb").toLowerCase();if("global"===e)return"gb_en";return e+"_"+("us"===e?"en":this.getHolidayLanguageCode("en"))},t.prototype.formatDate=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),i+"-"+a+"-"+n},t.prototype.handleSubmission=function(e){e&&e.preventDefault();var t=c.validate(this.state);if(e&&(this.state.submitted=!0,this.trackCTAClick("CTA Clicked","Widget:Search flights:Search holidays")),t.valid){if(this.$errorWrapper.removeClass("visible"),e){var n=this.state.destination.country?", "+this.state.destination.country:"";this.trackCTAClick("External CTA Clicked","EKH:"+this.state.origin.iataCode+"_"+this.state.destination.title+n+":"+c.toFlightClassValueGA(this.state.flightClass)+":"+this.formatDate(this.state.departureDate)+"_"+this.formatDate(this.state.returnDate)),this.$el.find("form")[0].submit()}}else if(this.state.submitted){this.$errorWrapper.removeClass("visible"),this.$errorWrapper.removeAttr("role","alert");var a=this.$el.find(".js-origin"),i=this.$el.find(".js-destination"),o=this.$el.find(".js-departure"),l=this.$el.find(".js-return"),r=this.$el.find(".js-children-age"),s=t.results.filter(function(e){return"origin"===e.term})[0],u=t.results.filter(function(e){return"destination"===e.term})[0],d=t.results.filter(function(e){return"children_age"===e.term})[0];s.valid?a.hide():(a.show(),(0,p.pushClientErrorEvent)("Flight Search","Origin Error"),this.$leavingFrom&&this.$leavingFrom[0]&&this.$leavingFrom[0].classList.add("error-highlighter")),u.valid?i.hide():(i.show(),(0,p.pushClientErrorEvent)("Flight Search","Destination Error"),this.$goingTo&&this.$goingTo[0]&&this.$goingTo[0].classList.add("error-highlighter")),this.state.departureDate?o.hide():(o.show(),(0,p.pushClientErrorEvent)("Flight Search","Departure Date Error"),this.$searchHolidayDate&&this.$searchHolidayDate[0]&&this.$searchHolidayDate[0].classList.add("error-highlighter")),this.state.returnDate?l.hide():(l.show(),(0,p.pushClientErrorEvent)("Flight Search","Return Date Error"),this.$searchHolidayDate&&this.$searchHolidayDate[0]&&!this.$searchHolidayDate[0].classList.contains("error-highlighter")&&this.$searchHolidayDate[0].classList.add("error-highlighter")),d.valid?r.hide():(r.show(),(0,p.pushClientErrorEvent)("Flight Search","Children Age Error"),this.$rooms&&this.$rooms[0]&&this.$rooms[0].classList.add("error-highlighter")),this.$errorWrapper.addClass("visible"),this.$errorWrapper.attr("role","alert"),this.$errorSummary.focus(),this.state.submitted=!1}},t.prototype.trackCTAClick=function(e,t){var n={event:"EventTrigger.Common_pageBodyWidget_CTAClick",category:"Page Body Interaction",action:e,label:t};(0,p.pushEvent)(n)},t.prototype.handleRoomFocus=function(){this.$el.find(".js-room-input .dropdown__input-container .js-field-input").attr("aria-expanded","true")},t}(a.default);v.selector=".search-holiday",v.events={"click .js-continue-search-holiday":"continueSearch","click .js-widget-submit":"handleSubmission","search.selection.holiday":"searchSelection","startselect eol-calendar":"handleStartDateSelection","endselect eol-calendar":"handleEndDateSelection","dropdown.selection":"searchSelection","focus .js-room-input .js-field-input":"handleRoomFocus","rooms.updated":"handleRoomsUpdated","dest-holiday.load":"handleDestData"},t.default=v},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e){var t=e.flightClass,n=void 0===t?null:t,a=e.rooms,i=void 0===a?null:a,o=e.origin,l=void 0===o?null:o,r=e.destination,s=void 0===r?null:r,u=e.departureDate,c=void 0===u?null:u,d=e.returnDate,b=void 0===d?null:d,w=[h(n),p(l),f(s),g(i),v(i),_(c,b),y(c,b),m(i)];return{valid:w.every(function(e){return!0===e.valid}),results:w}},t.hasValidFlightClass=h,t.hasOrigin=p,t.hasDestination=f,t.childHasSpecifiedAge=m,t.childHasAccompanyingAdult=g,t.hasPersons=v,t.hasDates=_,t.exceedsAllowedDates=y,t.toFlightClassPostValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"economy";return c[e]},t.toFlightClassText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,a.default)(s,function(t){return t===e})},t.toFlightClassValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"economy";return u[e]},t.toFlightClassValueGA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"economy";return d[e]};var a=o(n(301)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var l=329,r=730,s={economy:0,business:1,first:2},u={economy:"e",business:"b",first:"f"},c={economy:1,business:8,first:4},d={economy:"Y",business:"J",first:"F"};function h(e){return void 0!==s[e]?{term:"flight_class",valid:!0}:{term:"flight_class",valid:!1}}function p(e){return e&&e.iataCode?{term:"origin",valid:!0}:{term:"origin",valid:!1}}function f(e){return e&&e.iataCode?{term:"destination",valid:!0}:{term:"destination",valid:!1}}function m(){var e=!0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{adults:0,children:0,childrenAges:[]}]).forEach(function(t){t.childrenAges.forEach(function(t){null===t&&(e=!1)})}),{term:"children_age",valid:e}}function g(){var e=!0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{adults:0,children:0}]).forEach(function(t){t.children>0&&t.adults<1&&(e=!1)}),{term:"adult_accompany_child",valid:e}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{adults:0,children:0}];return e.length&&e[0].adults>0?{term:"has_persons",valid:!0}:{term:"has_persons",valid:!1}}function _(e,t){return{term:"has_departure_and_return",valid:!(!e||!t)}}function y(e,t){var n="allowed_departure_and_return";if(e&&!t)return{term:n,valid:!0};var a=parseInt((0,i.default)(__EK__,"env.EKH_CALENDAR_MAX_FUTURE_DEPARTURE",l)),o=b(new Date,a),s=parseInt((0,i.default)(__EK__,"env.EKH_CALENDAR_MAX_FUTURE_RETURN",r)),u=b(new Date,s);return{term:n,valid:t>=e&&o>e&&u>t}}function b(e,t){return e.setDate(e.getDate()+t),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(635);var a=n(4),i=n(5),o=d(n(289)),l=d(n(10)),r=d(n(2)),s=d(n(96)),u=n(11),c=d(n(636));function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)(window,"__EK__.env.OXYGEN_FLIGHT_SEARCH_ENABLED"),p=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.options={flightTypeArrival:"js-select-flight-arrival",flightTypeDeparture:"js-select-flight-departure",outage:!1},o.$el=o.$el||i,o.state={flightType:2},__EK__.resources["BookManage/Flight-Status/Widget/default-option-flightnumber__text"]&&"true"===__EK__.resources["BookManage/Flight-Status/Widget/default-option-flightnumber__text"]?o.state.type="flightNumber":o.state.type="route",o.$flightTypeArrivalRadio=o.$el.find((0,a.toSel)(o.options.flightTypeArrival)),o.$flightTypeDepartureRadio=o.$el.find((0,a.toSel)(o.options.flightTypeDeparture)),o.options.outage=o.$el.hasClass("js-outage"),o.isNewWidgetRedirectionEnabled=(0,r.default)(__EK__,"env.FLT_STATUS_NEW_WIDGET_STATUS")||!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTemplate=function(e){return(0,c.default)(e)},t.prototype.formatMyTripsData=function(e){if((0,r.default)(window,"__EK__.env.OCSL_MYTRIPS_ENABLED"))return{myTrips:{trips:e,isOcsl:!0},resources:(0,r.default)(window,"__EK__.resources")};var t=(0,l.default)().startOf("day").subtract(1,"day").startOf("day"),n=(0,l.default)().startOf("day").add(1,"day").endOf("day");return{myTrips:{trips:e&&e.data&&e.data.trips?(0,s.default)(e.data.trips,function(e){return(0,l.default)((0,r.default)(e,"airSegments[0].departureDateTime")).isBetween(t,n,null,"[]")}):null,isOcsl:!1},resources:(0,r.default)(window,"__EK__.resources")}},t.prototype.bulkRender=function(e){this.$el.find(".my-trips__flight-status").html(this.getTemplate(this.formatMyTripsData(e)))},t.prototype.originSelectedHandler=function(e,t){var n=this,a=t.iataCode,i=t.focusDestinations;return h?(0,u.getStationPairs)({stationCode:a,isReward:!1,requestedPoint:"DESTINATION"}).then(function(e){n.publish("destinations.loaded",{destinations:e.stations,searchTemplate:e.templates,focusDestinations:i,iataCode:a,section:"status"})}):(0,u.getDestinations)(a,!1).then(function(e){n.publish("destinations.loaded",{destinations:e,focusDestinations:i,iataCode:a,section:"status"})})},t.prototype.setFlightTypeArrival=function(){(0,i.setCheckedStatus)(!1,this.$flightTypeDepartureRadio),(0,i.setCheckedStatus)(!0,this.$flightTypeArrivalRadio),this.state.flightType=1},t.prototype.setFlightTypeDeparture=function(){(0,i.setCheckedStatus)(!1,this.$flightTypeArrivalRadio),(0,i.setCheckedStatus)(!0,this.$flightTypeDepartureRadio),this.state.flightType=2},t.prototype.toggleFlightTypeControls=function(){return"route"===this.state.type?this.$el.find(".js-flight-status-type").removeClass("flight-status__flight-type--hidden"):this.$el.find(".js-flight-status-type").addClass("flight-status__flight-type--hidden")},t.prototype.flightNumberValues=function(){var e=this.formatDate(),t=this.$flightStatusNumber.val().replace(/[^0-9]/,"");if(this.isNewWidgetRedirectionEnabled){var n={flight:t};return e&&(n.date=e),n}return e?{DateSelected:e,FlightNumber:t}:{FlightNumber:t}},t.prototype.routeValues=function(){var e=this.formatDate(),t=this.state.origin,n=this.state.destination,a=this.state.flightType;if(this.isNewWidgetRedirectionEnabled){var i={date:e,origin:t,destination:n};return a&&1===a&&(i.arrival="true"),i}return{DateSelected:e,Departure:t,Arrival:n,FlightStatusOption:a}},t.prototype.formatDate=function(){var e=this.isNewWidgetRedirectionEnabled?"YYYY-MM-DD":"YYMMDD";if(this.state.date)return(0,l.default)(this.state.date).format(e)},t}(o.default);p.selector=".js-flight-status",p.events={"click .js-activate-flight-number":"showFlightNumber","click .js-activate-flight-route":"showFlightRoute","click .js-select-flight-arrival":"setFlightTypeArrival","click .js-select-flight-departure":"setFlightTypeDeparture","keyup .js-flight-number-status":"handleKeyUp","click .js-login-link":"triggerLogin","dropdown.selection":"handleSelection","search.selection.status":"handleSelection","origin.selected.status":"originSelectedHandler","click .js-widget-submit":"submit","input.cleared":"handleSelection"},t.default=p},function(e,t,n){},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l){var r;return' <div class="womf__outage-message"><span class="icon icon-information"></span><span class="womf__outage-message--text">'+e.escapeExpression(i(n(0)).call(null!=t?t:e.nullContext||{},"Experience/Womf/Womf-results/mytrips-outage__text",{name:"resource",hash:{},data:l}))+"</span> "+(null!=(r=e.invokePartial(n(190),t,{name:"content-split",data:l,helpers:a,partials:o,decorators:e.decorators}))?r:"")+" </div> "},3:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <section class="womf__section womf__section__trips "><h2 class="womf__section__header womf__section__header--tight grid__item ta--left no-flights">'+(null!=(u=i(n(0)).call(c,"BookManage/Flight-Status/Widget/upcoming-flights__text",{name:"resource",hash:{},data:l}))?u:"")+"</h2> "+(null!=(u=a.if.call(c,null!=(u=null!=t?t.myTrips:t)?u.isOcsl:u,{name:"if",hash:{},fn:e.program(4,l,0,r,s),inverse:e.program(16,l,0,r,s),data:l}))?u:"")+" </section> "},4:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.myTrips:t)?r.trips:r,{name:"if",hash:{},fn:e.program(5,i,0,o,l),inverse:e.program(14,i,0,o,l),data:i}))?r:"")+" "},5:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(6)).call(c,"trips",i(n(637)).call(c,null!=(u=null!=t?t.myTrips:t)?u.trips:u,2,{name:"flight-status-ocsl-trips",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+(null!=(u=a.if.call(c,null!=(u=null!=t?t.trips:t)?u.length:u,{name:"if",hash:{},fn:e.program(6,l,0,r,s),inverse:e.program(14,l,0,r,s),data:l}))?u:"")+" "},6:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <div class="womf__section__rows"> '+(null!=(u=a.each.call(c,null!=t?t.trips:t,{name:"each",hash:{},fn:e.program(7,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div> "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=t?t.myTrips:t)?u.trips:u)?u.length:u,">",2,{name:"op",hash:{},fn:e.program(12,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},7:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.with.call(null!=t?t:e.nullContext||{},null!=(r=null!=(r=null!=(r=null!=t?t.originDestinations:t)?r[0]:r)?r.airSegments:r)?r[0]:r,{name:"with",hash:{},fn:e.program(8,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},8:function(e,t,a,o,l,r,s){var u,c=e.lambda,d=e.escapeExpression,h=null!=t?t:e.nullContext||{};return' <div class="womf__section__row"><div class="grid grid--middle womf__item"><div class="grid__item medium--one-quarter womf__divider-container"><div class="womf__divider"><span class="js-city-name-field" data-iata-code="'+d(c(null!=t?t.departure:t,t))+'"></span><span class="js-city-name-code">('+d(c(null!=t?t.departure:t,t))+')</span><span class="flight-status__city-separator"></span><span class="js-city-name-field" data-iata-code="'+d(c(null!=t?t.arrival:t,t))+'"></span><span class="js-city-name-code">('+d(c(null!=t?t.arrival:t,t))+')</span><p class="flight__status--text">'+d(i(n(303)).call(h,s[1],null!=t?t.flightStatus:t,{name:"flight-status",hash:{},data:l}))+'</p></div></div><div class="grid__item one-half medium--one-quarter womf__item--left"><h3 class="flight-status__cell-heading">'+(null!=(u=i(n(0)).call(h,"BookManage/Flight-Status/Widget/departing-heading__text",{name:"resource",hash:{},data:l}))?u:"")+'</h3><span class="flight-status__emphasize"> '+d(i(n(20)).call(h,null!=t?t.departureDateTime:t,{name:"formatResourceDate",hash:{key:"shortDateShortDay"},data:l}))+' </span></div><div class="grid__item one-half medium--one-quarter womf__item--right"><h3 class="flight-status__cell-heading">'+(null!=(u=i(n(0)).call(h,"BookManage/Flight-Status/Widget/flight-number-heading__text",{name:"resource",hash:{},data:l}))?u:"")+'</h3><span class="flight-status__emphasize">'+d(c(null!=t?t.carrierCode:t,t))+d(i(n(292)).call(h,null!=t?t.flightNumber:t,{name:"format-flight-number",hash:{},data:l}))+'</span></div><div class="grid__item medium--one-quarter womf__cta"><a '+(null!=(u=a.with.call(h,i(n(0)).call(h,"BookManage/Flight-Status/Widget/status-cta__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(9,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' class="cta cta--large cta--primary flight-status__link" href="'+d(i(n(71)).call(h,"status",i(n(0)).call(h,"BookManage/Flight-Status/Widget/status-cta__url",{name:"resource",hash:{},data:l}),null!=t?t.flightNumber:t,null!=t?t.departureDateTime:t,{name:"deep-link",hash:{},data:l}))+'"> '+d(i(n(0)).call(h,"BookManage/Flight-Status/Widget/status-cta__text",{name:"resource",hash:{},data:l}))+" </a></div></div></div> "},9:function(e,t,a,o,l){var r;return' target="'+e.escapeExpression(e.lambda(null!=t?t.target:t,t))+'" '+(null!=(r=i(n(1)).call(null!=t?t:e.nullContext||{},null!=t?t.target:t,"===","_blank",{name:"op",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+" "},10:function(e,t,n,a,i){return'rel="noreferrer"'},12:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{},u=e.escapeExpression;return' <div class="grid grid--middle womf__item womf__item--pure-left"><div class="grid__item medium--one-half"><a '+(null!=(r=a.with.call(s,i(n(0)).call(s,"BookManage/Flight-Status/Widget/view-all-flights__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")+' class="my-trips__inline-link womf__section__inline-link" href="'+u(i(n(71)).call(s,"status-upcoming-flights",i(n(0)).call(s,"BookManage/Flight-Status/Widget/view-all-flights__url",{name:"resource",hash:{},data:l}),"","",{name:"deep-link",hash:{},data:l}))+'"> '+u(i(n(297)).call(s,i(n(0)).call(s,"BookManage/Flight-Status/Widget/view-all-flights__text",{name:"resource",hash:{},data:l}),"allTripsCount",null!=t?t.myTrips:t,{name:"flight-count",hash:{},data:l}))+" </a></div></div> "},14:function(e,t,a,o,l){var r;return' <p class="womf__section__paragraph no-flights">'+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"BookManage/Flight-Status/Widget/no-upcoming-flights__text",{name:"resource",hash:{},data:l}))?r:"")+"</p> "},16:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.myTrips:t)?r.trips:r,{name:"if",hash:{},fn:e.program(17,i,0,o,l),inverse:e.program(14,i,0,o,l),data:i}))?r:"")+" "},17:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return" "+e.escapeExpression(i(n(6)).call(c,"trips",i(n(639)).call(c,null!=(u=null!=t?t.myTrips:t)?u.trips:u,2,{name:"flight-status-trips",hash:{},data:l}),{name:"var",hash:{},data:l}))+" "+(null!=(u=a.if.call(c,null!=(u=null!=t?t.trips:t)?u.length:u,{name:"if",hash:{},fn:e.program(18,l,0,r,s),inverse:e.program(14,l,0,r,s),data:l}))?u:"")+" "},18:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return' <div class="womf__section__rows"> '+(null!=(u=a.each.call(c,null!=t?t.trips:t,{name:"each",hash:{},fn:e.program(19,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </div> "+(null!=(u=i(n(1)).call(c,null!=(u=null!=(u=null!=t?t.myTrips:t)?u.trips:u)?u.length:u,">",2,{name:"op",hash:{},fn:e.program(12,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "},19:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.with.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.airSegments:t)?r[0]:r,{name:"with",hash:{},fn:e.program(20,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},20:function(e,t,a,o,l,r,s){var u,c=e.lambda,d=e.escapeExpression,h=null!=t?t:e.nullContext||{};return' <div class="womf__section__row"><div class="grid grid--middle womf__item"><div class="grid__item medium--one-quarter womf__divider-container"><div class="womf__divider"><span class="js-city-name-field" data-iata-code="'+d(c(null!=t?t.origin:t,t))+'"></span><span class="js-city-name-code">('+d(c(null!=t?t.origin:t,t))+')</span><span class="flight-status__city-separator"></span><span class="js-city-name-field" data-iata-code="'+d(c(null!=t?t.destination:t,t))+'"></span><span class="js-city-name-code">('+d(c(null!=t?t.destination:t,t))+')</span><p class="flight__status--text">'+d(i(n(303)).call(h,s[1],null!=t?t.flightStatus:t,{name:"flight-status",hash:{},data:l}))+'</p></div></div><div class="grid__item one-half medium--one-quarter womf__item--left"><h3 class="flight-status__cell-heading">'+(null!=(u=i(n(0)).call(h,"BookManage/Flight-Status/Widget/departing-heading__text",{name:"resource",hash:{},data:l}))?u:"")+'</h3><span class="flight-status__emphasize"> '+d(i(n(20)).call(h,null!=t?t.departureDateTime:t,{name:"formatResourceDate",hash:{key:"shortDateShortDay"},data:l}))+' </span></div><div class="grid__item one-half medium--one-quarter womf__item--right"><h3 class="flight-status__cell-heading">'+(null!=(u=i(n(0)).call(h,"BookManage/Flight-Status/Widget/flight-number-heading__text",{name:"resource",hash:{},data:l}))?u:"")+'</h3><span class="flight-status__emphasize">'+d(c(null!=t?t.flightNumber:t,t))+'</span></div><div class="grid__item medium--one-quarter womf__cta"><a '+(null!=(u=a.with.call(h,i(n(0)).call(h,"BookManage/Flight-Status/Widget/status-cta__url",{name:"resource",hash:{},data:l}),{name:"with",hash:{},fn:e.program(9,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' class="cta cta--large cta--primary flight-status__link" href="'+d(i(n(71)).call(h,"status",i(n(0)).call(h,"BookManage/Flight-Status/Widget/status-cta__url",{name:"resource",hash:{},data:l}),null!=t?t.flightNumber:t,null!=t?t.departureDateTime:t,{name:"deep-link",hash:{},data:l}))+'"> '+d(i(n(0)).call(h,"BookManage/Flight-Status/Widget/status-cta__text",{name:"resource",hash:{},data:l}))+" </a></div></div></div> "},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{};return null!=(u=i(n(1)).call(c,i(n(1)).call(c,null!=t?t.myTrips:t,"===",void 0,{name:"op",hash:{},data:l}),"||",i(n(1)).call(c,null!=(u=null!=t?t.myTrips:t)?u.outage:u,"===","true",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(1,l,0,r,s),inverse:e.program(3,l,0,r,s),data:l}))?u:""},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){"use strict";var a=n(43),i=n(302),o=n(10);e.exports=function(e,t){var n=e.filter(function(e){return i(o.duration(e.timeToNextTravel).days(),-1,2)});return a(n,"originDestinations.0.airSegments.0.departureDateTime").slice(0,t)}},,function(e,t,n){"use strict";var a=n(43),i=n(302);e.exports=function(e,t){var n=e.filter(function(e){return i(e.tripDetail.daysToTravel,-1,2)});return a(n,"airSegments.0.departureDateTime").slice(0,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(4));n(641),n(642);var i=m(n(3)),o=n(132),l=n(7),r=n(17),s=n(134),u=m(n(2)),c=m(n(86)),d=m(n(12)),h=m(n(643)),p=n(13),f=n(50);function m(e){return e&&e.__esModule?e:{default:e}}var g={GEOLOCATION:"service/geo",GLOBAL_NAV_HEADER:"service/header"},v=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));if(i.registerElements(),i.$window.on("load resize",i.adjustStickyNavOnResize.bind(i)),i.$window.on("orientationchange",i.collapsePopups.bind(i)),i.$secondaryMenu.closest("li").on("mouseleave",i.secondLevelMenuCloseInMouseOut.bind(i)),i.handleDocumentClick=i.handleDocumentClick.bind(i),i.handleSecondLevelMenu=i.handleSecondLevelMenu.bind(i),i.diagonalTimeouts=[],i.registeredElement={},__EK__.skyPlusActive){var o={skywardsProduct:"Skywards Plus",skywardsProductPackageCode:__EK__.skywardsProductPackageCode};(0,p.pushProfileEvent)(o)}if(fetch("/"+g.GEOLOCATION,l.FETCH_OPTIONS).then(r.checkIsOk).then(r.toJSON).then(function(e){if(e.latitude=+e.latitude,e.longitude=+e.longitude,!e.latitude||!e.longitude)throw Error("Invalid location");window[s.FF_MODULE_KEY]=window[s.SF_MODULE_KEY]=window[s.SH_MODULE_KEY]=e}),window.__EK__.env.EK_LAZY_NAV_ENABLED){var c="tier,visitor";if(__EK__.session&&__EK__.session.isAuthenticated){var d=(0,u.default)(__EK__,"session.brsrMember.accounts",[]),h=(0,u.default)(__EK__,"session.brsrMember.customerType","");c=i.buildApplicabilityString(d,h)}fetch("/"+g.GLOBAL_NAV_HEADER+"?c="+__EK__.urlparser.country+"&l="+__EK__.urlparser.language+"&a="+c,l.FETCH_OPTIONS).then(r.checkIsOk).then(r.toJSON).then(function(e){window.__EK__.header=e})}else i.renderReferrerId();return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReferrerId=function(){var e=document.querySelectorAll(".ek-global-navigation__megalinks .megalinks__thirdlevel .megalinks__thirdlevel-inner .thirdlevel__link-list ul li a"),t=(0,u.default)(window,"__EK__.env.EK_BARCLAYS_CONFIG");t&&e&&(0,c.default)(e,function(e){var n=e&&(0,i.default)(e).attr("data-tcm-id"),a=n&&(0,f.getReferrerId)(JSON.parse(t),n.split("-")[1]);a&&a.length>0&&-1===(0,i.default)(e).attr("href").indexOf("referrerid")&&(-1===(0,i.default)(e).attr("href").indexOf("?")?(0,i.default)(e).attr("href",(0,i.default)(e).attr("href")+"?referrerid="+a):(0,i.default)(e).attr("href",(0,i.default)(e).attr("href")+"&referrerid="+a))})},t.prototype.registerElements=function(){this.$htmlBody=(0,i.default)("html,body"),this.$window=(0,i.default)(window),this.$document=(0,i.default)(document),this.$navRoot=(0,i.default)(".js-ek-global-navigation"),this.$secondaryMenuLinks=(0,i.default)(".js-ek-global-navigation-secondarymenu ul li a"),this.$secondaryMenu=this.$navRoot.find(".secondlevel-link"),this.$megalinksChildren=this.$navRoot.find(".megalinks-list-parent").children("li"),this.$megalinksParentList=this.$navRoot.find(".megalinks-list-parent"),this.$accountPopup=this.$navRoot.find(".js-ek-account-popup"),this.$searchPopup=this.$navRoot.find(".search-popup"),this.$countrySelector=(0,i.default)(".country-selector-list-item-link"),this.$countryEl=(0,i.default)(".website-selector-wrapper"),this.$searchSelector=(0,i.default)(".search-selector-list-item-link"),this.$searchEl=(0,i.default)(".search-popup"),this.$loginNavLink=(0,i.default)(".js-account-popup-link")},t.prototype.removeLinkFocus=function(e){e.preventDefault()},t.prototype.megaMenuOpen=function(e){e.preventDefault();var t=e.target,n=(0,i.default)(t).parent("li"),a=n.attr("data-link-name");if(window.__EK__.env.EK_LAZY_NAV_ENABLED&&!this.registeredElement[a]){var l=(0,u.default)(__EK__,"header.results"),r=(0,u.default)(__EK__,"resources"),s=(0,u.default)(__EK__,"session"),c=Number(a.split("-")[2]-1);if(l&&l.length){var p=(0,h.default)((0,d.default)(l[c],{resources:r,session:s,parentIndex:c}));n.append(p),this.$secondaryMenuLazy=n.find(".secondlevel-link"),this.$secondaryMenuLazy.closest("li").on("mouseleave",this.secondLevelMenuCloseInMouseOut.bind(this)),this.registeredElement[a]=!0}}this.$secondaryMenuLinks.removeClass("active"),this.$accountPopup.hide(),this.$searchPopup.hide(),(0,i.default)(t).attr("aria-expanded",function(e,t){return"false"===t?"true":"false"}),this.thirdLevelMouseover(),window.innerWidth>=o.mobileBreakpoint?(n.toggleClass("active-menu").siblings("li").removeClass("active-menu"),n.find(".megalinks__secondlevel--inner > ul:first > li").removeClass("second-level-active-list"),n.find(".megalinks__secondlevel--inner > ul:first > li:first-child").addClass("second-level-active-list"),setTimeout(function(){n.find(".megalinks__secondlevel--inner > ul:first > li:first-child > .megalinks__thirdlevel").show()},50),this.$document.on("touchstart",this.handleDocumentClick)):(n.toggleClass("active-menu").siblings("li").removeClass("active-menu"),n.parent("ul").toggleClass(a+"--clicked"),(0,i.default)(t).closest("li").siblings("li").find(".megalinks__secondlevel").css({height:""}),n.hasClass("active-menu")?n.find(".js-megalinks__secondlevel").css({height:window.innerHeight-50}):n.find(".js-megalinks__secondlevel").css({height:""}),n.find(".active-thirdlevel").siblings("a").trigger("click"),this.$navRoot.find(".ek-global-navigation__megalinks").scrollTop(0),this.$navRoot.find(".ek-global-navigation__megalinks").toggleClass("megalinks--landscape--fix")),this.renderReferrerId()},t.prototype.handleSecondLevelMenu=function(e){e=e||window.event;var t=(0,i.default)(".megalinks-list-parent").is(e.target)||0!=(0,i.default)(".megalinks-list-parent").has(e.target).length;window.innerWidth>=o.mobileBreakpoint&&!t&&(this.$navRoot.find(".megalinks-list-parent").removeClass("mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked"),this.$navRoot.find(".megalinks-list-parent").children("li").removeClass("active-menu"),this.$document.off("mouseover",this.handleSecondLevelMenu))},t.prototype.handleDocumentClick=function(e){e=e||window.event;var t=(0,i.default)(".megalinks__thirdlevel").is(e.target)||0!=(0,i.default)(".megalinks__thirdlevel").has(e.target).length;window.innerWidth>=o.mobileBreakpoint&&!t&&((0,i.default)(".megalinks__thirdlevel").hide(),this.$navRoot.find(".megalinks__secondlevel--inner > ul li").removeClass("second-level-active-list"),this.$document.off("touchstart",this.handleDocumentClick))},t.prototype.secondLevelMenuOpen=function(e){e.preventDefault();var t=e.target,n=(0,i.default)("#submenu-"+t.getAttribute("data-submenu")),a=(0,i.default)(t).find(".secondlevel-mobile-arrow-icon");if(window.innerWidth<o.mobileBreakpoint){if("function"==typeof n.slideToggle&&"function"==typeof n.slideUp)return(0,i.default)(t).parents(".megalinks__secondlevel--inner").find(".secondlevel-mobile-arrow-icon").not(a).removeClass("active"),a.toggleClass("active"),(0,i.default)(t).parent("li").find(".megalinks__thirdlevel").slideToggle(),(0,i.default)(t).parent("li").find(".megalinks__thirdlevel").toggleClass("active-thirdlevel"),void(0,i.default)(t).parent("li").siblings("li").find(".megalinks__thirdlevel").slideUp().removeClass("active-thirdlevel");if((0,i.default)(t).parents(".megalinks__secondlevel--inner").find(".secondlevel-mobile-arrow-icon").not(a).removeClass("active"),a.toggleClass("active"),n.hasClass("active-thirdlevel"))return n.removeClass("active-thirdlevel").attr("style","display: none;");(0,i.default)(t).parent("li").siblings("li").find(".megalinks__thirdlevel").removeClass("active-thirdlevel").attr("style","display: none;"),n.attr("style","display: block;").toggleClass("active-thirdlevel").toggleClass("animate-menu")}},t.prototype.skipToMenuEventHandling=function(e){e.preventDefault();var t=e.target,n=(0,i.default)(t).closest("li").next().find('a[role="tab"]');window.innerWidth>=o.mobileBreakpoint&&n.focus()},t.prototype.secondLevelMenuOpenInKeyDown=function(e){var t=e.target,n=e.keyCode||e.which,a=(0,i.default)(t).closest("li").next().find(".secondlevel-link"),l=(0,i.default)(t).closest("li").prev().find(".secondlevel-link");window.innerWidth>=o.mobileBreakpoint&&(13===n&&((0,i.default)(t).parent("li").find(".megalinks__thirdlevel").show(),(0,i.default)(t).parent("li").siblings("li").find(".megalinks__thirdlevel").hide()),39===n&&a&&(a.attr("aria-selected","true"),a.focus(),(0,i.default)(t).closest("li").next().siblings("li").find("a").attr("aria-selected","false"),(0,i.default)(t).closest("li").next().find(".megalinks__thirdlevel").show(),(0,i.default)(t).closest("li").next().siblings("li").find(".megalinks__thirdlevel").hide()),37===n&&l&&(l.attr("aria-selected","true"),l.focus(),(0,i.default)(t).closest("li").prev().find(".megalinks__thirdlevel").show(),(0,i.default)(t).closest("li").prev().siblings("li").find(".megalinks__thirdlevel").hide()))},t.prototype.secondLevelMenuOpenInMouseOver=function(e){var t=e.target;this.thirdLevelMouseover(),window.innerWidth>=o.mobileBreakpoint&&this.diagonalTimeouts.push(setTimeout(function(){(0,i.default)(t).closest("li").siblings("li").removeClass("second-level-active-list"),(0,i.default)(".megalinks__thirdlevel").hide(),(0,i.default)(t).closest("li").addClass("second-level-active-list"),(0,i.default)(t).closest("li").find(".megalinks__thirdlevel").show(),(0,i.default)(t).closest("li").removeClass("link-collapsed")},300))},t.prototype.secondLevelMenuCloseInMouseOut=function(e){var t=this;this.thirdLevelMouseover(),window.innerWidth>=o.mobileBreakpoint&&this.diagonalTimeouts.push(setTimeout(function(){(0,i.default)(".megalinks__thirdlevel").hide(),t.$navRoot.find(".megalinks__secondlevel--inner > ul li").removeClass("second-level-active-list"),t.$document.on("mouseover",t.handleSecondLevelMenu)},300))},t.prototype.thirdLevelMouseover=function(e){this.diagonalTimeouts.forEach(function(e){return clearTimeout(e)})},t.prototype.secondLevelHelpMenuLinksOpen=function(e){window.location.href=(0,i.default)(e.target).attr("href")},t.prototype.secondLevelHelpMenuLinksKeyDownOpen=function(e){13===(e.keyCode||e.which)&&(window.location.href=(0,i.default)(e.target).attr("href"))},t.prototype.closeThirdLevelLinks=function(e){var t=e.target,n=this;window.innerWidth>=o.mobileBreakpoint&&((0,i.default)(t).closest(".megalinks__secondlevel").siblings(".megalinks-toplevel").focus(),setTimeout(function(){n.$megalinksChildren.removeClass("active-menu"),n.$megalinksParentList.removeClass("mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked"),(0,i.default)(t).closest("li").removeClass("second-level-active-list"),(0,i.default)(t).closest(".megalinks__secondlevel").siblings(".megalinks-toplevel").attr("aria-expanded","false"),(0,i.default)(t).closest("li").addClass("link-collapsed")},50))},t.prototype.openMobileMenu=function(){this.$navRoot.find(".ekglobal-navigation-megamenu-holder").addClass("menu--opened"),this.$navRoot.find(".mobile-menu-overlay").addClass("overlay--open"),this.$htmlBody.find(".operational-updates").addClass("menu-open"),this.$htmlBody.addClass("noscroll")},t.prototype.closeMobileMenu=function(){this.$navRoot.find(".ek-global-navigation__megalinks").find(".megalinks__secondlevel").css({height:""}),this.$navRoot.find(".ekglobal-navigation-megamenu-holder").removeClass("menu--opened"),this.$htmlBody.removeClass("noscroll"),this.$navRoot.find(".mobile-menu-overlay").removeClass("overlay--open"),this.$htmlBody.find(".operational-updates").removeClass("menu-open"),this.$navRoot.find(".active-menu > .megalinks-toplevel").trigger("click")},t.prototype.showMobileSelector=function(e){this.publish("new-language-selector.show")},t.prototype.adjustStickyNavOnResize=function(){var e=this.$navRoot.find(".ek-global-navigation__megalinks ul > li.active-menu .megalinks__secondlevel");window.innerWidth<=o.mobileBreakpoint?(this.$navRoot.find(".megalinks-list-parent").removeClass("mainnav-link-1--clicked mainnav-link-2--clicked mainnav-link-3--clicked mainnav-link-4--clicked mainnav-link-5--clicked mainnav-link-6--clicked"),this.$navRoot.find(".megalinks-list-parent").children("li").removeClass("active-menu")):((0,i.default)(e).removeClass("secondlevel--sticky"),this.closeMobileMenu())},t.prototype.collapsePopups=function(e){(0,o.collapseAllPopups)(),this.closeMobileMenu()},t.prototype.buildApplicabilityString=function(e,t){var n=["tier"];return e.forEach(function(e){if(e.id)if(n.push(e.option.replace(/\s+/,"")),e.option===s.ACCOUNT_CONSTANTS.BUSINESS_REWARDS)n.push(s.ACCOUNT_CONSTANTS[t]);else{var a=e.status===s.ACCOUNT_CONSTANTS.STATUS.SKYWARDS?s.ACCOUNT_CONSTANTS.STATUS.BLUE:e.status;n.push(a)}}),1==n.length&&n.push("visitor"),n.join(",")},t}(a.default);v.selector=".js-ek-global-navigation",v.events={"click .js-megalinks-toplevel":"megaMenuOpen","touch .js-megalinks-toplevel":"megaMenuOpen","click .js-secondlevel-link":"secondLevelMenuOpen","touch .js-secondlevel-link":"secondLevelMenuOpen","keydown .js-secondlevel-link":"secondLevelMenuOpenInKeyDown","mouseover .js-secondlevel-link":"secondLevelMenuOpenInMouseOver","click .menu-nav-accessibility-skip-link":"skipToMenuEventHandling","click .js-megalinks-secondlevel.no-third-level .js-secondlevel-link":"secondLevelHelpMenuLinksOpen","keydown .js-megalinks-secondlevel.no-third-level .js-secondlevel-link":"secondLevelHelpMenuLinksKeyDownOpen","click .js-thirdlevel-close-btn":"closeThirdLevelLinks","click .js-mobile-open-menu > a":"openMobileMenu","click .js-megalinks-mobile-close-btn > a":"closeMobileMenu","click .js-mobile-menu-overlay":"closeMobileMenu","click .country-selector-mobile":"showMobileSelector","touch .country-selector-mobile":"showMobileSelector","mousedown .ek-global-navigation__inner-container a":"removeLinkFocus","mouseenter .megalinks__thirdlevel":"thirdLevelMouseover"},t.default=v},function(e,t,n){},function(e,t,n){},function(e,t,n){var a=n(9);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(a.default||a).template({1:function(e,t,a,o,l,r,s){var u,c=e.lambda,d=e.escapeExpression,h=null!=t?t:e.nullContext||{};return' <li role="presentation"><a aria-controls="submenu-'+d(c(null!=s[1]?s[1].parentIndex:s[1],t))+"-"+d(c(l&&l.key,t))+'" role="tab" class="js-secondlevel-link secondlevel-link" data-id="header_nav_section" href="'+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.externalLink:u,t))+'" data-submenu="'+d(c(null!=s[1]?s[1].parentIndex:s[1],t))+"-"+d(c(l&&l.key,t))+'" data-link="'+d(c(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.secondLink:u)?u.analytics:u)?u.title:u,t))+'"> '+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.secondLink:u)?u.content:u)?u.title:u,t))+' <span class="secondlevel-mobile-arrow-icon icon icon-chevron-down" aria-hidden="true"></span></a>  <div role="tabpanel" id="submenu-'+d(c(null!=s[1]?s[1].parentIndex:s[1],t))+"-"+d(c(l&&l.key,t))+'" class="megalinks__thirdlevel"><div class="js-megalinks-thirdlevel-inner megalinks__thirdlevel-inner">  <div class="thirdlevel-title-holder" role="heading" aria-level="2"><a class="thirdlevel-title" title="'+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.title:u,t))+'" href="'+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.externalLink:u,t))+' " data-id="header_nav_link" data-link="'+d(c(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.secondLink:u)?u.analytics:u)?u.title:u,t))+":"+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.analytics:u)?u.title:u,t))+'"> '+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.title:u,t))+' </a><span class="arrow-indicator icon icon-chevron-right" aria-hidden="true"></span></div> '+(null!=(u=i(n(644)).call(h,null!=s[1]?s[1].parentContentLinks:s[1],l&&l.key,{name:"nextItemObject",hash:{},fn:e.program(2,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'  <div class="thirdlevel__link-list"> '+(null!=(u=a.each.call(h,i(n(645)).call(h,null!=(u=null!=t?t.content:t)?u.links:u,{name:"create-column-logic",hash:{},data:l}),{name:"each",hash:{},fn:e.program(5,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' </div>  <a class="js-thirdlevel-close-btn thirdlevel-close-btn icon icon-delete-light" href="#"><span class="sr-only">'+d(c(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.title:u,t))+"</span></a></div></div>  </li> "},2:function(e,t,n,a,i){var o;return" "+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=(o=null!=(o=null!=t?t.item:t)?o.content:o)?o.secondLink:o)?o.content:o,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+" "},3:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' <a class="menu-nav-accessibility-skip-link" href=""> '+e.escapeExpression(i(n(29)).call(s,i(n(0)).call(s,"Common/Accessibility/skip-to-sub-menu__text",{name:"resource",hash:{},data:l}),null!=(r=null!=(r=null!=(r=null!=t?t.item:t)?r.content:r)?r.secondLink:r)?r.content:r,{name:"interpolate",hash:{},data:l}))+" </a> "},5:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.unless.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.content:t)?r.headLink:r,{name:"unless",hash:{},fn:e.program(6,i,0,o,l),inverse:e.program(13,i,0,o,l),data:i}))?r:"")+" "},6:function(e,t,n,a,i,o,l){var r;return" "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.content:t)?r.externalLink:r,{name:"if",hash:{},fn:e.program(7,i,0,o,l),inverse:e.noop,data:i}))?r:"")+" "},7:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.escapeExpression,h=e.lambda;return' <ul class="thirdlevel-'+d(i(n(194)).call(c,null!=t?t.menuColumns:t,1,{name:"or",hash:{},data:l}))+'-column"><li role="presentation" class="link-heading"><a data-tcm-id='+d(h(null!=t?t.id:t,t))+' href="'+(null!=(u=h(null!=(u=null!=t?t.content:t)?u.externalLink:u,t))?u:"")+'" '+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(8,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' title="'+d(h(null!=(u=null!=t?t.content:t)?u.title:u,t))+'" data-id="header_nav_link" data-link="'+d(h(null!=(u=null!=(u=null!=(u=null!=s[3]?s[3].content:s[3])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=(u=null!=(u=null!=s[2]?s[2].content:s[2])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.secondLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=t?t.analytics:t)?u.title:u,t))+'"><span>'+d(h(null!=(u=null!=t?t.content:t)?u.title:u,t))+"</span> "+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(11,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' <span class=" arrow-indicator icon icon-chevron-right" aria-hidden="true"></span></a></li></ul> '},8:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' target="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.content:t)?r.target:r,t))+'" '+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=(r=null!=t?t.content:t)?r.externalLink:r,"notStartsWith","/",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(s,null!=(r=null!=t?t.content:t)?r.target:r,"===","_blank",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")+" "},9:function(e,t,n,a,i){return'rel="noreferrer" '},11:function(e,t,a,o,l){var r;return' <span class="external-indicator icon icon-external-link" aria-hidden="true"></span><span class="sr-only">'+(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"Navigation/Footer/external-link__text",{name:"resource",hash:{},data:l}))?r:"")+"</span> "},13:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.escapeExpression,h=e.lambda;return' <div class="thirdlevel-'+d(i(n(194)).call(c,null!=t?t.menuColumns:t,1,{name:"or",hash:{},data:l}))+'-column"><a data-tcm-id='+d(h(null!=t?t.id:t,t))+' class="third-level-mobile-heading" title="'+d(h(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.title:u,t))+'" href="'+(null!=(u=h(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.externalLink:u,t))?u:"")+'" data-id="header_nav_link" data-link="'+d(h(null!=(u=null!=(u=null!=(u=null!=s[2]?s[2].content:s[2])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.secondLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+d(h(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.analytics:u)?u.title:u,t))+'"><div class="mobile-heading-content-holder" role="heading" aria-level="3"><span>'+d(h(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.title:u,t))+'</span><span class="arrow-indicator icon icon-chevron-right" aria-hidden="true"></div></span></a><ul class="thirdlevel-'+d(i(n(194)).call(c,null!=t?t.menuColumns:t,1,{name:"or",hash:{},data:l}))+'-column"> '+(null!=(u=a.if.call(c,null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.content:u)?u.externalLink:u,{name:"if",hash:{},fn:e.program(14,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.each.call(c,null!=(u=null!=t?t.content:t)?u.links:u,{name:"each",hash:{},fn:e.program(28,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" </ul></div> "},14:function(e,t,n,a,i,o,l){var r,s=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{};return' <li role="presentation" class="link-heading" style="order: -1;"><a data-tcm-id='+u(s(null!=t?t.id:t,t))+' href="'+u(s(null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.externalLink:r,t))+'" '+(null!=(r=n.if.call(c,null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.target:r,{name:"if",hash:{},fn:e.program(15,i,0,o,l),inverse:e.noop,data:i}))?r:"")+' aria-label="'+(null!=(r=n.if.call(c,null!=(r=null!=t?t.content:t)?r.target:r,{name:"if",hash:{},fn:e.program(18,i,0,o,l),inverse:e.program(20,i,0,o,l),data:i}))?r:"")+'" title="'+u(s(null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.title:r,t))+'" data-id="header_nav_link" data-link="'+u(s(null!=(r=null!=(r=null!=(r=null!=l[2]?l[2].content:l[2])?r.headLink:r)?r.analytics:r)?r.title:r,t))+":"+u(s(null!=(r=null!=(r=null!=(r=null!=l[1]?l[1].content:l[1])?r.secondLink:r)?r.analytics:r)?r.title:r,t))+":"+u(s(null!=(r=null!=(r=null!=(r=null!=l[1]?l[1].content:l[1])?r.headLink:r)?r.analytics:r)?r.title:r,t))+":"+u(s(null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.analytics:r)?r.title:r,t))+'"><span class="no-underline '+(null!=(r=n.if.call(c,null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.target:r,{name:"if",hash:{},fn:e.program(22,i,0,o,l),inverse:e.program(24,i,0,o,l),data:i}))?r:"")+'"><i class="thirdlevel__menu-link">'+u(s(null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.title:r,t))+"</i>"+(null!=(r=n.if.call(c,null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.target:r,{name:"if",hash:{},fn:e.program(26,i,0,o,l),inverse:e.noop,data:i}))?r:"")+'<span aria-hidden="true" class="arrow-indicator icon icon-chevron-right"></span></span></a></li> '},15:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' target="'+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.target:r,t))+'" '+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.externalLink:r,"notStartsWith","/",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(s,null!=(r=null!=(r=null!=(r=null!=t?t.content:t)?r.headLink:r)?r.content:r)?r.target:r,"===","_blank",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?r:"")+" "},16:function(e,t,n,a,i){return' rel="noreferrer" '},18:function(e,t,a,o,l){var r;return(null!=(r=i(n(0)).call(null!=t?t:e.nullContext||{},"Navigation/Footer/external-link__text",{name:"resource",hash:{},data:l}))?r:"")+" "},20:function(e,t,n,a,i){var o;return" "+e.escapeExpression(e.lambda(null!=(o=null!=(o=null!=(o=null!=t?t.content:t)?o.headLink:o)?o.content:o)?o.title:o,t))+" "},22:function(e,t,n,a,i){return"external-link"},24:function(e,t,n,a,i){return"no-external-link"},26:function(e,t,n,a,i){return'<span class="external-indicator icon icon-external-link" aria-hidden="true"></span>'},28:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.lambda,h=e.escapeExpression;return" <li "+(null!=(u=a.if.call(c,null!=t?t.menuOrder:t,{name:"if",hash:{},fn:e.program(29,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.if.call(c,l&&l.first,{name:"if",hash:{},fn:e.program(31,l,0,r,s),inverse:e.noop,data:l}))?u:"")+" "+(null!=(u=a.if.call(c,l&&l.last,{name:"if",hash:{},fn:e.program(33,l,0,r,s),inverse:e.noop,data:l}))?u:"")+"><a data-tcm-id="+h(d(null!=t?t.id:t,t))+' href="'+(null!=(u=i(n(72)).call(c,null!=(u=null!=t?t.content:t)?u.externalLink:u,"[^]*transfer[.]aspx[?]pageurl=[/]account[/][^]*[/]login[/]login[^]*",(u=(u=l&&l.root)&&u.session)&&u.loginUrl,{name:"replace",hash:{regex:1},data:l}))?u:"")+'" '+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(35,l,0,r,s),inverse:e.noop,data:l}))?u:"")+' aria-label="'+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(18,l,0,r,s),inverse:e.program(37,l,0,r,s),data:l}))?u:"")+'" title="'+h(d(null!=(u=null!=t?t.content:t)?u.title:u,t))+'" data-id="'+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(39,l,0,r,s),inverse:e.program(41,l,0,r,s),data:l}))?u:"")+'" data-link="'+h(d(null!=(u=null!=(u=null!=(u=null!=s[3]?s[3].content:s[3])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+h(d(null!=(u=null!=(u=null!=(u=null!=s[2]?s[2].content:s[2])?u.secondLink:u)?u.analytics:u)?u.title:u,t))+":"+h(d(null!=(u=null!=(u=null!=(u=null!=s[2]?s[2].content:s[2])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+h(d(null!=(u=null!=(u=null!=(u=null!=s[1]?s[1].content:s[1])?u.headLink:u)?u.analytics:u)?u.title:u,t))+":"+h(d(null!=(u=null!=t?t.analytics:t)?u.title:u,t))+'"><span class="no-underline '+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(22,l,0,r,s),inverse:e.program(24,l,0,r,s),data:l}))?u:"")+'"><i class="thirdlevel__menu-link">'+h(d(null!=(u=null!=t?t.content:t)?u.title:u,t))+"</i>"+(null!=(u=a.if.call(c,null!=(u=null!=t?t.content:t)?u.target:u,{name:"if",hash:{},fn:e.program(26,l,0,r,s),inverse:e.noop,data:l}))?u:"")+'<span aria-hidden="true" class="arrow-indicator icon icon-chevron-right"></span></span></a></li> '},29:function(e,t,n,a,i){return' style="order: '+e.escapeExpression(e.lambda(null!=t?t.menuOrder:t,t))+';" '},31:function(e,t,n,a,i){return' class="thirdlevel__firstlink" '},33:function(e,t,n,a,i){return' class="thirdlevel__lastlink" '},35:function(e,t,a,o,l){var r,s=null!=t?t:e.nullContext||{};return' target="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.content:t)?r.target:r,t))+'" '+(null!=(r=i(n(1)).call(s,i(n(1)).call(s,null!=(r=null!=t?t.content:t)?r.externalLink:r,"notStartsWith","/",{name:"op",hash:{},data:l}),"&&",i(n(1)).call(s,null!=(r=null!=t?t.content:t)?r.target:r,"===","_blank",{name:"op",hash:{},data:l}),{name:"op",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l}))?r:"")+" "},37:function(e,t,n,a,i){var o;return" "+e.escapeExpression(e.lambda(null!=(o=null!=t?t.content:t)?o.title:o,t))+" "},39:function(e,t,n,a,i){return"header_nav_ext_link"},41:function(e,t,n,a,i){return"header_nav_link"},43:function(e,t,n,a,i,o){var l;return null!=(l=e.lambda(null!=(l=o[0][0])?l.url:l,t))?l:""},compiler:[7,">= 4.0.0"],main:function(e,t,a,o,l,r,s){var u,c=null!=t?t:e.nullContext||{},d=e.escapeExpression;return' <div class="js-megalinks__secondlevel megalinks__secondlevel"><div class="megalinks__secondlevel--inner"><ul role="tablist"> '+d(i(n(6)).call(c,"parentContentLinks",null!=(u=null!=t?t.content:t)?u.links:u,{name:"var",hash:{},data:l,blockParams:r}))+" "+(null!=(u=a.each.call(c,null!=(u=null!=t?t.content:t)?u.links:u,{name:"each",hash:{},fn:e.program(1,l,0,r,s),inverse:e.noop,data:l,blockParams:r}))?u:"")+' <li role="presentation" class="secondlevel-searchflight-list"><a href="'+(null!=(u=a.with.call(c,i(n(0)).call(c,"BookManage/search-flight/search__url",{name:"resource",hash:{},data:l,blockParams:r}),{name:"with",hash:{},fn:e.program(43,l,1,r,s),inverse:e.noop,data:l,blockParams:r}))?u:"")+'" data-id="header_nav_cta" data-link="'+d(e.lambda(null!=(u=null!=(u=null!=(u=null!=t?t.content:t)?u.headLink:u)?u.analytics:u)?u.title:u,t))+':Search flights" class="secondlevel-searchflight-btn"> '+(null!=(u=i(n(0)).call(c,"BookManage/search-flight/search__text",{name:"resource",hash:{},data:l,blockParams:r}))?u:"")+" </a></li></ul></div></div> "},useData:!0,useDepths:!0,useBlockParams:!0})},function(e,t,n){"use strict";e.exports=function(e,t,n){var a=t+1;return t<e.length?n.fn({item:e[a],index:a}):null}},function(e,t,n){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length,n=0,a=0,i=0;if(t&&t<=3)switch(t>=1&&e[0].content&&e[0].content.links&&(n=e[0].content.links.length),t>=2&&e[1].content&&e[1].content.links&&(a=e[1].content.links.length),t>=3&&e[2].content&&e[2].content.links&&(i=e[2].content.links.length),t){case 1:n>2&&n<=5&&(e[0].menuColumns=2),n>5&&n<8&&(e[0].menuColumns=3),n>=8&&(e[0].menuColumns=4);break;case 2:n>=0&&n<5&&a>=0&&a<5&&(n===a&&(e[0].menuColumns=2,e[1].menuColumns=2),n>=2&&n>a&&(e[0].menuColumns=2),a>=2&&a>n&&(e[1].menuColumns=2)),n>5&&a<=2&&(e[0].menuColumns=3),n<=2&&a>5&&(e[1].menuColumns=3),n>=2&&n<=5&&a>=2&&a<=5&&(n===a&&(e[0].menuColumns=2,e[1].menuColumns=2),n>a&&(e[0].menuColumns=2),n<a&&(e[1].menuColumns=2)),n>=5&&a<=2&&(e[0].menuColumns=2),n<=2&&a>=5&&(e[1].menuColumns=3),n>5&&a<=5&&(e[0].menuColumns=3),n<=5&&a>5&&(e[1].menuColumns=3),n>5&&a>5&&(n===a&&(e[0].menuColumns=2,e[1].menuColumns=2),n>a&&(e[0].menuColumns=3),n<a&&(e[1].menuColumns=3));break;case 3:n===a&&a===i&&(e[2].menuColumns=2),n>a&&n>i&&(e[0].menuColumns=2),a>n&&a>i&&(e[1].menuColumns=2),i>n&&i>a&&(e[2].menuColumns=2),n===a&&n>i&&a>i&&(e[1].menuColumns=2),a===i&&a>n&&i>n&&(e[2].menuColumns=2)}return function(e){for(var t=0;t<e.length;t++)if(e[t].menuColumns&&1!==e[t].menuColumns){for(var n=e[t].menuColumns,a=e[t].content.links||[],i=a.length,o=[],l=[],r=Math.trunc(i/n),s=i%n,u=0;u<i;u+=r)0===s&&o.push(a.slice(u,u+r)),s>=1&&(o.push(a.slice(u,u+r+1)),u+=1,--s);for(var c=0;c<o.length;c++)for(var d=0;d<o[c].length;d++)o[c][d].menuOrder=0===c?0===d?1:o[c][d-1].menuOrder+n:o[c-1][d].menuOrder+1,l.push(o[c][d]);e[t].content.links=l}return e}(e)},Math.trunc=Math.trunc||function(e){return isNaN(e)?NaN:e>0?Math.floor(e):Math.ceil(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(647),n(648),n(649);var a=o(n(4)),i=o(n(3));n(5);function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return i.createCarousel(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.createCarousel=function(){var e="rtl"===(0,i.default)("html").attr("dir");this.$el.find(".js-mobile-experience").not(".slick-initialized").slick({swipeToSlide:!e,draggable:!1,infinite:!1,speed:300,slidesToShow:1,slidesToScroll:1,variableWidth:!0,arrows:!1,swipe:!0,useCSS:!0,rtl:e,useTransform:!1})},t}(a.default);l.selector=".experience-block",t.default=l},function(e,t,n){},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(4)),i=o(n(651));function o(e){return e&&e.__esModule?e:{default:e}}n(658);var l=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return new i.default({title:__EK__.resources["Common/ios-smart-banner/appstore-title__text"],author:__EK__.resources["Common/ios-smart-banner/appstore-author__text"],button:__EK__.resources["Common/ios-smart-banner/appstore-button__text"],store:{ios:__EK__.resources["Common/ios-smart-banner/appstore-store-ios__text"],android:__EK__.resources["Common/ios-smart-banner/appstore-store-android__text"],windows:__EK__.resources["Common/ios-smart-banner/appstore-store-windows__text"]},price:{ios:__EK__.resources["Common/ios-smart-banner/appstore-price-ios__text"],android:__EK__.resources["Common/ios-smart-banner/appstore-price-android__text"],windows:__EK__.resources["Common/ios-smart-banner/appstore-price-windows__text"]},theme:"ios",show:function(){return o.publish("smart.banner.open",{from:"SMART_BANNER"})},close:function(){return o.publish("smart.banner.close",{from:"SMART_BANNER"})}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);l.selector="body",t.default=l},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(660);var a=i(n(4));i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.closeWeChatStickyContainer=function(){this.$el.hide()},t}(a.default);o.selector=".sticky-wechat-qr",o.events={"click .sticky-wechat-qr--closebtn a":"closeWeChatStickyContainer"},t.default=o},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(4)),i=l(n(3)),o=l(n(44));function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=r(this,e.call(this,n,a));if(a=(0,i.default)(l.$el),!(0,o.default)(document.cookie,"SSOCallIframe=1"))return a.remove(),r(l);var s=a[0].getAttribute("data-ref-token"),u=a[0].getAttribute("data-src");return n=n.el,window.addEventListener("message",function(e){switch(e.data){case"close-iframe":a.remove();break;case"load-iframe":n.contentWindow.postMessage("refToken:"+s,"*")}},!1),a.attr("src",u),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);s.selector="iframe[name='session-iframe']",t.default=s},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(4));n(664);var i=s(n(3)),o=s(n(23)),l=s(n(41)),r=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return l.options={setDestinationHeightDebounceDelay:500},l.$window=(0,i.default)(window),l.setDestinationHeight(l.$window.width(),0),l.$window.resize((0,o.default)(function(){return l.setDestinationHeight(l.$window.width(),0)},l.options.setDestinationHeightDebounceDelay)),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setDestinationHeight=function(e,t){var n=(0,r.getBreakpoint)("medium"),a=this.$el.find(".js-city-card-details-wrapper");if(a.height(""),e>n){var o=(0,l.default)(a,function(e,t){var n=(0,i.default)(t).height();return n>e?n:e},t);a.height(o)}},t}(a.default);u.selector=".js-featured-destinations",t.default=u},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(4));n(666);var i=p(n(3)),o=p(n(23)),l=p(n(41)),r=p(n(44)),s=n(11),u=n(5),c=p(n(97)),d=p(n(667)),h=n(134);function p(e){return e&&e.__esModule?e:{default:e}}var f="EK:",m=window.__EK__.urlparser.country+":featured-fares",g=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));l.options={setFareHeightDebounceDelay:500},l.$window=(0,i.default)(window),l.$jsOffHeading=l.$el.find(".js-ff-heading-v2"),l.defaultAirport=null,l.store=new c.default({prefix:f,type:c.default.getStorageTypes().LOCAL_STORAGE});var r=l.$el.find(".featured-fares__list");return r.length>0&&(l.featuredFaresGrid=r[0],l.defaultAirport=l.featuredFaresGrid.getAttribute("data-default-airport")),Promise.all([(0,s.getAirports)(),(0,s.getClosestOrigin)(h.FF_MODULE_KEY).catch(function(){return[]})]).then(function(e){var t=e[0].airportsByIataCode,n=e[1];l.setup(t,n.iataCode),l.initialize(t)}),l.formatFaresForTerms(),l.setFareHeight(),l.$window.resize((0,o.default)(function(){return l.setFareHeight()},l.options.setFareHeightDebounceDelay)),l.bindImagesLoadListener(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.bindImagesLoadListener=function(){var e=this;this.$el.find(".js-ff-card-img").on("load",function(){return e.refreshIsotopeLayout()})},t.prototype.setup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.$el.find(".featured-fares__list-item");if(0!==n.length){this.filterAirports(n);var a=null;t&&this.isFeaturedFaresAvailable(t)&&(a=t);var o=this.$el.find(".js-dropdown-select-item"),l=void 0;if(0===o.length?this.$jsOffHeading.remove():(this.injectAirportDetails(e),l=o.first().data("dropdown-id"),1===o.length&&(this.$el.find(".js-ff-label-last-v2").html(o.data("dropdownDisplay")),this.$el.find(".featured-fares__destination__locations").remove())),this.featuredFaresGrid)this.defaultAirport=a||this.defaultAirport,0===this.$el.find('[data-departure="'+this.defaultAirport+'"]').length&&(this.defaultAirport=l||this.defaultAirport),this.publish("featuredFaresCity.select",{airportsByIataCode:e,iataCode:this.defaultAirport}),this.initializeIsotope(),this.updateFares(null,this.defaultAirport)}else(0,i.default)(this.$el).remove()},t.prototype.initialize=function(e){var t=this.store.get(m);if(t)for(var n=this.$el.find(".js-dropdown-select-item"),a=0;a<n.length;a++)if(t===(0,i.default)(n[a]).data("dropdownId")){this.publish("featuredFaresCity.select",{airportsByIataCode:e,iataCode:t}),this.updateFares(null,t);break}},t.prototype.initializeIsotope=function(){var e="rtl"===(0,i.default)("html").attr("dir");this.isotope=new d.default(".featured-fares__list",{filter:'[data-departure="'+this.defaultAirport+'"]',itemSelector:".featured-fares__list-item",layoutMode:"fitRows",originLeft:!e})},t.prototype.isFeaturedFaresAvailable=function(e){var t=this.$el.find(".js-dropdown-select-item").map(function(e,t){return(0,i.default)(t).data("dropdownId")}).get();return(0,r.default)(t,e)},t.prototype.filterAirports=function(e){for(var t=this.$el.find(".js-dropdown-select-item"),n=0;n<t.length;n++)(0,i.default)(e).filter('[data-departure="'+(0,i.default)(t[n]).data("dropdownId")+'"]').length<2&&(0,i.default)(t[n]).remove()},t.prototype.injectAirportDetails=function(e){this.$el.find(".js-dropdown-select-item").each(function(t,n){var a=(0,i.default)(n).data("dropdownId"),o=e[a];o&&((0,i.default)(n).find(".js-airport-name").text(o.longName),(0,i.default)(n).find(".js-airport-city").wrapInner("<span>").append(", "+o.country.shortName),(0,i.default)(n).find(".js-select-body").attr("aria-label",o.longName+" ("+a+"), "+o.shortName+", "+o.country.shortName))})},t.prototype.updateAccessibilityTags=function(e){var t=e.find("a.cta--destinations");if(t&&t.length){var n=t[0].getAttribute("aria-label").split("from"),a=t.find(".cta__text")&&t.find(".cta__text").text();n[1]=a,t[0].setAttribute("aria-label",n.join("from "));var i=e.find(".should-expand-collapse-announce").length?e.find(".should-expand-collapse-announce")[0]:null;i&&i.hasAttribute("aria-live")&&i.setAttribute("aria-label",""),setTimeout(function(){if(i&&i.hasAttribute("aria-live")){var e=window.__EK__.resources&&window.__EK__.resources["Common/Accessibility/collapsed__text"]?window.__EK__.resources["Common/Accessibility/collapsed__text"]:"";i.setAttribute("aria-label",e)}},0)}},t.prototype.updateFares=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.unlockBody(),t||(t=e.currentTarget.getAttribute("data-dropdown-id")),this.store.set(m,t),this.isotope.arrange({filter:'[data-departure="'+t+'"]'}),this.refreshIsotopeLayout(),this.updateAccessibilityTags(this.$el)},t.prototype.refreshIsotopeLayout=function(){if(this.featuredFaresGrid&&this.isotope){var e=this.isotope.getFilteredItemElements();5===e.length&&this.isotope.remove(e[e.length-1]),this.isotope.layout()}},t.prototype.formatFaresForTerms=function(){var e=__EK__.resources["BookManage/Featured-Fares/terms-conditions-display__text"];e&&"false"===e&&this.$el.find(".featured-fares__list-item").each(function(e,t){var n=(0,i.default)(t).find(".city-card__price"),a=n.text();n.text(a.replace("*",""))})},t.prototype.unlockBody=function(){(0,u.lockBody)(!1)},t.prototype.setFareHeight=function(){var e=(0,u.getBreakpoint)("medium"),t=this.$el.find(".js-city-card-details-wrapper");if(t.height(""),this.$window.width()>e){var n=(0,l.default)(t,function(e,t){var n=(0,i.default)(t).height();return n>e?n:e},0);t.height(n)}},t}(a.default);g.selector=".js-featured-fares-v2",g.events={"click .js-dropdown-select-item":"updateFares","click .js-dropdown-back":"unlockBody"},t.default=g},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(675);var a=l(n(4)),i=n(50),o=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));l.$el=l.$el||a;var r=l.$el&&l.$el.find(".market-promo-item__cta"),s=l.$el&&l.$el.attr("data-tcm-id"),u=(0,o.default)(window,"__EK__.env.EK_BARCLAYS_CONFIG");if(u){var c=s&&(0,i.getReferrerId)(JSON.parse(u),s.split("-")[1]);c&&c.length>0&&r.attr("href",r.attr("href")+"?referrerid="+c)}return l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);r.selector=".js-promo-block",t.default=r},function(e,t,n){},function(e,t,n){"use strict";n(677)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(679);var a,i=n(4),o=(a=i)&&a.__esModule?a:{default:a},l=n(5),r=n(133),s=n(13),u=n(50);var c=n(2),d=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));i.$el=i.$el||a,i.$el.find(".video").length&&((0,r.loadStyle)(__EK__.videojsPaths["video.css"]),(0,l.loadScript)(__EK__.videojsPaths["video.js"]));var o=i.$el&&i.$el.find(".hero__cta"),d=o&&o.attr("data-link"),h=i.$el&&i.$el.attr("analytic-text"),p=i.$el&&i.$el.attr("data-tcm-id"),f=c(window,"__EK__.env.EK_BARCLAYS_CONFIG"),m=c(window,"__EK__.env.EK_BARCLAYS_PROMOSHOW_ENABLED",!1);if(f){var g=p&&(0,u.getReferrerId)(JSON.parse(f),p.split("-")[1]);g&&g.length>0&&o.attr("href",o.attr("href")+"?referrerid="+g),m&&(0,u.getConfigServerData)(p,f).then(function(e){if(Object.keys(e).length>0){var t=c(e,"category")+":"+(h||"")+"|"+c(e,"tcmId")+"_n/a|"+d+"|"+c(e,"details.location")+"~"+c(e,"details.slot");(0,s.promoShowEvent)({label:t})}})}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.widgetOpen=function(){this.$el.addClass("widget-open")},t.prototype.widgetClose=function(){this.$el.removeClass("widget-open")},t}(o.default);d.selector=".js-hero",d.events={"widget.open":"widgetOpen","widget.close":"widgetClose"},t.default=d},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(681);var a=l(n(4)),i=n(50),o=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));l.$el=l.$el||a;var r=l.$el&&l.$el.find(".market-promo-item__cta"),s=l.$el&&l.$el.attr("data-tcm-id"),u=(0,o.default)(window,"__EK__.env.EK_BARCLAYS_CONFIG");if(u){var c=s&&(0,i.getReferrerId)(JSON.parse(u),s.split("-")[1]);c&&c.length>0&&r.attr("href",r.attr("href")+"?referrerid="+c)}return l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default);r.selector=".js-h-o-c008-promo-block",t.default=r},function(e,t,n){},function(e,t,n){"use strict";n(683)},function(e,t,n){}],[[310,0,2,1]]]);